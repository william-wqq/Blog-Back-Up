{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"themes/yilia/source/main.266c1c.css","path":"main.266c1c.css","modified":0,"renderable":1},{"_id":"themes/yilia/source/slider.096dc6.js","path":"slider.096dc6.js","modified":0,"renderable":1},{"_id":"themes/yilia/source/main.266c1c.js","path":"main.266c1c.js","modified":0,"renderable":1},{"_id":"source/assets/img/favicon.ico","path":"assets/img/favicon.ico","modified":0,"renderable":0},{"_id":"source/assets/img/empty.png","path":"assets/img/empty.png","modified":0,"renderable":0},{"_id":"source/assets/img/william.png","path":"assets/img/william.png","modified":0,"renderable":0},{"_id":"source/assets/ins-min/BUlWsL0F5kE.min.jpg","path":"assets/ins-min/BUlWsL0F5kE.min.jpg","modified":0,"renderable":0},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":0,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","path":"fonts/iconfont.45d7ee.svg","modified":0,"renderable":1},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":0,"renderable":1},{"_id":"themes/yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":0,"renderable":1},{"_id":"themes/yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":0,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","path":"fonts/iconfont.16acc2.ttf","modified":0,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","path":"fonts/iconfont.b322fa.eot","modified":0,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","path":"fonts/iconfont.8c627f.woff","modified":0,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":0,"renderable":1},{"_id":"source/assets/ins/BUlWsL0F5kE.jpg","path":"assets/ins/BUlWsL0F5kE.jpg","modified":0,"renderable":0},{"_id":"themes/yilia/source/mobile.906508.js","path":"mobile.906508.js","modified":0,"renderable":1},{"_id":"source/assets/dist/img/bg.png","path":"assets/dist/img/bg.png","modified":0,"renderable":0},{"_id":"source/assets/dist/img/default-skin.png","path":"assets/dist/img/default-skin.png","modified":0,"renderable":0},{"_id":"source/assets/dist/img/preloader.gif","path":"assets/dist/img/preloader.gif","modified":0,"renderable":0},{"_id":"source/assets/src/fonts/icomoon.eot","path":"assets/src/fonts/icomoon.eot","modified":0,"renderable":0},{"_id":"source/assets/src/fonts/icomoon.woff","path":"assets/src/fonts/icomoon.woff","modified":0,"renderable":0},{"_id":"source/assets/src/img/bg.png","path":"assets/src/img/bg.png","modified":0,"renderable":0},{"_id":"source/assets/src/fonts/icomoon.ttf","path":"assets/src/fonts/icomoon.ttf","modified":0,"renderable":0},{"_id":"source/assets/src/fonts/icomoon.svg","path":"assets/src/fonts/icomoon.svg","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/laibili_plug.png","path":"assets/article_img/2017/07/laibili_plug.png","modified":0,"renderable":0},{"_id":"source/assets/src/photoSwipe/default-skin/default-skin.png","path":"assets/src/photoSwipe/default-skin/default-skin.png","modified":0,"renderable":0},{"_id":"source/assets/src/photoSwipe/default-skin/default-skin.svg","path":"assets/src/photoSwipe/default-skin/default-skin.svg","modified":0,"renderable":0},{"_id":"source/assets/src/photoSwipe/default-skin/preloader.gif","path":"assets/src/photoSwipe/default-skin/preloader.gif","modified":0,"renderable":0},{"_id":"source/assets/img/w.ico","path":"assets/img/w.ico","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/create_new_repo.png","path":"assets/article_img/2017/07/create_new_repo.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/deploy_success_index.png","path":"assets/article_img/2017/07/deploy_success_index.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/read_num.png","path":"assets/article_img/2017/07/read_num.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/laibili_code.png","path":"assets/article_img/2017/07/laibili_code.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/init_list.png","path":"assets/article_img/2017/07/init_list.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/repo_url.png","path":"assets/article_img/2017/07/repo_url.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/visit_num.png","path":"assets/article_img/2017/07/visit_num.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/new_repo.png","path":"assets/article_img/2017/07/new_repo.png","modified":0,"renderable":0},{"_id":"source/assets/article_img/2017/07/hexo_index.png","path":"assets/article_img/2017/07/hexo_index.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"1d962de263a4e7ca05f5cfb7ed36c910c9f5cf8d","modified":1501116431553},{"_id":"themes/yilia/.babelrc","hash":"db600d40e93e6d8023737a65d58d3be7370e5e30","modified":1500884098111},{"_id":"themes/yilia/.editorconfig","hash":"daaa8757fac18f8735fadd0a37a42c06f421ca14","modified":1500884098114},{"_id":"themes/yilia/.eslintignore","hash":"ed9d8911ca08c3dd5072c48dd0be4d06f8897730","modified":1500884098116},{"_id":"themes/yilia/.gitattributes","hash":"758cfbecfa7919e99abddf3297f37cde7e3d8d4e","modified":1500884098120},{"_id":"themes/yilia/.eslintrc.js","hash":"303d25adf02ad65720e537a16a4a137d14bb755f","modified":1500884098117},{"_id":"themes/yilia/package.json","hash":"ee6aa61f1cb89fd549e3e087c0232207a9c9ee30","modified":1500884098245},{"_id":"themes/yilia/.gitignore","hash":"d5fc575329853ff620b50fc62ad4b18fa09a308a","modified":1500884098123},{"_id":"themes/yilia/README.md","hash":"86757b00d393bd4956a252d92a469f11f2ae8914","modified":1500884098126},{"_id":"source/photos/index.ejs","hash":"43ed7fd2b5098df5f3289fe2e75ba7457e2e111b","modified":1502184522749},{"_id":"themes/yilia/webpack.config.js","hash":"da7657347109ddb4ab8602b219778117254677fe","modified":1500884098436},{"_id":"themes/yilia/_config.yml","hash":"ccf68f9c8e6be358595288649ff5cdb01f7b7f26","modified":1501547748760},{"_id":"source/photos/ins.css","hash":"96d7cf1df71214c1ad2d5cda374b3868e6240bd2","modified":1500967075163},{"_id":"source/_posts/quick-build-blog.md","hash":"461f44ed38f3bd5f27298443b1347f1f14fd5ee9","modified":1501466320069},{"_id":"source/photos/ins.json","hash":"672bf316ceffb439c813edc63306240156180f73","modified":1500974002723},{"_id":"source/photos/lazyload.min.js","hash":"3dc25abfab48205c564c515494d14b787d63bda3","modified":1500969089740},{"_id":"source/page/index.md","hash":"52b8ebcd987e8e537372c7e89704aafe8c4e5b9a","modified":1501056427695},{"_id":"themes/yilia/.git/FETCH_HEAD","hash":"28b7c6cb1cdb1f7b912dfc6e802ff7196eb222be","modified":1500884195302},{"_id":"themes/yilia/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1500884098047},{"_id":"themes/yilia/.git/config","hash":"3d07af1e934d28d4ab514d976cc55125a67c5460","modified":1500884098095},{"_id":"themes/yilia/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1500883019435},{"_id":"source/gallery/index.ejs","hash":"42341ca51974f9c5a762d18ca1cbdc067743c5d3","modified":1501494583099},{"_id":"themes/yilia/.git/packed-refs","hash":"4dc64835d90ebd62d3df9c760251d3ee4fe50711","modified":1500884098027},{"_id":"themes/yilia/source-src/css.ejs","hash":"cf7eab48d626433120d1ef9697f719a359817018","modified":1500884098248},{"_id":"themes/yilia/.git/index","hash":"8d6fd50fd31e4f17073d71b5ce3e6bbab06ae9d1","modified":1501121241114},{"_id":"source/photos/videos.ejs","hash":"eb7521cf3fd78231b3d838d00c7677ca631c0bc7","modified":1502184667468},{"_id":"source/photos/ins.js","hash":"0d6baed417f9fcac540347f2f76387a482d0f243","modified":1501470272592},{"_id":"themes/yilia/source-src/script.ejs","hash":"28abac2426761d7e715b38aadd86ce6549c8ae77","modified":1500884098393},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1500884098226},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1500884098229},{"_id":"themes/yilia/layout/index.ejs","hash":"ec498c6c0606acde997ce195dad97b267418d980","modified":1500884098231},{"_id":"themes/yilia/source/main.266c1c.css","hash":"b0529e8f32abba294974be5e4f4a57ac09ad7280","modified":1501045915619},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1500884098236},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1500884098240},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1500884098242},{"_id":"themes/yilia/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1500884098132},{"_id":"themes/yilia/languages/fr.yml","hash":"b4be1c1592a72012e48df2b3ec41cc9685573e50","modified":1500884098134},{"_id":"themes/yilia/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1500884098136},{"_id":"themes/yilia/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1500884098138},{"_id":"themes/yilia/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1500884098141},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"b057f389c6713010f97d461e48ec959b0b6f3b44","modified":1500884098144},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1500884098146},{"_id":"themes/yilia/source/slider.096dc6.js","hash":"25e34d09ead8cabd34d777997c4b1f073918f6cf","modified":1500884098433},{"_id":"themes/yilia/source/main.266c1c.js","hash":"42f38b932426a0bd24a41343a75f8517ca00e8eb","modified":1500884098426},{"_id":"themes/yilia/layout/layout.ejs","hash":"b471ab706d48e0be3f783eab1c94bf5878ef5a94","modified":1500884098234},{"_id":"themes/yilia/layout/_partial/toc.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1500884098219},{"_id":"source/assets/img/favicon.ico","hash":"6c2ac3e1c4f34b8ff5540884db515e539cf730b6","modified":1501042540121},{"_id":"source/assets/img/empty.png","hash":"e88177c88f6b7219a3474da7d210965a6dbb57d7","modified":1501042540121},{"_id":"themes/yilia/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1500883019460},{"_id":"themes/yilia/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1500883019474},{"_id":"themes/yilia/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1500883019477},{"_id":"themes/yilia/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1500883019469},{"_id":"themes/yilia/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1500883019495},{"_id":"themes/yilia/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1500883019480},{"_id":"themes/yilia/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1500883019507},{"_id":"source/assets/img/william.png","hash":"166cc3c0f742c45f29573afa3a4fb85e77d660a0","modified":1501042540137},{"_id":"themes/yilia/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1500883019502},{"_id":"themes/yilia/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1500883019523},{"_id":"themes/yilia/.git/logs/HEAD","hash":"9df8cfbfc2275c4d0b5e0ab290184db297158c0f","modified":1500884098059},{"_id":"themes/yilia/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1500883019510},{"_id":"source/assets/src/lazyload.js","hash":"cbd82937207d1f89f5dc0beb616dc377b56332d4","modified":1501471605608},{"_id":"source/assets/src/main.js","hash":"77e94264f1349c9fe08dcd149810b1a3dabaec5a","modified":1501471605608},{"_id":"source/assets/src/swipe.init.js","hash":"5b07b2749b31caf4b46af4505bdeb806a32e65f8","modified":1501471605616},{"_id":"source/assets/src/theme.css","hash":"14e8f61901b5abf67c8a0c78e1b05a076a95dbaa","modified":1501471605618},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"29ba600e98ed55f7af4ade8038272c84cba21188","modified":1500884098253},{"_id":"themes/yilia/assets/img/william.png","hash":"579b5365f6d38d6663ebc2f71f09b883397a6435","modified":1500890684502},{"_id":"source/assets/ins-min/BUlWsL0F5kE.min.jpg","hash":"853013f841d816d56c7873faf3d880fde1211027","modified":1500970342489},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"ce227b6f5a9af194fd5d455200630f32c05e151f","modified":1500884098254},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"d6a7dd88404b383b5b94e4c7ec675a410c41f3cc","modified":1500884098257},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"8f82fe898ba1c1bd00c24a7d8270feddc7eba3bc","modified":1500884098265},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"f7388f5c11370ef462f7cb913d8f72edf24ecaf9","modified":1500884098259},{"_id":"themes/yilia/source-src/css/article.scss","hash":"55d082fec4c6bb341725567acaa29ce37d50320a","modified":1500884098268},{"_id":"themes/yilia/source-src/css/comment.scss","hash":"2d1c70bb606c0d87e4f68ec2e600e08b27f32b99","modified":1500884098273},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7ca837a4cc34db1c35f01baec85eb10ccc64ea86","modified":1500884098305},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"1577a2336b3ad122f49f60dff2bc1a97d4e7b18b","modified":1500884098262},{"_id":"themes/yilia/source-src/css/aside.scss","hash":"07244c188f58ecfb90bb7c047b8cde977f1dc4b4","modified":1500884098270},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1500884098308},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"96d7eb1d42c06fdcccb8ef969f6ecd30c3194903","modified":1500884098290},{"_id":"themes/yilia/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1500883019520},{"_id":"themes/yilia/source-src/css/main.scss","hash":"9eba1fcf4805256697528fcf3b767cf6dd8d0591","modified":1500884098327},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"f53ea8270752b5919ec5d79224d22af91f2eda12","modified":1500884098311},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"40e5aa5056dc0b3b9f51c5b387370b612e265d4e","modified":1500884098315},{"_id":"themes/yilia/source-src/css/page.scss","hash":"244c4d75c375978ff9edb74acc68825e63c6b235","modified":1500884098335},{"_id":"themes/yilia/source-src/css/left.scss","hash":"80dac621e43581a254d0152d5df901e4d0b01c09","modified":1500884098325},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"19f10fd2f0c3377aa4b165b3c2291ecf86dd9351","modified":1500884098330},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"a557a9ed244c82b8b71e9da9de3339d92783499f","modified":1500884098337},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"2495f7e4e3b055735c531f944b5f40a118a351ec","modified":1500884098340},{"_id":"themes/yilia/source-src/css/share.scss","hash":"9d6f6884f40c191882e56a1e1e1192400944a515","modified":1500884098342},{"_id":"themes/yilia/source-src/css/social.scss","hash":"a10a038a1dac8953cb4ffc7e04272eff9fac54e4","modified":1500884098345},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"399744e98e7c67939ed9b23c2670d8baad044eda","modified":1500884098348},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"915c93edd67c5326695cc7dc84b14c5f154dbcc8","modified":1500884098350},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1500884098396},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"6932c642bf8191768d7090982a91c8c1f1c4ed1e","modified":1500884098353},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"b81cedbe31accca82e597801186911a7b5e6841c","modified":1500884098355},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"d995dcd483a250fe61b426158afb61bf8923a927","modified":1500884098332},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","hash":"75767c904d483d9b93469afb6b92bb6bdface639","modified":1500884098402},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1500884098412},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1500884098415},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1500884098417},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1500884098399},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1500884098408},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1500884098405},{"_id":"themes/yilia/source-src/js/Q.js","hash":"e56d9710afa79b31ca6b9fbd845f6d1895f5214b","modified":1500884098359},{"_id":"themes/yilia/source-src/js/anm.js","hash":"d18f6276a352b871390a4112d479b9e58b8cdbbe","modified":1500884098363},{"_id":"themes/yilia/source-src/js/aside.js","hash":"5e4c3c3d61f1e1ce2f09688d3aff25fadc851fff","modified":1500884098365},{"_id":"themes/yilia/source-src/js/main.js","hash":"fe98bf90ce61658fe16ae057f8b6a512a845af3b","modified":1500884098373},{"_id":"themes/yilia/source-src/js/browser.js","hash":"4dc04845cf27f350922b63f1813a9c82e6e33b05","modified":1500884098367},{"_id":"themes/yilia/source-src/js/fix.js","hash":"d12df875d3b587354ce59fb7c431ecece53560e3","modified":1500884098370},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1500884098419},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"461c08ffcbc724d74ec7e0ff38e171eefe0f89fd","modified":1500884098376},{"_id":"themes/yilia/source-src/js/report.js","hash":"57680f9a23bd0a1eaafd64ae08cc33e20627ab15","modified":1500884098379},{"_id":"themes/yilia/source-src/js/share.js","hash":"d4ccff8266c37363b3904226f5d035b7db882c61","modified":1500884098381},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"c70f367f54064a441e574c913f5e0ea121d0f899","modified":1500884098150},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"edc0154b30a4127acda10297bec6aacf754b4ac4","modified":1500884098152},{"_id":"themes/yilia/source-src/js/util.js","hash":"3bcdeb95072b85600874424e6929e3e22cfddaa0","modified":1500884098387},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"3e0fd4479a40ddbd1571c6c953df7e23637b61f5","modified":1500884098390},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a4eacc2bc1278095a0ef99f904b0634c78f980eb","modified":1500884098155},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"155327c23607f69989b58845f24d842a54e504b8","modified":1500884098163},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"9bfcbd9e71401b6da6b2bbbe61e97625ca247b7a","modified":1500884098166},{"_id":"themes/yilia/layout/_partial/aside.ejs","hash":"751e5deab5365348be5243688b419c82d337ab9a","modified":1501046244065},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1500884098171},{"_id":"themes/yilia/source-src/js/slider.js","hash":"707842efee006e3ea9b6765d7460f4ef4f08e41f","modified":1500884098385},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"8dbe2f32b4c4be316b52168c8077a6c712939d70","modified":1501463415372},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"11550a418921d330e6553be0569a94ab5a217967","modified":1500884098182},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"82124b44425e51b17962fd656ba52ae305feb858","modified":1501462400279},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"12ca7d8dba56bc767b9309dda9526dcbaffc1614","modified":1500884098173},{"_id":"source/assets/ins/BUlWsL0F5kE.jpg","hash":"c1811ae63f2b3de61aec294d945df5adb584b0b3","modified":1500970382916},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"b69855e07b65117769adc515cb64b803932068c9","modified":1500884098176},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"e2b3f2b3631ef211a4d98d11f0da2d285340f10e","modified":1500884098179},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"ccec1fc70f021cb50ac85b524e7949878ab93a18","modified":1500884098185},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"66f706a4892eb4f0d0daf6bac596a8de74af59cf","modified":1500949708098},{"_id":"source/assets/dist/main.js","hash":"8ba2d7e1f10ef775a4efe869af2f1dfb82a98a83","modified":1501471605603},{"_id":"themes/yilia/source/mobile.906508.js","hash":"60329066ec16a2f264b438b94c9d1cc44a551f88","modified":1500884098430},{"_id":"source/assets/dist/img/bg.png","hash":"a297d96de3fc352805b26dc3c267953cae433fbf","modified":1501471605600},{"_id":"source/assets/dist/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1501471605601},{"_id":"source/assets/dist/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1501471605601},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"c71c3e704e844df3676f4a1b82d9cd8286f0b06b","modified":1500884098216},{"_id":"themes/yilia/.git/refs/heads/master","hash":"4d8071322662d313a09ff7b2e716002870d8c94c","modified":1500884098056},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"cc1c39903aed0a0601d104238d2bbd13ad2a36f3","modified":1500884098224},{"_id":"source/assets/src/fonts/icomoon.eot","hash":"c429874a8ab446215db3135a599c5eeeefb4cb29","modified":1501471605604},{"_id":"themes/yilia/.git/objects/pack/pack-4a69d2b0ca35f096f2341bc051ec83a248aca039.idx","hash":"aa9dfee43bbb960f6511e54f43a6712f1e81866a","modified":1500884097826},{"_id":"source/assets/src/fonts/icomoon.woff","hash":"d79cf10cd6c5482b56cb59606dec2a4a6de93bac","modified":1501471605606},{"_id":"source/assets/src/img/bg.png","hash":"a297d96de3fc352805b26dc3c267953cae433fbf","modified":1501471605607},{"_id":"source/assets/src/fonts/icomoon.ttf","hash":"c8e25beb4a00d9caeeb7f72ba786d6139491dead","modified":1501471605605},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"262ffcd88775080b7f511db37f58d2bcb1b2bfc7","modified":1500884098278},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"1834c3ed8560716e63bb3a50be94cac87fbbeaf3","modified":1500884098276},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"91db061c9c17628291a005e5bd4936cf9d35a6c4","modified":1500884098282},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"6e75bdaa46de83094ba0873099c6e7d656a22453","modified":1500884098287},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1500884098293},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"398a49913b4a47d928103562b1ce94520be4026a","modified":1500884098285},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1500884098299},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"75767c904d483d9b93469afb6b92bb6bdface639","modified":1500884098296},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1500884098317},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1500884098320},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1500884098322},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"f75b236818b6c0ec0e5e6c12a517825d6230d756","modified":1500884098188},{"_id":"themes/yilia/layout/_partial/post/changyan.ejs","hash":"cc384aeaed9ffde92efdf192c26db4da3fe5858f","modified":1500884098192},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"aae96de18d48cd3b9b7bf6fed0100e15b53cca97","modified":1500884098194},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"f6b4c4eaafb5ac386273354b5f64a26139b7a3b0","modified":1500884098196},{"_id":"themes/yilia/layout/_partial/post/laibili.ejs","hash":"3c6ee180d63878f18544d792d2202b6a230a9692","modified":1501230887592},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"b6a97043f9ec37e571aacacfedcda1d4d75e3c7c","modified":1500884098200},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2c4e4ca36c9bb4318506c38aca7127f1f44d827f","modified":1500884098207},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1500884098302},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1500884098210},{"_id":"themes/yilia/layout/_partial/post/wangyiyun.ejs","hash":"fb022502c741b4a26bad6b2ad37245c10ede3f1a","modified":1500884098213},{"_id":"source/assets/src/fonts/icomoon.svg","hash":"7d1c95143d03f9cddec2ecb836697441ca8c0d10","modified":1501471605605},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"06a2dd18ac9a43fbc9a59c61e6f795f9326e9927","modified":1500884098204},{"_id":"source/assets/src/photoSwipe/photoswipe-ui-default.min.js","hash":"852a1fcdaacf66754090fc6d432013c5c657ab80","modified":1501471605612},{"_id":"source/assets/src/photoSwipe/photoswipe.css","hash":"b80bb4efe9ac36a566f037fb6984af8b486a9d5c","modified":1501471605613},{"_id":"source/assets/src/photoSwipe/photoswipe.min.js","hash":"39806b9989eaecbc3e032da8de77f69e0c9ff779","modified":1501471605616},{"_id":"source/assets/src/photoSwipe/photoswipe-ui-default.js","hash":"05fa305ec449deb59b04e2ae118a8e3ec5250e1b","modified":1501471605611},{"_id":"source/assets/src/photoSwipe/photoswipe.js","hash":"b616337e586eaa5afcf5bb77c927bd1b09a25524","modified":1501471605614},{"_id":"themes/yilia/.git/logs/refs/heads/master","hash":"9df8cfbfc2275c4d0b5e0ab290184db297158c0f","modified":1500884098062},{"_id":"themes/yilia/layout/_partial/post/youyan.ejs","hash":"17c7cdd40cc54e1cbe2255b713fadbfe92950155","modified":1501230548020},{"_id":"themes/yilia/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1500884098042},{"_id":"source/assets/article_img/2017/07/laibili_plug.png","hash":"a34520244cf19bcadcf459e96f01dc6b36c39648","modified":1501465819747},{"_id":"source/assets/src/photoSwipe/default-skin/default-skin.css","hash":"40e84a9d6b3bb41cfc192ef49202e8e6500eb937","modified":1501471605609},{"_id":"source/assets/src/photoSwipe/default-skin/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1501471605610},{"_id":"source/assets/src/photoSwipe/default-skin/default-skin.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1501471605610},{"_id":"source/assets/src/photoSwipe/default-skin/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1501471605611},{"_id":"source/assets/img/w.ico","hash":"d8d4f3fd440dbea2176735949dbec229f7eda922","modified":1501042540137},{"_id":"source/assets/article_img/2017/07/create_new_repo.png","hash":"5a14355264ff79cc7aafff49343935da771855f7","modified":1501147293603},{"_id":"source/assets/article_img/2017/07/deploy_success_index.png","hash":"37bc50a68da876ee8ba0b7c6a8e4974774c5f060","modified":1501150940152},{"_id":"source/assets/article_img/2017/07/read_num.png","hash":"25ce230001164e9cf3efabf0a2a9bffaeaeebde9","modified":1501463072536},{"_id":"source/assets/article_img/2017/07/laibili_code.png","hash":"d2365310947ac59c50e4a2edeafa94e252944ec5","modified":1501464134969},{"_id":"themes/yilia/.git/logs/refs/remotes/origin/HEAD","hash":"9df8cfbfc2275c4d0b5e0ab290184db297158c0f","modified":1500884098042},{"_id":"source/assets/article_img/2017/07/init_list.png","hash":"29d1c6c8eeedd6ffb697b8f44d144ba82e9e37f0","modified":1501143977091},{"_id":"source/assets/article_img/2017/07/repo_url.png","hash":"f04b89007db1338c922ac0bba50916fd796ab121","modified":1501147798007},{"_id":"source/assets/article_img/2017/07/visit_num.png","hash":"f39b2d3afdecbbb772ba05fae9c796606e2d4099","modified":1501463026131},{"_id":"source/assets/article_img/2017/07/new_repo.png","hash":"b7dc8ef96adc665d629412a33c67c28e0ca0b5a1","modified":1501146957618},{"_id":"source/assets/article_img/2017/07/hexo_index.png","hash":"75d5484ce45a5b0b6b4d76fcad8e71b0f0b61bbb","modified":1501143736995},{"_id":"themes/yilia/.git/objects/pack/pack-4a69d2b0ca35f096f2341bc051ec83a248aca039.pack","hash":"2b1e7912340fd292f00d20d26276ce28840fd79c","modified":1500884097864},{"_id":"public/photos/ins.js","hash":"78ed43c748fbc2e26cadd810cb74261d0687f279","modified":1502184598977},{"_id":"public/photos/ins.json","hash":"ffe2378d96c676237704d3ac0c7c0b9d40babbee","modified":1502184598977},{"_id":"public/content.json","hash":"f2c28c347d93bf236b153f80a2cceb669886427c","modified":1502184598977},{"_id":"public/assets/src/lazyload.js","hash":"4c247fdfac04481347446836178448d0e732aab9","modified":1502184599139},{"_id":"public/assets/src/swipe.init.js","hash":"c63d920f67fa496180f5cb9dcc7f0c0f852505fd","modified":1502184599308},{"_id":"public/assets/src/main.js","hash":"f3f4b1e37b2712b9b8f034f35c2fb1c381254232","modified":1502184599323},{"_id":"public/assets/src/theme.css","hash":"faea5e13e3e3904017a267839c818921830493fc","modified":1502184599323},{"_id":"public/assets/dist/main.js","hash":"a0b50e4a58a492f0d1565ce2c8345d881842b645","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/photoswipe.css","hash":"838d43529282b91a60934bbd39f3f9f5dbefee98","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/photoswipe.min.js","hash":"86a4f553319b0cc0d50d45d28498252f7fef98e9","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/photoswipe-ui-default.js","hash":"bc32b266b86d3569ed669f50eb607ff2f5b37bdd","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/photoswipe-ui-default.min.js","hash":"04918f6709ef1420a9ffad2fb45e949ecc9e17ea","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/photoswipe.js","hash":"d45787befeacaf524c1f3fa50ca72fe01a4e9a74","modified":1502184599323},{"_id":"public/assets/src/photoSwipe/default-skin/default-skin.css","hash":"d9b40f34699ddb99d1463f5dfd1db5307214b6a8","modified":1502184599323},{"_id":"public/photos/ins.css","hash":"9e6d81a99a28764f97fd0b29367a485c68f8a234","modified":1502184599323},{"_id":"public/photos/lazyload.min.js","hash":"d6bcaf64bfa97134d83ec2c4321390d19dbffbc2","modified":1502184599323},{"_id":"public/photos/index.html","hash":"d9922a3b6d6098c5f234f0d2d77ecee8c0607a01","modified":1502184599492},{"_id":"public/photos/videos.html","hash":"077af1c5bbbd0993839a644915b77e69f06106d2","modified":1502184675124},{"_id":"public/page/index.html","hash":"7ef4cd61b768983c32dd8f9cba0efd3525b7a5a7","modified":1502184599561},{"_id":"public/archives/2017/07/index.html","hash":"141dbd0bdd2f34bcde16a6e16bf9f5c89617b76b","modified":1502184599561},{"_id":"public/index.html","hash":"c35702677d55f79a3ab54764e7d4fefd416132e9","modified":1502184599561},{"_id":"public/archives/index.html","hash":"b15cced275defd100280507ad4bf899cfb5b3693","modified":1502184599561},{"_id":"public/archives/2017/index.html","hash":"3b05b31effe309809288d79d36f2f2a14589d409","modified":1502184599561},{"_id":"public/tags/git/index.html","hash":"5187f9ac01ebd8cb2ba7a4d4c14b335a3147b916","modified":1502184599561},{"_id":"public/tags/hexo/index.html","hash":"f0b496521104b8d309b59a43916ee0eec07d2246","modified":1502184599561},{"_id":"public/tags/node-js/index.html","hash":"6050165f7fb1427e750264606b102a9cf6523404","modified":1502184599561},{"_id":"public/gallery/index.html","hash":"f910d21bbeb67e15a7b9d9a68ae84091582f385c","modified":1502184599576},{"_id":"public/2017/07/27/quick-build-blog/index.html","hash":"df001cab55d5b25f0a52a7686b13bbe3fe9d1b93","modified":1502184599576},{"_id":"public/CNAME","hash":"1d962de263a4e7ca05f5cfb7ed36c910c9f5cf8d","modified":1502184599576},{"_id":"public/assets/img/favicon.ico","hash":"6c2ac3e1c4f34b8ff5540884db515e539cf730b6","modified":1502184599576},{"_id":"public/assets/img/william.png","hash":"166cc3c0f742c45f29573afa3a4fb85e77d660a0","modified":1502184599576},{"_id":"public/assets/img/empty.png","hash":"e88177c88f6b7219a3474da7d210965a6dbb57d7","modified":1502184599576},{"_id":"public/assets/ins-min/BUlWsL0F5kE.min.jpg","hash":"853013f841d816d56c7873faf3d880fde1211027","modified":1502184599576},{"_id":"public/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1502184599576},{"_id":"public/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1502184599576},{"_id":"public/fonts/iconfont.45d7ee.svg","hash":"75767c904d483d9b93469afb6b92bb6bdface639","modified":1502184599576},{"_id":"public/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1502184599576},{"_id":"public/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1502184599576},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1502184599576},{"_id":"public/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1502184599576},{"_id":"public/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1502184599576},{"_id":"public/assets/dist/img/bg.png","hash":"a297d96de3fc352805b26dc3c267953cae433fbf","modified":1502184599576},{"_id":"public/assets/dist/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1502184599576},{"_id":"public/assets/dist/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1502184599576},{"_id":"public/assets/src/fonts/icomoon.eot","hash":"c429874a8ab446215db3135a599c5eeeefb4cb29","modified":1502184599576},{"_id":"public/assets/src/fonts/icomoon.woff","hash":"d79cf10cd6c5482b56cb59606dec2a4a6de93bac","modified":1502184599576},{"_id":"public/assets/src/img/bg.png","hash":"a297d96de3fc352805b26dc3c267953cae433fbf","modified":1502184599576},{"_id":"public/assets/src/fonts/icomoon.ttf","hash":"c8e25beb4a00d9caeeb7f72ba786d6139491dead","modified":1502184599576},{"_id":"public/assets/src/fonts/icomoon.svg","hash":"7d1c95143d03f9cddec2ecb836697441ca8c0d10","modified":1502184599576},{"_id":"public/assets/src/photoSwipe/default-skin/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1502184599576},{"_id":"public/assets/src/photoSwipe/default-skin/default-skin.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1502184599576},{"_id":"public/assets/src/photoSwipe/default-skin/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1502184599576},{"_id":"public/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1502184599576},{"_id":"public/assets/article_img/2017/07/read_num.png","hash":"25ce230001164e9cf3efabf0a2a9bffaeaeebde9","modified":1502184599576},{"_id":"public/assets/article_img/2017/07/init_list.png","hash":"29d1c6c8eeedd6ffb697b8f44d144ba82e9e37f0","modified":1502184599576},{"_id":"public/assets/article_img/2017/07/visit_num.png","hash":"f39b2d3afdecbbb772ba05fae9c796606e2d4099","modified":1502184599576},{"_id":"public/assets/article_img/2017/07/laibili_plug.png","hash":"a34520244cf19bcadcf459e96f01dc6b36c39648","modified":1502184599576},{"_id":"public/assets/ins/BUlWsL0F5kE.jpg","hash":"c1811ae63f2b3de61aec294d945df5adb584b0b3","modified":1502184599592},{"_id":"public/assets/article_img/2017/07/deploy_success_index.png","hash":"37bc50a68da876ee8ba0b7c6a8e4974774c5f060","modified":1502184599592},{"_id":"public/assets/article_img/2017/07/create_new_repo.png","hash":"5a14355264ff79cc7aafff49343935da771855f7","modified":1502184599592},{"_id":"public/assets/article_img/2017/07/repo_url.png","hash":"f04b89007db1338c922ac0bba50916fd796ab121","modified":1502184599592},{"_id":"public/assets/article_img/2017/07/laibili_code.png","hash":"d2365310947ac59c50e4a2edeafa94e252944ec5","modified":1502184599592},{"_id":"public/assets/article_img/2017/07/new_repo.png","hash":"b7dc8ef96adc665d629412a33c67c28e0ca0b5a1","modified":1502184599592},{"_id":"public/main.266c1c.css","hash":"5615ba9da86fe19205d81990b1ff58b349075082","modified":1502184599608},{"_id":"public/slider.096dc6.js","hash":"a8b66ef85d96616086ea6256e7288d0b5a2df56d","modified":1502184599608},{"_id":"public/main.266c1c.js","hash":"59ccafbd45d28c397a8a901152ef5e196077e4f4","modified":1502184599608},{"_id":"public/mobile.906508.js","hash":"86e50eecba93644d6cf4f78fd4f9ff54a0ea82d5","modified":1502184599608},{"_id":"public/assets/img/w.ico","hash":"d8d4f3fd440dbea2176735949dbec229f7eda922","modified":1502184599659},{"_id":"public/assets/article_img/2017/07/hexo_index.png","hash":"75d5484ce45a5b0b6b4d76fcad8e71b0f0b61bbb","modified":1502184599677}],"Category":[],"Data":[],"Page":[{"layout":"post","slug":"photos","title":"相册","comments":1,"_content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","source":"photos/index.ejs","raw":"---\nlayout: post\nslug: \"photos\"\ntitle: \"相册\"\ncomments: true\n---\n<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","date":"2017-08-08T09:28:42.749Z","updated":"2017-08-08T09:28:42.749Z","path":"photos/index.html","_id":"cj63dx7me0000zwv3cbvpmv7p","content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"external\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","site":{"data":{}},"excerpt":"","more":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"external\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>"},{"_content":"#post-instagram{\n    padding: 30px;\n}\n#post-instagram .article-entry{\n    padding-right: 0;\n}\n.instagram{\n    position: relative;\n    min-height: 500px;\n}\n.instagram img {\n    width: 100%;\n}\n.instagram .year {\n    font-size: 16px;\n}\n.instagram .open-ins{\n    padding: 10px 0;\n    color: #cdcdcd;\n}\n.instagram .open-ins:hover{\n    color: #657b83;\n}\n.instagram .year{\n    display: inline;\n}\n.instagram .thumb {\n    width: 25%;\n    height: 0;\n    padding-bottom: 25%;\n    position: relative;\n    display: inline-block;\n    text-align: center;\n    background: #ededed;\n    outline: 1px solid #ddd;\n}\n.instagram .thumb a {\n    position: relative;\n}\n.instagram .album h1 em{\n    font-style: normal;\n    font-size: 14px;\n    margin-left: 10px;\n}\n.instagram .album ul{\n    display: flex;\n    flex-wrap: wrap;\n    clear: both;\n    width: 100%;\n    text-align: left;\n}\n.instagram .album li{\n    list-style: none;\n    display: inline-block;\n    box-sizing: border-box;\n    padding: 0 5px;\n    margin-bottom: -10px;\n    height: 0;\n    width: 25%;\n    position: relative;\n    padding-bottom: 25%;\n}\n.instagram .album li:before{\n    display: none;\n}\n.instagram .album div.img-box{\n    position: absolute;\n    width: 90%;\n    height: 90%;\n    -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0px;\n    width: 100%;\n    margin: -5px;\n    padding: 5px;\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -webkit-transition: all 0.15s ease-out 0.1s;\n    -moz-transition: all 0.15s ease-out 0.1s;\n    -o-transition: all 0.15s ease-out 0.1s;\n    transition: all 0.15s ease-out 0.1s;\n    opacity: 0.2;\n    cursor: pointer;\n    display: block;\n    z-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n    opacity: 0;\n}\n.photos-btn-wrap {\n    border-bottom: 1px solid #e5e5e5;\n    margin-bottom: 20px;\n}\n.photos-btn {\n    font-size: 16px;\n    color: #333;\n    margin-bottom: -4px;\n    padding: 5px 8px 3px;\n}\n.photos-btn.active {\n    color: #08c;\n    border: 1px solid #e5e5e5;\n    border-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n    .instagram .thumb {\n        width: 50%;\n        padding-bottom: 50%;\n    }\n    .instagram .album li {\n        width: 100%;\n        position: relative;\n        padding-bottom: 100%;\n        text-align: center;\n    }\n    .instagram .album div.img-box{\n        margin: 0;\n        width: 90%;\n        height: 90%;\n    }\n}","source":"photos/ins.css","raw":"#post-instagram{\n    padding: 30px;\n}\n#post-instagram .article-entry{\n    padding-right: 0;\n}\n.instagram{\n    position: relative;\n    min-height: 500px;\n}\n.instagram img {\n    width: 100%;\n}\n.instagram .year {\n    font-size: 16px;\n}\n.instagram .open-ins{\n    padding: 10px 0;\n    color: #cdcdcd;\n}\n.instagram .open-ins:hover{\n    color: #657b83;\n}\n.instagram .year{\n    display: inline;\n}\n.instagram .thumb {\n    width: 25%;\n    height: 0;\n    padding-bottom: 25%;\n    position: relative;\n    display: inline-block;\n    text-align: center;\n    background: #ededed;\n    outline: 1px solid #ddd;\n}\n.instagram .thumb a {\n    position: relative;\n}\n.instagram .album h1 em{\n    font-style: normal;\n    font-size: 14px;\n    margin-left: 10px;\n}\n.instagram .album ul{\n    display: flex;\n    flex-wrap: wrap;\n    clear: both;\n    width: 100%;\n    text-align: left;\n}\n.instagram .album li{\n    list-style: none;\n    display: inline-block;\n    box-sizing: border-box;\n    padding: 0 5px;\n    margin-bottom: -10px;\n    height: 0;\n    width: 25%;\n    position: relative;\n    padding-bottom: 25%;\n}\n.instagram .album li:before{\n    display: none;\n}\n.instagram .album div.img-box{\n    position: absolute;\n    width: 90%;\n    height: 90%;\n    -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0px;\n    width: 100%;\n    margin: -5px;\n    padding: 5px;\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -webkit-transition: all 0.15s ease-out 0.1s;\n    -moz-transition: all 0.15s ease-out 0.1s;\n    -o-transition: all 0.15s ease-out 0.1s;\n    transition: all 0.15s ease-out 0.1s;\n    opacity: 0.2;\n    cursor: pointer;\n    display: block;\n    z-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n    opacity: 0;\n}\n.photos-btn-wrap {\n    border-bottom: 1px solid #e5e5e5;\n    margin-bottom: 20px;\n}\n.photos-btn {\n    font-size: 16px;\n    color: #333;\n    margin-bottom: -4px;\n    padding: 5px 8px 3px;\n}\n.photos-btn.active {\n    color: #08c;\n    border: 1px solid #e5e5e5;\n    border-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n    .instagram .thumb {\n        width: 50%;\n        padding-bottom: 50%;\n    }\n    .instagram .album li {\n        width: 100%;\n        position: relative;\n        padding-bottom: 100%;\n        text-align: center;\n    }\n    .instagram .album div.img-box{\n        margin: 0;\n        width: 90%;\n        height: 90%;\n    }\n}","date":"2017-07-25T07:17:55.165Z","updated":"2017-07-25T07:17:55.163Z","path":"photos/ins.css","layout":"false","title":"","comments":1,"_id":"cj63dx7mj0002zwv3quilu5yc","content":"#post-instagram{\n    padding: 30px;\n}\n#post-instagram .article-entry{\n    padding-right: 0;\n}\n.instagram{\n    position: relative;\n    min-height: 500px;\n}\n.instagram img {\n    width: 100%;\n}\n.instagram .year {\n    font-size: 16px;\n}\n.instagram .open-ins{\n    padding: 10px 0;\n    color: #cdcdcd;\n}\n.instagram .open-ins:hover{\n    color: #657b83;\n}\n.instagram .year{\n    display: inline;\n}\n.instagram .thumb {\n    width: 25%;\n    height: 0;\n    padding-bottom: 25%;\n    position: relative;\n    display: inline-block;\n    text-align: center;\n    background: #ededed;\n    outline: 1px solid #ddd;\n}\n.instagram .thumb a {\n    position: relative;\n}\n.instagram .album h1 em{\n    font-style: normal;\n    font-size: 14px;\n    margin-left: 10px;\n}\n.instagram .album ul{\n    display: flex;\n    flex-wrap: wrap;\n    clear: both;\n    width: 100%;\n    text-align: left;\n}\n.instagram .album li{\n    list-style: none;\n    display: inline-block;\n    box-sizing: border-box;\n    padding: 0 5px;\n    margin-bottom: -10px;\n    height: 0;\n    width: 25%;\n    position: relative;\n    padding-bottom: 25%;\n}\n.instagram .album li:before{\n    display: none;\n}\n.instagram .album div.img-box{\n    position: absolute;\n    width: 90%;\n    height: 90%;\n    -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0px;\n    width: 100%;\n    margin: -5px;\n    padding: 5px;\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -webkit-transition: all 0.15s ease-out 0.1s;\n    -moz-transition: all 0.15s ease-out 0.1s;\n    -o-transition: all 0.15s ease-out 0.1s;\n    transition: all 0.15s ease-out 0.1s;\n    opacity: 0.2;\n    cursor: pointer;\n    display: block;\n    z-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n    opacity: 0;\n}\n.photos-btn-wrap {\n    border-bottom: 1px solid #e5e5e5;\n    margin-bottom: 20px;\n}\n.photos-btn {\n    font-size: 16px;\n    color: #333;\n    margin-bottom: -4px;\n    padding: 5px 8px 3px;\n}\n.photos-btn.active {\n    color: #08c;\n    border: 1px solid #e5e5e5;\n    border-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n    .instagram .thumb {\n        width: 50%;\n        padding-bottom: 50%;\n    }\n    .instagram .album li {\n        width: 100%;\n        position: relative;\n        padding-bottom: 100%;\n        text-align: center;\n    }\n    .instagram .album div.img-box{\n        margin: 0;\n        width: 90%;\n        height: 90%;\n    }\n}","site":{"data":{}},"excerpt":"","more":"#post-instagram{\n    padding: 30px;\n}\n#post-instagram .article-entry{\n    padding-right: 0;\n}\n.instagram{\n    position: relative;\n    min-height: 500px;\n}\n.instagram img {\n    width: 100%;\n}\n.instagram .year {\n    font-size: 16px;\n}\n.instagram .open-ins{\n    padding: 10px 0;\n    color: #cdcdcd;\n}\n.instagram .open-ins:hover{\n    color: #657b83;\n}\n.instagram .year{\n    display: inline;\n}\n.instagram .thumb {\n    width: 25%;\n    height: 0;\n    padding-bottom: 25%;\n    position: relative;\n    display: inline-block;\n    text-align: center;\n    background: #ededed;\n    outline: 1px solid #ddd;\n}\n.instagram .thumb a {\n    position: relative;\n}\n.instagram .album h1 em{\n    font-style: normal;\n    font-size: 14px;\n    margin-left: 10px;\n}\n.instagram .album ul{\n    display: flex;\n    flex-wrap: wrap;\n    clear: both;\n    width: 100%;\n    text-align: left;\n}\n.instagram .album li{\n    list-style: none;\n    display: inline-block;\n    box-sizing: border-box;\n    padding: 0 5px;\n    margin-bottom: -10px;\n    height: 0;\n    width: 25%;\n    position: relative;\n    padding-bottom: 25%;\n}\n.instagram .album li:before{\n    display: none;\n}\n.instagram .album div.img-box{\n    position: absolute;\n    width: 90%;\n    height: 90%;\n    -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n    box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0px;\n    width: 100%;\n    margin: -5px;\n    padding: 5px;\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n    -webkit-transition: all 0.15s ease-out 0.1s;\n    -moz-transition: all 0.15s ease-out 0.1s;\n    -o-transition: all 0.15s ease-out 0.1s;\n    transition: all 0.15s ease-out 0.1s;\n    opacity: 0.2;\n    cursor: pointer;\n    display: block;\n    z-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n    opacity: 0;\n}\n.photos-btn-wrap {\n    border-bottom: 1px solid #e5e5e5;\n    margin-bottom: 20px;\n}\n.photos-btn {\n    font-size: 16px;\n    color: #333;\n    margin-bottom: -4px;\n    padding: 5px 8px 3px;\n}\n.photos-btn.active {\n    color: #08c;\n    border: 1px solid #e5e5e5;\n    border-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n    .instagram .thumb {\n        width: 50%;\n        padding-bottom: 50%;\n    }\n    .instagram .album li {\n        width: 100%;\n        position: relative;\n        padding-bottom: 100%;\n        text-align: center;\n    }\n    .instagram .album div.img-box{\n        margin: 0;\n        width: 90%;\n        height: 90%;\n    }\n}"},{"_content":"{\n    \"list\": [\n        {\n            \"date\": \"2017-07\",\n            \"arr\": {\n                \"year\": 2017,\n                \"month\": 7,\n                \"src\": [\n                    \"\"\n                ],\n                \"link\": [\n                    \"BUlWsL0F5kE\"\n                ],\n                \"text\": [\n                    \"“猫咪”\"\n                ],\n                \"type\": [\n                    \"image\"\n                ]\n            }\n        }\n    ]\n}","source":"photos/ins.json","raw":"{\n    \"list\": [\n        {\n            \"date\": \"2017-07\",\n            \"arr\": {\n                \"year\": 2017,\n                \"month\": 7,\n                \"src\": [\n                    \"\"\n                ],\n                \"link\": [\n                    \"BUlWsL0F5kE\"\n                ],\n                \"text\": [\n                    \"“猫咪”\"\n                ],\n                \"type\": [\n                    \"image\"\n                ]\n            }\n        }\n    ]\n}","date":"2017-07-25T09:13:22.725Z","updated":"2017-07-25T09:13:22.723Z","path":"photos/ins.json","layout":"false","title":"","comments":1,"_id":"cj63dx7mj0004zwv32tf1ftba","content":"{\"list\":[{\"date\":\"2017-07\",\"arr\":{\"year\":2017,\"month\":7,\"src\":[\"\"],\"link\":[\"BUlWsL0F5kE\"],\"text\":[\"“猫咪”\"],\"type\":[\"image\"]}}]}","site":{"data":{}},"excerpt":"","more":"{\"list\":[{\"date\":\"2017-07\",\"arr\":{\"year\":2017,\"month\":7,\"src\":[\"\"],\"link\":[\"BUlWsL0F5kE\"],\"text\":[\"“猫咪”\"],\"type\":[\"image\"]}}]}"},{"_content":"/*!\n * An jQuery | zepto plugin for lazy loading images.\n * author -> jieyou\n * see https://github.com/jieyou/lazyload\n * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)\n * use component's throttle https://github.com/component/throttle (MIT)\n */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?(\"innerHeight\"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f=e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function j(a,b){var c;return c=b._$container==d?d.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger(\"_lazyload_appear\"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:\"scroll\",effect:\"show\",effect_params:null,container:c,data_attribute:\"original\",data_srcset_attribute:\"original-srcset\",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\",placeholder_real_img:\"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png\"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace(\"[object \",\"\").replace(\"]\",\"\")}}(),a.fn.hasOwnProperty(\"lazyload\")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,[\"threshold\",\"failure_limit\",\"check_appear_throttle_time\"])?\"String\"==i?b[g]=parseInt(b[g],10):\"Number\"!=i&&(b[g]=h):\"container\"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i=\"scroll\"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||\"scrollstart\"==b.event||\"scrollstop\"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr(\"src\"),k=f.attr(\"data-\"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr(\"data-\"+b.data_srcset_attribute),o=f.is(\"img\");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one(\"error\",function(){f.attr(\"src\",b.placeholder_real_img)}).attr(\"src\",b.placeholder_data_img),f.one(\"_lazyload_appear\",function(){function i(){d&&f.hide(),o?(n&&f.attr(\"srcset\",n),l&&f.attr(\"src\",l)):f.css(\"background-image\",'url(\"'+l+'\")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d=\"show\"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one(\"load\",function(){b.load.call(e,f,h.length,b)}),i()):a(\"<img />\").one(\"load\",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr(\"src\",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger(\"_lazyload_appear\")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on(\"resize load\",function(){k(h,b)}),a(function(){k(h,b)}),this})});","source":"photos/lazyload.min.js","raw":"/*!\n * An jQuery | zepto plugin for lazy loading images.\n * author -> jieyou\n * see https://github.com/jieyou/lazyload\n * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)\n * use component's throttle https://github.com/component/throttle (MIT)\n */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?(\"innerHeight\"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f=e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function j(a,b){var c;return c=b._$container==d?d.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger(\"_lazyload_appear\"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:\"scroll\",effect:\"show\",effect_params:null,container:c,data_attribute:\"original\",data_srcset_attribute:\"original-srcset\",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\",placeholder_real_img:\"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png\"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace(\"[object \",\"\").replace(\"]\",\"\")}}(),a.fn.hasOwnProperty(\"lazyload\")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,[\"threshold\",\"failure_limit\",\"check_appear_throttle_time\"])?\"String\"==i?b[g]=parseInt(b[g],10):\"Number\"!=i&&(b[g]=h):\"container\"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i=\"scroll\"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||\"scrollstart\"==b.event||\"scrollstop\"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr(\"src\"),k=f.attr(\"data-\"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr(\"data-\"+b.data_srcset_attribute),o=f.is(\"img\");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one(\"error\",function(){f.attr(\"src\",b.placeholder_real_img)}).attr(\"src\",b.placeholder_data_img),f.one(\"_lazyload_appear\",function(){function i(){d&&f.hide(),o?(n&&f.attr(\"srcset\",n),l&&f.attr(\"src\",l)):f.css(\"background-image\",'url(\"'+l+'\")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d=\"show\"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one(\"load\",function(){b.load.call(e,f,h.length,b)}),i()):a(\"<img />\").one(\"load\",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr(\"src\",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger(\"_lazyload_appear\")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on(\"resize load\",function(){k(h,b)}),a(function(){k(h,b)}),this})});","date":"2017-07-25T07:51:29.742Z","updated":"2017-07-25T07:51:29.740Z","path":"photos/lazyload.min.js","layout":"false","title":"","comments":1,"_id":"cj63dx7mj0005zwv3cl1o2jj0","content":"/*!\n * An jQuery | zepto plugin for lazy loading images.\n * author -> jieyou\n * see https://github.com/jieyou/lazyload\n * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)\n * use component's throttle https://github.com/component/throttle (MIT)\n */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?(\"innerHeight\"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var=\"\" f;return=\"\" f=\"e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function\" j(a,b){var=\"\" c;return=\"\" c=\"b._$container==d?d.scrollTop():b._$container.offset().top,c\">=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger(\"_lazyload_appear\"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c=\"\">b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:\"scroll\",effect:\"show\",effect_params:null,container:c,data_attribute:\"original\",data_srcset_attribute:\"original-srcset\",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\",placeholder_real_img:\"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png\"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace(\"[object \",\"\").replace(\"]\",\"\")}}(),a.fn.hasOwnProperty(\"lazyload\")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,[\"threshold\",\"failure_limit\",\"check_appear_throttle_time\"])?\"String\"==i?b[g]=parseInt(b[g],10):\"Number\"!=i&&(b[g]=h):\"container\"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i=\"scroll\"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||\"scrollstart\"==b.event||\"scrollstop\"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr(\"src\"),k=f.attr(\"data-\"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr(\"data-\"+b.data_srcset_attribute),o=f.is(\"img\");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one(\"error\",function(){f.attr(\"src\",b.placeholder_real_img)}).attr(\"src\",b.placeholder_data_img),f.one(\"_lazyload_appear\",function(){function i(){d&&f.hide(),o?(n&&f.attr(\"srcset\",n),l&&f.attr(\"src\",l)):f.css(\"background-image\",'url(\"'+l+'\")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d=\"show\"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one(\"load\",function(){b.load.call(e,f,h.length,b)}),i()):a(\"<img>\").one(\"load\",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr(\"src\",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger(\"_lazyload_appear\")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on(\"resize load\",function(){k(h,b)}),a(function(){k(h,b)}),this})});</=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else></=a.offset().top-b.threshold}function>","site":{"data":{}},"excerpt":"","more":"/*!\n * An jQuery | zepto plugin for lazy loading images.\n * author -> jieyou\n * see https://github.com/jieyou/lazyload\n * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)\n * use component's throttle https://github.com/component/throttle (MIT)\n */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?(\"innerHeight\"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var=\"\" f;return=\"\" f=\"e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function\" j(a,b){var=\"\" c;return=\"\" c=\"b._$container==d?d.scrollTop():b._$container.offset().top,c\">=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger(\"_lazyload_appear\"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c=\"\">b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:\"scroll\",effect:\"show\",effect_params:null,container:c,data_attribute:\"original\",data_srcset_attribute:\"original-srcset\",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\",placeholder_real_img:\"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png\"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace(\"[object \",\"\").replace(\"]\",\"\")}}(),a.fn.hasOwnProperty(\"lazyload\")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,[\"threshold\",\"failure_limit\",\"check_appear_throttle_time\"])?\"String\"==i?b[g]=parseInt(b[g],10):\"Number\"!=i&&(b[g]=h):\"container\"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i=\"scroll\"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||\"scrollstart\"==b.event||\"scrollstop\"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr(\"src\"),k=f.attr(\"data-\"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr(\"data-\"+b.data_srcset_attribute),o=f.is(\"img\");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one(\"error\",function(){f.attr(\"src\",b.placeholder_real_img)}).attr(\"src\",b.placeholder_data_img),f.one(\"_lazyload_appear\",function(){function i(){d&&f.hide(),o?(n&&f.attr(\"srcset\",n),l&&f.attr(\"src\",l)):f.css(\"background-image\",'url(\"'+l+'\")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d=\"show\"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one(\"load\",function(){b.load.call(e,f,h.length,b)}),i()):a(\"<img>\").one(\"load\",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr(\"src\",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger(\"_lazyload_appear\")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on(\"resize load\",function(){k(h,b)}),a(function(){k(h,b)}),this})});</=0&&f.height()<=0||\"none\"===f.css(\"display\")))if(b.vertical_only)if(j(f,b));else></=a.offset().top-b.threshold}function>"},{"title":"page","date":"2017-07-26T08:07:07.000Z","_content":"","source":"page/index.md","raw":"---\ntitle: page\ndate: 2017-07-26 16:07:07\n---\n","updated":"2017-07-26T08:07:07.695Z","path":"page/index.html","comments":1,"layout":"page","_id":"cj63dx7my0006zwv3cxzazhb2","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"post","slug":"photos","title":"相册","comments":1,"_content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://localhost:3000\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","source":"gallery/index.ejs","raw":"---\nlayout: post\nslug: \"photos\"\ntitle: \"相册\"\ncomments: true\n---\n<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://localhost:3000\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","date":"2017-08-01T06:35:14.414Z","updated":"2017-07-31T09:49:43.099Z","path":"gallery/index.html","_id":"cj63dx7my0008zwv3v40eayd9","content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"external\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://localhost:3000\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","site":{"data":{}},"excerpt":"","more":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"external\">Photos</a>\n\t<a class=\"photos-btn\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://localhost:3000\">摄影</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"\" target=\"_blank\" class=\"open-ins\">正在加载中…</a>\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>"},{"layout":"post","title":"视频","comments":1,"_content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn\" href=\"/photos\">Photos</a>\n\t<a class=\"photos-btn active\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<center><h1>指弹_女儿情</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjUzMzY4OTM3Ng==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr/>\n<center><h1>指弹_友谊地久天长</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ5MDExOTY2MA==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr/>\n<center><h1>指弹_Always with me</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>","source":"photos/videos.ejs","raw":"---\nlayout: post\ntitle: \"视频\"\ncomments: true\n---\n<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn\" href=\"/photos\">Photos</a>\n\t<a class=\"photos-btn active\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target='_blank' href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<center><h1>指弹_女儿情</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjUzMzY4OTM3Ng==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr/>\n<center><h1>指弹_友谊地久天长</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ5MDExOTY2MA==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr/>\n<center><h1>指弹_Always with me</h1></center>\n<hr/>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA==\"\n\tframeborder=0 allowfullscreen>\n</iframe>\n</div>\n</center>","date":"2017-08-08T09:31:07.468Z","updated":"2017-08-08T09:31:07.468Z","path":"photos/videos.html","_id":"cj63dx7my0009zwv3t9zg1jay","content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn\" href=\"/photos\">Photos</a>\n\t<a class=\"photos-btn active\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<center><h1>指弹_女儿情</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjUzMzY4OTM3Ng==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr>\n<center><h1>指弹_友谊地久天长</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ5MDExOTY2MA==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr>\n<center><h1>指弹_Always with me</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>","site":{"data":{}},"excerpt":"","more":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn\" href=\"/photos\">Photos</a>\n\t<a class=\"photos-btn active\" href=\"/photos/videos.html\">Videos</a>\n\t<a class=\"photos-btn\" target=\"_blank\" href=\"http://gallery.williamwqq.site\">摄影</a>\n</div>\n<center><h1>指弹_女儿情</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjUzMzY4OTM3Ng==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr>\n<center><h1>指弹_友谊地久天长</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ5MDExOTY2MA==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>\n<hr>\n<center><h1>指弹_Always with me</h1></center>\n<hr>\n<center>\n<div class=\"video-container\">\n<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA==\" frameborder=\"0\" allowfullscreen>\n</iframe>\n</div>\n</center>"},{"_content":"/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/\n        if (installedModules[moduleId])\n        /******/\n            return installedModules[moduleId].exports;\n        /******/\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n            /******/\n            exports: {},\n            /******/\n            id: moduleId,\n            /******/\n            loaded: false\n            /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n})\n/************************************************************************/\n/******/\n([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        'use strict';\n\n        __webpack_require__(1);\n\n        var _view = __webpack_require__(2);\n\n        var _view2 = _interopRequireDefault(_view);\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                default: obj\n            };\n        }\n\n        /**\n         * @name impush-client\n         * @description 这个项目让我发家致富…\n         * @date 2016-12-1\n         */\n\n        var _collection = [];\n        var _count = 0;\n        var searchData;\n\n        function addMask(elem) {\n            var rect = elem.getBoundingClientRect();\n            var style = getComputedStyle(elem, null);\n\n            var mask = document.createElement('i');\n            mask.className = 'icon-film';\n            mask.style.color = '#fff';\n            mask.style.fontSize = '26px';\n            mask.style.position = 'absolute';\n            mask.style.right = '10px';\n            mask.style.bottom = '10px';\n            mask.style.zIndex = 1;\n            elem.parentNode.appendChild(mask);\n        }\n\n        var createVideoIncon = function createVideoIncon() {\n            var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n            for (var i = 0, len = $videoImg.length; i < len; i++) {\n                addMask($videoImg[i]);\n            }\n        };\n        var render = function render(res) {\n            var ulTmpl = \"\";\n            for (var j = 0, len2 = res.list.length; j < len2; j++) {\n                var data = res.list[j].arr;\n                var liTmpl = \"\";\n                for (var i = 0, len = data.link.length; i < len; i++) {\n                    var minSrc = 'http://otxphxeyb.bkt.clouddn.com/ins-min/' + data.link[i] + '.min.jpg';\n                    var src = 'http://otxphxeyb.bkt.clouddn.com/ins/' + data.link[i];\n                    var type = data.type[i];\n                    var target = src + (type === 'video' ? '.mp4' : '.jpg');\n                    src += '.jpg';\n\n                    liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"640x640\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + minSrc + '\" src= \"http://www.williamwqq.site/assets/img/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n                }\n                ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n            }\n            document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n            createVideoIncon();\n            _view2.default.init();\n        };\n\n        var replacer = function replacer(str) {\n            var arr = str.split(\"/\");\n            return \"/assets/ins/\" + arr[arr.length - 1];\n        };\n\n        var ctrler = function ctrler(data) {\n            var imgObj = {};\n            for (var i = 0, len = data.length; i < len; i++) {\n                var y = data[i].y;\n                var m = data[i].m;\n                var src = replacer(data[i].src);\n                var text = data[i].text;\n                var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n                if (imgObj[key]) {\n                    imgObj[key].srclist.push(src);\n                    imgObj[key].text.push(text);\n                } else {\n                    imgObj[key] = {\n                        year: y,\n                        month: m,\n                        srclist: [src],\n                        text: [text]\n                    };\n                }\n            }\n            render(imgObj);\n        };\n\n        function loadData(success) {\n            if (!searchData) {\n                var xhr = new XMLHttpRequest();\n                xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n                xhr.onload = function() {\n                    if (this.status >= 200 && this.status < 300) {\n                        var res = JSON.parse(this.response);\n                        searchData = res;\n                        success(searchData);\n                    } else {\n                        console.error(this.statusText);\n                    }\n                };\n\n                xhr.onerror = function() {\n                    console.error(this.statusText);\n                };\n\n                xhr.send();\n            } else {\n                success(searchData);\n            }\n        }\n\n        var Ins = {\n            init: function init() {\n                loadData(function(data) {\n                    render(data);\n                });\n            }\n        };\n\n        Ins.init();\n\n        // export default impush;\n\n        /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            'use strict';\n\n            var inViewport = __webpack_require__(3);\n            var lazyAttrs = ['data-src'];\n\n            global.lzld = lazyload();\n\n            // Provide libs using getAttribute early to get the good src\n            // and not the fake data-src\n            replaceGetAttribute('Image');\n            replaceGetAttribute('IFrame');\n\n            function registerLazyAttr(attr) {\n                if (indexOf.call(lazyAttrs, attr) === -1) {\n                    lazyAttrs.push(attr);\n                }\n            }\n\n            function lazyload(opts) {\n                opts = merge({\n                    'offset': 333,\n                    'src': 'data-src',\n                    'container': false\n                }, opts || {});\n\n                if (typeof opts.src === 'string') {\n                    registerLazyAttr(opts.src);\n                }\n\n                var elts = [];\n\n                function show(elt) {\n                    var src = findRealSrc(elt);\n\n                    if (src) {\n                        elt.src = src;\n                    }\n\n                    elt.setAttribute('data-lzled', true);\n                    elts[indexOf.call(elts, elt)] = null;\n                }\n\n                function findRealSrc(elt) {\n                    if (typeof opts.src === 'function') {\n                        return opts.src(elt);\n                    }\n\n                    return elt.getAttribute(opts.src);\n                }\n\n                function register(elt) {\n                    elt.onload = null;\n                    elt.removeAttribute('onload');\n                    elt.onerror = null;\n                    elt.removeAttribute('onerror');\n\n                    if (indexOf.call(elts, elt) === -1) {\n                        inViewport(elt, opts, show);\n                    }\n                }\n\n                return register;\n            }\n\n            function replaceGetAttribute(elementName) {\n                var fullname = 'HTML' + elementName + 'Element';\n                if (fullname in global === false) {\n                    return;\n                }\n\n                var original = global[fullname].prototype.getAttribute;\n                global[fullname].prototype.getAttribute = function(name) {\n                    if (name === 'src') {\n                        var realSrc;\n                        for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                            realSrc = original.call(this, lazyAttrs[i]);\n                            if (realSrc) {\n                                break;\n                            }\n                        }\n\n                        return realSrc || original.call(this, name);\n                    }\n\n                    // our own lazyloader will go through theses lines\n                    // because we use getAttribute(opts.src)\n                    return original.call(this, name);\n                };\n            }\n\n            function merge(defaults, opts) {\n                for (var name in defaults) {\n                    if (opts[name] === undefined) {\n                        opts[name] = defaults[name];\n                    }\n                }\n\n                return opts;\n            }\n\n            // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n            function indexOf(value) {\n                for (var i = this.length; i-- && this[i] !== value;) {}\n                return i;\n            }\n\n            module.exports = lazyload;\n\n            // export default impush;\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n\n        'use strict';\n\n        var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n            // parse slide data (url, title, size ...) from DOM elements\n            // (children of gallerySelector)\n            var parseThumbnailElements = function parseThumbnailElements(el) {\n                el = el.parentNode.parentNode;\n                var thumbElements = el.getElementsByClassName('thumb'),\n                    numNodes = thumbElements.length,\n                    items = [],\n                    figureEl,\n                    linkEl,\n                    size,\n                    type,\n                // video or not\n                    target,\n                    item;\n\n                for (var i = 0; i < numNodes; i++) {\n\n                    figureEl = thumbElements[i]; //\n\n                    // include only element nodes\n                    if (figureEl.nodeType !== 1) {\n                        continue;\n                    }\n\n                    linkEl = figureEl.children[0]; //\n\n                    size = linkEl.getAttribute('data-size').split('x');\n                    type = linkEl.getAttribute('data-type');\n                    target = linkEl.getAttribute('data-target');\n                    // create slide object\n                    item = {\n                        src: linkEl.getAttribute('href'),\n                        w: parseInt(size[0], 10),\n                        h: parseInt(size[1], 10)\n                    };\n\n                    if (figureEl.children.length > 1) {\n                        item.title = figureEl.children[1].innerHTML;\n                    }\n\n                    if (linkEl.children.length > 0) {\n                        item.msrc = linkEl.children[0].getAttribute('src');\n                        item.type = type;\n                        item.target = target;\n                        item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n                        if (type === 'video') {\n                            //item.src = null;\n                        }\n                    }\n\n                    item.el = figureEl; // save link to element for getThumbBoundsFn\n                    items.push(item);\n                }\n\n                return items;\n            };\n\n            // find nearest parent element\n            var closest = function closest(el, fn) {\n                return el && (fn(el) ? el : closest(el.parentNode, fn));\n            };\n\n            // triggers when user clicks on thumbnail\n            var onThumbnailsClick = function onThumbnailsClick(e) {\n                e = e || window.event;\n                e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n                var eTarget = e.target || e.srcElement;\n\n                // find root element of slide\n                var clickedListItem = closest(eTarget, function(el) {\n                    return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n                });\n\n                if (!clickedListItem) {\n                    return;\n                }\n\n                // find index of clicked item by looping through all child nodes\n                // alternatively, you may define index via data- attribute\n                var clickedGallery = clickedListItem.parentNode,\n\n                // childNodes = clickedListItem.parentNode.childNodes,\n                // numChildNodes = childNodes.length,\n                    childNodes = document.getElementsByClassName('thumb'),\n                    numChildNodes = childNodes.length,\n                    nodeIndex = 0,\n                    index;\n\n                for (var i = 0; i < numChildNodes; i++) {\n                    if (childNodes[i].nodeType !== 1) {\n                        continue;\n                    }\n\n                    if (childNodes[i] === clickedListItem) {\n                        index = nodeIndex;\n                        break;\n                    }\n                    nodeIndex++;\n                }\n\n                if (index >= 0) {\n                    // open PhotoSwipe if valid index found\n                    openPhotoSwipe(index, clickedGallery);\n                }\n                return false;\n            };\n\n            // parse picture index and gallery index from URL (#&pid=1&gid=2)\n            var photoswipeParseHash = function photoswipeParseHash() {\n                var hash = window.location.hash.substring(1),\n                    params = {};\n\n                if (hash.length < 5) {\n                    return params;\n                }\n\n                var vars = hash.split('&');\n                for (var i = 0; i < vars.length; i++) {\n                    if (!vars[i]) {\n                        continue;\n                    }\n                    var pair = vars[i].split('=');\n                    if (pair.length < 2) {\n                        continue;\n                    }\n                    params[pair[0]] = pair[1];\n                }\n\n                if (params.gid) {\n                    params.gid = parseInt(params.gid, 10);\n                }\n\n                return params;\n            };\n\n            var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n                var pswpElement = document.querySelectorAll('.pswp')[0],\n                    gallery,\n                    options,\n                    items;\n\n                items = parseThumbnailElements(galleryElement);\n                // define options (if needed)\n                options = {\n\n                    // define gallery index (for URL)\n                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n                    getThumbBoundsFn: function getThumbBoundsFn(index) {\n                        // See Options -> getThumbBoundsFn section of documentation for more info\n                        var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                        // find thumbnail\n                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                            rect = thumbnail.getBoundingClientRect();\n\n                        return {\n                            x: rect.left,\n                            y: rect.top + pageYScroll,\n                            w: rect.width\n                        };\n                    }\n\n                };\n\n                // PhotoSwipe opened from URL\n                if (fromURL) {\n                    if (options.galleryPIDs) {\n                        // parse real index when custom PIDs are used\n                        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n                        for (var j = 0; j < items.length; j++) {\n                            if (items[j].pid == index) {\n                                options.index = j;\n                                break;\n                            }\n                        }\n                    } else {\n                        // in URL indexes start from 1\n                        options.index = parseInt(index, 10) - 1;\n                    }\n                } else {\n                    options.index = parseInt(index, 10);\n                }\n\n                // exit if index not found\n                if (isNaN(options.index)) {\n                    return;\n                }\n\n                if (disableAnimation) {\n                    options.showAnimationDuration = 0;\n                }\n\n                // Pass data to PhotoSwipe and initialize it\n                gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n                gallery.init();\n\n                var $tempVideo;\n                var stopVideoHandle = function stopVideoHandle() {\n                    if ($tempVideo) {\n                        $tempVideo.remove();\n                        $tempVideo = null;\n                    }\n                };\n                var changeHandle = function changeHandle() {\n                    var item = gallery.currItem;\n                    stopVideoHandle();\n                    if (item.type === 'video') {\n                        var $ctn = item.container;\n                        var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n                        var $video = document.createElement('video');\n                        $video.setAttribute('autoplay', 'autoplay');\n                        $video.setAttribute('controls', 'controls');\n                        $video.setAttribute('src', item.target);\n                        $video.style.width = style.width;\n                        $video.style.height = style.height;\n                        $video.style.position = 'absolute';\n                        $video.style.zIndex = 2;\n                        $tempVideo = $video;\n                        $ctn.appendChild($video);\n                    }\n                };\n                gallery.listen('initialZoomIn', changeHandle);\n                gallery.listen('afterChange', changeHandle);\n                gallery.listen('initialZoomOut', stopVideoHandle);\n            };\n\n            // loop through all gallery elements and bind events\n            var galleryElements = document.querySelectorAll(gallerySelector);\n            for (var i = 0, l = galleryElements.length; i < l; i++) {\n                galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n                galleryElements[i].onclick = onThumbnailsClick;\n            }\n\n            // Parse URL and open gallery if it contains #&pid=3&gid=1\n            var hashData = photoswipeParseHash();\n            if (hashData.pid && hashData.gid) {\n                openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n            }\n        };\n\n        var Viewer = function() {\n            function init() {\n                initPhotoSwipeFromDOM('.photos');\n            }\n            return {\n                init: init\n            };\n        }();\n\n        module.exports = Viewer;\n\n        /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            module.exports = inViewport;\n\n            var instances = [];\n            var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n            function inViewport(elt, params, cb) {\n                var opts = {\n                    container: global.document.body,\n                    offset: 0\n                };\n\n                if (params === undefined || typeof params === 'function') {\n                    cb = params;\n                    params = {};\n                }\n\n                var container = opts.container = params.container || opts.container;\n                var offset = opts.offset = params.offset || opts.offset;\n\n                for (var i = 0; i < instances.length; i++) {\n                    if (instances[i].container === container) {\n                        return instances[i].isInViewport(elt, offset, cb);\n                    }\n                }\n\n                return instances[\n                instances.push(createInViewport(container)) - 1\n                    ].isInViewport(elt, offset, cb);\n            }\n\n            function addEvent(el, type, fn) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + type, fn);\n                } else {\n                    el.addEventListener(type, fn, false);\n                }\n            }\n\n            function debounce(func, wait, immediate) {\n                var timeout;\n                return function() {\n                    var context = this,\n                        args = arguments;\n                    var callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) func.apply(context, args);\n\n                    function later() {\n                        timeout = null;\n                        if (!immediate) func.apply(context, args);\n                    }\n                };\n            }\n\n            // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n            var contains = function() {\n                if (!global.document) {\n                    return true;\n                }\n                return global.document.documentElement.compareDocumentPosition ?\n                    function(a, b) {\n                        return !!(a.compareDocumentPosition(b) & 16);\n                    } :\n                    global.document.documentElement.contains ?\n                        function(a, b) {\n                            return a !== b && (a.contains ? a.contains(b) : false);\n                        } :\n                        function(a, b) {\n                            while (b = b.parentNode) {\n                                if (b === a) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        };\n            }\n\n            function createInViewport(container) {\n                var watches = createWatches();\n\n                var scrollContainer = container === global.document.body ? global : container;\n                var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n                addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n                if (scrollContainer === global) {\n                    addEvent(global, 'resize', debouncedCheck);\n                }\n\n                if (supportsMutationObserver) {\n                    observeDOM(watches, container, debouncedCheck);\n                }\n\n                // failsafe check, every 200ms we check for visible images\n                // usecase: a hidden parent containing eleements\n                // when the parent becomes visible, we have no event that the children\n                // became visible\n                setInterval(debouncedCheck, 150);\n\n                function isInViewport(elt, offset, cb) {\n                    if (!cb) {\n                        return isVisible(elt, offset);\n                    }\n\n                    var remote = createRemote(elt, offset, cb);\n                    remote.watch();\n                    return remote;\n                }\n\n                function createRemote(elt, offset, cb) {\n                    function watch() {\n                        watches.add(elt, offset, cb);\n                    }\n\n                    function dispose() {\n                        watches.remove(elt);\n                    }\n\n                    return {\n                        watch: watch,\n                        dispose: dispose\n                    };\n                }\n\n                function watchInViewport(elt, offset, cb) {\n                    if (isVisible(elt, offset)) {\n                        watches.remove(elt);\n                        cb(elt);\n                    }\n                }\n\n                function isVisible(elt, offset) {\n                    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n                        return false;\n                    }\n\n                    // Check if the element is visible\n                    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n                    if (!elt.offsetWidth || !elt.offsetHeight) {\n                        return false;\n                    }\n\n                    var eltRect = elt.getBoundingClientRect();\n                    var viewport = {};\n\n                    if (container === global.document.body) {\n                        viewport = {\n                            top: -offset,\n                            left: -offset,\n                            right: global.document.documentElement.clientWidth + offset,\n                            bottom: global.document.documentElement.clientHeight + offset\n                        };\n                    } else {\n                        var containerRect = container.getBoundingClientRect();\n                        viewport = {\n                            top: containerRect.top - offset,\n                            left: containerRect.left - offset,\n                            right: containerRect.right + offset,\n                            bottom: containerRect.bottom + offset\n                        };\n                    }\n\n                    // The element must overlap with the visible part of the viewport\n                    var visible =\n                        (\n                            (eltRect.right > viewport.left) &&\n                            (eltRect.left < viewport.right) &&\n                            (eltRect.bottom > viewport.top) &&\n                            (eltRect.top < viewport.bottom)\n                        );\n\n                    return visible;\n                }\n\n                return {\n                    container: container,\n                    isInViewport: isInViewport\n                };\n            }\n\n            function createWatches() {\n                var watches = [];\n\n                function add(elt, offset, cb) {\n                    if (!isWatched(elt)) {\n                        watches.push([elt, offset, cb]);\n                    }\n                }\n\n                function remove(elt) {\n                    var pos = indexOf(elt);\n                    if (pos !== -1) {\n                        watches.splice(pos, 1);\n                    }\n                }\n\n                function indexOf(elt) {\n                    for (var i = watches.length - 1; i >= 0; i--) {\n                        if (watches[i][0] === elt) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                }\n\n                function isWatched(elt) {\n                    return indexOf(elt) !== -1;\n                }\n\n                function checkAll(cb) {\n                    return function() {\n                        for (var i = watches.length - 1; i >= 0; i--) {\n                            cb.apply(this, watches[i]);\n                        }\n                    };\n                }\n\n                return {\n                    add: add,\n                    remove: remove,\n                    isWatched: isWatched,\n                    checkAll: checkAll\n                };\n            }\n\n            function observeDOM(watches, container, cb) {\n                var observer = new MutationObserver(watch);\n                var filter = Array.prototype.filter;\n                var concat = Array.prototype.concat;\n\n                observer.observe(container, {\n                    childList: true,\n                    subtree: true,\n                    // changes like style/width/height/display will be catched\n                    attributes: true\n                });\n\n                function watch(mutations) {\n                    // some new DOM nodes where previously watched\n                    // we should check their positions\n                    if (mutations.some(knownNodes) === true) {\n                        setTimeout(cb, 0);\n                    }\n                }\n\n                function knownNodes(mutation) {\n                    var nodes = concat.call([],\n                        Array.prototype.slice.call(mutation.addedNodes),\n                        mutation.target\n                    );\n                    return filter.call(nodes, watches.isWatched).length > 0;\n                }\n            }\n\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    }\n    /******/\n]);","source":"photos/ins.js","raw":"/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/\n        if (installedModules[moduleId])\n        /******/\n            return installedModules[moduleId].exports;\n        /******/\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n            /******/\n            exports: {},\n            /******/\n            id: moduleId,\n            /******/\n            loaded: false\n            /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n})\n/************************************************************************/\n/******/\n([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        'use strict';\n\n        __webpack_require__(1);\n\n        var _view = __webpack_require__(2);\n\n        var _view2 = _interopRequireDefault(_view);\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                default: obj\n            };\n        }\n\n        /**\n         * @name impush-client\n         * @description 这个项目让我发家致富…\n         * @date 2016-12-1\n         */\n\n        var _collection = [];\n        var _count = 0;\n        var searchData;\n\n        function addMask(elem) {\n            var rect = elem.getBoundingClientRect();\n            var style = getComputedStyle(elem, null);\n\n            var mask = document.createElement('i');\n            mask.className = 'icon-film';\n            mask.style.color = '#fff';\n            mask.style.fontSize = '26px';\n            mask.style.position = 'absolute';\n            mask.style.right = '10px';\n            mask.style.bottom = '10px';\n            mask.style.zIndex = 1;\n            elem.parentNode.appendChild(mask);\n        }\n\n        var createVideoIncon = function createVideoIncon() {\n            var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n            for (var i = 0, len = $videoImg.length; i < len; i++) {\n                addMask($videoImg[i]);\n            }\n        };\n        var render = function render(res) {\n            var ulTmpl = \"\";\n            for (var j = 0, len2 = res.list.length; j < len2; j++) {\n                var data = res.list[j].arr;\n                var liTmpl = \"\";\n                for (var i = 0, len = data.link.length; i < len; i++) {\n                    var minSrc = 'http://otxphxeyb.bkt.clouddn.com/ins-min/' + data.link[i] + '.min.jpg';\n                    var src = 'http://otxphxeyb.bkt.clouddn.com/ins/' + data.link[i];\n                    var type = data.type[i];\n                    var target = src + (type === 'video' ? '.mp4' : '.jpg');\n                    src += '.jpg';\n\n                    liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"640x640\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + minSrc + '\" src= \"http://www.williamwqq.site/assets/img/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n                }\n                ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n            }\n            document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n            createVideoIncon();\n            _view2.default.init();\n        };\n\n        var replacer = function replacer(str) {\n            var arr = str.split(\"/\");\n            return \"/assets/ins/\" + arr[arr.length - 1];\n        };\n\n        var ctrler = function ctrler(data) {\n            var imgObj = {};\n            for (var i = 0, len = data.length; i < len; i++) {\n                var y = data[i].y;\n                var m = data[i].m;\n                var src = replacer(data[i].src);\n                var text = data[i].text;\n                var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n                if (imgObj[key]) {\n                    imgObj[key].srclist.push(src);\n                    imgObj[key].text.push(text);\n                } else {\n                    imgObj[key] = {\n                        year: y,\n                        month: m,\n                        srclist: [src],\n                        text: [text]\n                    };\n                }\n            }\n            render(imgObj);\n        };\n\n        function loadData(success) {\n            if (!searchData) {\n                var xhr = new XMLHttpRequest();\n                xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n                xhr.onload = function() {\n                    if (this.status >= 200 && this.status < 300) {\n                        var res = JSON.parse(this.response);\n                        searchData = res;\n                        success(searchData);\n                    } else {\n                        console.error(this.statusText);\n                    }\n                };\n\n                xhr.onerror = function() {\n                    console.error(this.statusText);\n                };\n\n                xhr.send();\n            } else {\n                success(searchData);\n            }\n        }\n\n        var Ins = {\n            init: function init() {\n                loadData(function(data) {\n                    render(data);\n                });\n            }\n        };\n\n        Ins.init();\n\n        // export default impush;\n\n        /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            'use strict';\n\n            var inViewport = __webpack_require__(3);\n            var lazyAttrs = ['data-src'];\n\n            global.lzld = lazyload();\n\n            // Provide libs using getAttribute early to get the good src\n            // and not the fake data-src\n            replaceGetAttribute('Image');\n            replaceGetAttribute('IFrame');\n\n            function registerLazyAttr(attr) {\n                if (indexOf.call(lazyAttrs, attr) === -1) {\n                    lazyAttrs.push(attr);\n                }\n            }\n\n            function lazyload(opts) {\n                opts = merge({\n                    'offset': 333,\n                    'src': 'data-src',\n                    'container': false\n                }, opts || {});\n\n                if (typeof opts.src === 'string') {\n                    registerLazyAttr(opts.src);\n                }\n\n                var elts = [];\n\n                function show(elt) {\n                    var src = findRealSrc(elt);\n\n                    if (src) {\n                        elt.src = src;\n                    }\n\n                    elt.setAttribute('data-lzled', true);\n                    elts[indexOf.call(elts, elt)] = null;\n                }\n\n                function findRealSrc(elt) {\n                    if (typeof opts.src === 'function') {\n                        return opts.src(elt);\n                    }\n\n                    return elt.getAttribute(opts.src);\n                }\n\n                function register(elt) {\n                    elt.onload = null;\n                    elt.removeAttribute('onload');\n                    elt.onerror = null;\n                    elt.removeAttribute('onerror');\n\n                    if (indexOf.call(elts, elt) === -1) {\n                        inViewport(elt, opts, show);\n                    }\n                }\n\n                return register;\n            }\n\n            function replaceGetAttribute(elementName) {\n                var fullname = 'HTML' + elementName + 'Element';\n                if (fullname in global === false) {\n                    return;\n                }\n\n                var original = global[fullname].prototype.getAttribute;\n                global[fullname].prototype.getAttribute = function(name) {\n                    if (name === 'src') {\n                        var realSrc;\n                        for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                            realSrc = original.call(this, lazyAttrs[i]);\n                            if (realSrc) {\n                                break;\n                            }\n                        }\n\n                        return realSrc || original.call(this, name);\n                    }\n\n                    // our own lazyloader will go through theses lines\n                    // because we use getAttribute(opts.src)\n                    return original.call(this, name);\n                };\n            }\n\n            function merge(defaults, opts) {\n                for (var name in defaults) {\n                    if (opts[name] === undefined) {\n                        opts[name] = defaults[name];\n                    }\n                }\n\n                return opts;\n            }\n\n            // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n            function indexOf(value) {\n                for (var i = this.length; i-- && this[i] !== value;) {}\n                return i;\n            }\n\n            module.exports = lazyload;\n\n            // export default impush;\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n\n        'use strict';\n\n        var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n            // parse slide data (url, title, size ...) from DOM elements\n            // (children of gallerySelector)\n            var parseThumbnailElements = function parseThumbnailElements(el) {\n                el = el.parentNode.parentNode;\n                var thumbElements = el.getElementsByClassName('thumb'),\n                    numNodes = thumbElements.length,\n                    items = [],\n                    figureEl,\n                    linkEl,\n                    size,\n                    type,\n                // video or not\n                    target,\n                    item;\n\n                for (var i = 0; i < numNodes; i++) {\n\n                    figureEl = thumbElements[i]; //\n\n                    // include only element nodes\n                    if (figureEl.nodeType !== 1) {\n                        continue;\n                    }\n\n                    linkEl = figureEl.children[0]; //\n\n                    size = linkEl.getAttribute('data-size').split('x');\n                    type = linkEl.getAttribute('data-type');\n                    target = linkEl.getAttribute('data-target');\n                    // create slide object\n                    item = {\n                        src: linkEl.getAttribute('href'),\n                        w: parseInt(size[0], 10),\n                        h: parseInt(size[1], 10)\n                    };\n\n                    if (figureEl.children.length > 1) {\n                        item.title = figureEl.children[1].innerHTML;\n                    }\n\n                    if (linkEl.children.length > 0) {\n                        item.msrc = linkEl.children[0].getAttribute('src');\n                        item.type = type;\n                        item.target = target;\n                        item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n                        if (type === 'video') {\n                            //item.src = null;\n                        }\n                    }\n\n                    item.el = figureEl; // save link to element for getThumbBoundsFn\n                    items.push(item);\n                }\n\n                return items;\n            };\n\n            // find nearest parent element\n            var closest = function closest(el, fn) {\n                return el && (fn(el) ? el : closest(el.parentNode, fn));\n            };\n\n            // triggers when user clicks on thumbnail\n            var onThumbnailsClick = function onThumbnailsClick(e) {\n                e = e || window.event;\n                e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n                var eTarget = e.target || e.srcElement;\n\n                // find root element of slide\n                var clickedListItem = closest(eTarget, function(el) {\n                    return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n                });\n\n                if (!clickedListItem) {\n                    return;\n                }\n\n                // find index of clicked item by looping through all child nodes\n                // alternatively, you may define index via data- attribute\n                var clickedGallery = clickedListItem.parentNode,\n\n                // childNodes = clickedListItem.parentNode.childNodes,\n                // numChildNodes = childNodes.length,\n                    childNodes = document.getElementsByClassName('thumb'),\n                    numChildNodes = childNodes.length,\n                    nodeIndex = 0,\n                    index;\n\n                for (var i = 0; i < numChildNodes; i++) {\n                    if (childNodes[i].nodeType !== 1) {\n                        continue;\n                    }\n\n                    if (childNodes[i] === clickedListItem) {\n                        index = nodeIndex;\n                        break;\n                    }\n                    nodeIndex++;\n                }\n\n                if (index >= 0) {\n                    // open PhotoSwipe if valid index found\n                    openPhotoSwipe(index, clickedGallery);\n                }\n                return false;\n            };\n\n            // parse picture index and gallery index from URL (#&pid=1&gid=2)\n            var photoswipeParseHash = function photoswipeParseHash() {\n                var hash = window.location.hash.substring(1),\n                    params = {};\n\n                if (hash.length < 5) {\n                    return params;\n                }\n\n                var vars = hash.split('&');\n                for (var i = 0; i < vars.length; i++) {\n                    if (!vars[i]) {\n                        continue;\n                    }\n                    var pair = vars[i].split('=');\n                    if (pair.length < 2) {\n                        continue;\n                    }\n                    params[pair[0]] = pair[1];\n                }\n\n                if (params.gid) {\n                    params.gid = parseInt(params.gid, 10);\n                }\n\n                return params;\n            };\n\n            var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n                var pswpElement = document.querySelectorAll('.pswp')[0],\n                    gallery,\n                    options,\n                    items;\n\n                items = parseThumbnailElements(galleryElement);\n                // define options (if needed)\n                options = {\n\n                    // define gallery index (for URL)\n                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n                    getThumbBoundsFn: function getThumbBoundsFn(index) {\n                        // See Options -> getThumbBoundsFn section of documentation for more info\n                        var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                        // find thumbnail\n                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                            rect = thumbnail.getBoundingClientRect();\n\n                        return {\n                            x: rect.left,\n                            y: rect.top + pageYScroll,\n                            w: rect.width\n                        };\n                    }\n\n                };\n\n                // PhotoSwipe opened from URL\n                if (fromURL) {\n                    if (options.galleryPIDs) {\n                        // parse real index when custom PIDs are used\n                        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n                        for (var j = 0; j < items.length; j++) {\n                            if (items[j].pid == index) {\n                                options.index = j;\n                                break;\n                            }\n                        }\n                    } else {\n                        // in URL indexes start from 1\n                        options.index = parseInt(index, 10) - 1;\n                    }\n                } else {\n                    options.index = parseInt(index, 10);\n                }\n\n                // exit if index not found\n                if (isNaN(options.index)) {\n                    return;\n                }\n\n                if (disableAnimation) {\n                    options.showAnimationDuration = 0;\n                }\n\n                // Pass data to PhotoSwipe and initialize it\n                gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n                gallery.init();\n\n                var $tempVideo;\n                var stopVideoHandle = function stopVideoHandle() {\n                    if ($tempVideo) {\n                        $tempVideo.remove();\n                        $tempVideo = null;\n                    }\n                };\n                var changeHandle = function changeHandle() {\n                    var item = gallery.currItem;\n                    stopVideoHandle();\n                    if (item.type === 'video') {\n                        var $ctn = item.container;\n                        var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n                        var $video = document.createElement('video');\n                        $video.setAttribute('autoplay', 'autoplay');\n                        $video.setAttribute('controls', 'controls');\n                        $video.setAttribute('src', item.target);\n                        $video.style.width = style.width;\n                        $video.style.height = style.height;\n                        $video.style.position = 'absolute';\n                        $video.style.zIndex = 2;\n                        $tempVideo = $video;\n                        $ctn.appendChild($video);\n                    }\n                };\n                gallery.listen('initialZoomIn', changeHandle);\n                gallery.listen('afterChange', changeHandle);\n                gallery.listen('initialZoomOut', stopVideoHandle);\n            };\n\n            // loop through all gallery elements and bind events\n            var galleryElements = document.querySelectorAll(gallerySelector);\n            for (var i = 0, l = galleryElements.length; i < l; i++) {\n                galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n                galleryElements[i].onclick = onThumbnailsClick;\n            }\n\n            // Parse URL and open gallery if it contains #&pid=3&gid=1\n            var hashData = photoswipeParseHash();\n            if (hashData.pid && hashData.gid) {\n                openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n            }\n        };\n\n        var Viewer = function() {\n            function init() {\n                initPhotoSwipeFromDOM('.photos');\n            }\n            return {\n                init: init\n            };\n        }();\n\n        module.exports = Viewer;\n\n        /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            module.exports = inViewport;\n\n            var instances = [];\n            var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n            function inViewport(elt, params, cb) {\n                var opts = {\n                    container: global.document.body,\n                    offset: 0\n                };\n\n                if (params === undefined || typeof params === 'function') {\n                    cb = params;\n                    params = {};\n                }\n\n                var container = opts.container = params.container || opts.container;\n                var offset = opts.offset = params.offset || opts.offset;\n\n                for (var i = 0; i < instances.length; i++) {\n                    if (instances[i].container === container) {\n                        return instances[i].isInViewport(elt, offset, cb);\n                    }\n                }\n\n                return instances[\n                instances.push(createInViewport(container)) - 1\n                    ].isInViewport(elt, offset, cb);\n            }\n\n            function addEvent(el, type, fn) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + type, fn);\n                } else {\n                    el.addEventListener(type, fn, false);\n                }\n            }\n\n            function debounce(func, wait, immediate) {\n                var timeout;\n                return function() {\n                    var context = this,\n                        args = arguments;\n                    var callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) func.apply(context, args);\n\n                    function later() {\n                        timeout = null;\n                        if (!immediate) func.apply(context, args);\n                    }\n                };\n            }\n\n            // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n            var contains = function() {\n                if (!global.document) {\n                    return true;\n                }\n                return global.document.documentElement.compareDocumentPosition ?\n                    function(a, b) {\n                        return !!(a.compareDocumentPosition(b) & 16);\n                    } :\n                    global.document.documentElement.contains ?\n                        function(a, b) {\n                            return a !== b && (a.contains ? a.contains(b) : false);\n                        } :\n                        function(a, b) {\n                            while (b = b.parentNode) {\n                                if (b === a) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        };\n            }\n\n            function createInViewport(container) {\n                var watches = createWatches();\n\n                var scrollContainer = container === global.document.body ? global : container;\n                var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n                addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n                if (scrollContainer === global) {\n                    addEvent(global, 'resize', debouncedCheck);\n                }\n\n                if (supportsMutationObserver) {\n                    observeDOM(watches, container, debouncedCheck);\n                }\n\n                // failsafe check, every 200ms we check for visible images\n                // usecase: a hidden parent containing eleements\n                // when the parent becomes visible, we have no event that the children\n                // became visible\n                setInterval(debouncedCheck, 150);\n\n                function isInViewport(elt, offset, cb) {\n                    if (!cb) {\n                        return isVisible(elt, offset);\n                    }\n\n                    var remote = createRemote(elt, offset, cb);\n                    remote.watch();\n                    return remote;\n                }\n\n                function createRemote(elt, offset, cb) {\n                    function watch() {\n                        watches.add(elt, offset, cb);\n                    }\n\n                    function dispose() {\n                        watches.remove(elt);\n                    }\n\n                    return {\n                        watch: watch,\n                        dispose: dispose\n                    };\n                }\n\n                function watchInViewport(elt, offset, cb) {\n                    if (isVisible(elt, offset)) {\n                        watches.remove(elt);\n                        cb(elt);\n                    }\n                }\n\n                function isVisible(elt, offset) {\n                    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n                        return false;\n                    }\n\n                    // Check if the element is visible\n                    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n                    if (!elt.offsetWidth || !elt.offsetHeight) {\n                        return false;\n                    }\n\n                    var eltRect = elt.getBoundingClientRect();\n                    var viewport = {};\n\n                    if (container === global.document.body) {\n                        viewport = {\n                            top: -offset,\n                            left: -offset,\n                            right: global.document.documentElement.clientWidth + offset,\n                            bottom: global.document.documentElement.clientHeight + offset\n                        };\n                    } else {\n                        var containerRect = container.getBoundingClientRect();\n                        viewport = {\n                            top: containerRect.top - offset,\n                            left: containerRect.left - offset,\n                            right: containerRect.right + offset,\n                            bottom: containerRect.bottom + offset\n                        };\n                    }\n\n                    // The element must overlap with the visible part of the viewport\n                    var visible =\n                        (\n                            (eltRect.right > viewport.left) &&\n                            (eltRect.left < viewport.right) &&\n                            (eltRect.bottom > viewport.top) &&\n                            (eltRect.top < viewport.bottom)\n                        );\n\n                    return visible;\n                }\n\n                return {\n                    container: container,\n                    isInViewport: isInViewport\n                };\n            }\n\n            function createWatches() {\n                var watches = [];\n\n                function add(elt, offset, cb) {\n                    if (!isWatched(elt)) {\n                        watches.push([elt, offset, cb]);\n                    }\n                }\n\n                function remove(elt) {\n                    var pos = indexOf(elt);\n                    if (pos !== -1) {\n                        watches.splice(pos, 1);\n                    }\n                }\n\n                function indexOf(elt) {\n                    for (var i = watches.length - 1; i >= 0; i--) {\n                        if (watches[i][0] === elt) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                }\n\n                function isWatched(elt) {\n                    return indexOf(elt) !== -1;\n                }\n\n                function checkAll(cb) {\n                    return function() {\n                        for (var i = watches.length - 1; i >= 0; i--) {\n                            cb.apply(this, watches[i]);\n                        }\n                    };\n                }\n\n                return {\n                    add: add,\n                    remove: remove,\n                    isWatched: isWatched,\n                    checkAll: checkAll\n                };\n            }\n\n            function observeDOM(watches, container, cb) {\n                var observer = new MutationObserver(watch);\n                var filter = Array.prototype.filter;\n                var concat = Array.prototype.concat;\n\n                observer.observe(container, {\n                    childList: true,\n                    subtree: true,\n                    // changes like style/width/height/display will be catched\n                    attributes: true\n                });\n\n                function watch(mutations) {\n                    // some new DOM nodes where previously watched\n                    // we should check their positions\n                    if (mutations.some(knownNodes) === true) {\n                        setTimeout(cb, 0);\n                    }\n                }\n\n                function knownNodes(mutation) {\n                    var nodes = concat.call([],\n                        Array.prototype.slice.call(mutation.addedNodes),\n                        mutation.target\n                    );\n                    return filter.call(nodes, watches.isWatched).length > 0;\n                }\n            }\n\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    }\n    /******/\n]);","date":"2017-07-31T03:04:32.592Z","updated":"2017-07-31T03:04:32.592Z","path":"photos/ins.js","layout":"false","title":"","comments":1,"_id":"cj63dx7my000bzwv3psniier4","content":"/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/\n        if (installedModules[moduleId])\n        /******/\n            return installedModules[moduleId].exports;\n        /******/\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n            /******/\n            exports: {},\n            /******/\n            id: moduleId,\n            /******/\n            loaded: false\n            /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n})\n/************************************************************************/\n/******/\n([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        'use strict';\n\n        __webpack_require__(1);\n\n        var _view = __webpack_require__(2);\n\n        var _view2 = _interopRequireDefault(_view);\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                default: obj\n            };\n        }\n\n        /**\n         * @name impush-client\n         * @description 这个项目让我发家致富…\n         * @date 2016-12-1\n         */\n\n        var _collection = [];\n        var _count = 0;\n        var searchData;\n\n        function addMask(elem) {\n            var rect = elem.getBoundingClientRect();\n            var style = getComputedStyle(elem, null);\n\n            var mask = document.createElement('i');\n            mask.className = 'icon-film';\n            mask.style.color = '#fff';\n            mask.style.fontSize = '26px';\n            mask.style.position = 'absolute';\n            mask.style.right = '10px';\n            mask.style.bottom = '10px';\n            mask.style.zIndex = 1;\n            elem.parentNode.appendChild(mask);\n        }\n\n        var createVideoIncon = function createVideoIncon() {\n            var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n            for (var i = 0, len = $videoImg.length; i < len; i++) {\n                addMask($videoImg[i]);\n            }\n        };\n        var render = function render(res) {\n            var ulTmpl = \"\";\n            for (var j = 0, len2 = res.list.length; j < len2; j++) {\n                var data = res.list[j].arr;\n                var liTmpl = \"\";\n                for (var i = 0, len = data.link.length; i < len; i++) {\n                    var minSrc = 'http://otxphxeyb.bkt.clouddn.com/ins-min/' + data.link[i] + '.min.jpg';\n                    var src = 'http://otxphxeyb.bkt.clouddn.com/ins/' + data.link[i];\n                    var type = data.type[i];\n                    var target = src + (type === 'video' ? '.mp4' : '.jpg');\n                    src += '.jpg';\n\n                    liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"640x640\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + minSrc + '\" src=\"http://www.williamwqq.site/assets/img/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n                }\n                ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n            }\n            document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n            createVideoIncon();\n            _view2.default.init();\n        };\n\n        var replacer = function replacer(str) {\n            var arr = str.split(\"/\");\n            return \"/assets/ins/\" + arr[arr.length - 1];\n        };\n\n        var ctrler = function ctrler(data) {\n            var imgObj = {};\n            for (var i = 0, len = data.length; i < len; i++) {\n                var y = data[i].y;\n                var m = data[i].m;\n                var src = replacer(data[i].src);\n                var text = data[i].text;\n                var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n                if (imgObj[key]) {\n                    imgObj[key].srclist.push(src);\n                    imgObj[key].text.push(text);\n                } else {\n                    imgObj[key] = {\n                        year: y,\n                        month: m,\n                        srclist: [src],\n                        text: [text]\n                    };\n                }\n            }\n            render(imgObj);\n        };\n\n        function loadData(success) {\n            if (!searchData) {\n                var xhr = new XMLHttpRequest();\n                xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n                xhr.onload = function() {\n                    if (this.status >= 200 && this.status < 300) {\n                        var res = JSON.parse(this.response);\n                        searchData = res;\n                        success(searchData);\n                    } else {\n                        console.error(this.statusText);\n                    }\n                };\n\n                xhr.onerror = function() {\n                    console.error(this.statusText);\n                };\n\n                xhr.send();\n            } else {\n                success(searchData);\n            }\n        }\n\n        var Ins = {\n            init: function init() {\n                loadData(function(data) {\n                    render(data);\n                });\n            }\n        };\n\n        Ins.init();\n\n        // export default impush;\n\n        /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            'use strict';\n\n            var inViewport = __webpack_require__(3);\n            var lazyAttrs = ['data-src'];\n\n            global.lzld = lazyload();\n\n            // Provide libs using getAttribute early to get the good src\n            // and not the fake data-src\n            replaceGetAttribute('Image');\n            replaceGetAttribute('IFrame');\n\n            function registerLazyAttr(attr) {\n                if (indexOf.call(lazyAttrs, attr) === -1) {\n                    lazyAttrs.push(attr);\n                }\n            }\n\n            function lazyload(opts) {\n                opts = merge({\n                    'offset': 333,\n                    'src': 'data-src',\n                    'container': false\n                }, opts || {});\n\n                if (typeof opts.src === 'string') {\n                    registerLazyAttr(opts.src);\n                }\n\n                var elts = [];\n\n                function show(elt) {\n                    var src = findRealSrc(elt);\n\n                    if (src) {\n                        elt.src = src;\n                    }\n\n                    elt.setAttribute('data-lzled', true);\n                    elts[indexOf.call(elts, elt)] = null;\n                }\n\n                function findRealSrc(elt) {\n                    if (typeof opts.src === 'function') {\n                        return opts.src(elt);\n                    }\n\n                    return elt.getAttribute(opts.src);\n                }\n\n                function register(elt) {\n                    elt.onload = null;\n                    elt.removeAttribute('onload');\n                    elt.onerror = null;\n                    elt.removeAttribute('onerror');\n\n                    if (indexOf.call(elts, elt) === -1) {\n                        inViewport(elt, opts, show);\n                    }\n                }\n\n                return register;\n            }\n\n            function replaceGetAttribute(elementName) {\n                var fullname = 'HTML' + elementName + 'Element';\n                if (fullname in global === false) {\n                    return;\n                }\n\n                var original = global[fullname].prototype.getAttribute;\n                global[fullname].prototype.getAttribute = function(name) {\n                    if (name === 'src') {\n                        var realSrc;\n                        for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                            realSrc = original.call(this, lazyAttrs[i]);\n                            if (realSrc) {\n                                break;\n                            }\n                        }\n\n                        return realSrc || original.call(this, name);\n                    }\n\n                    // our own lazyloader will go through theses lines\n                    // because we use getAttribute(opts.src)\n                    return original.call(this, name);\n                };\n            }\n\n            function merge(defaults, opts) {\n                for (var name in defaults) {\n                    if (opts[name] === undefined) {\n                        opts[name] = defaults[name];\n                    }\n                }\n\n                return opts;\n            }\n\n            // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n            function indexOf(value) {\n                for (var i = this.length; i-- && this[i] !== value;) {}\n                return i;\n            }\n\n            module.exports = lazyload;\n\n            // export default impush;\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n\n        'use strict';\n\n        var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n            // parse slide data (url, title, size ...) from DOM elements\n            // (children of gallerySelector)\n            var parseThumbnailElements = function parseThumbnailElements(el) {\n                el = el.parentNode.parentNode;\n                var thumbElements = el.getElementsByClassName('thumb'),\n                    numNodes = thumbElements.length,\n                    items = [],\n                    figureEl,\n                    linkEl,\n                    size,\n                    type,\n                // video or not\n                    target,\n                    item;\n\n                for (var i = 0; i < numNodes; i++) {\n\n                    figureEl = thumbElements[i]; //\n\n                    // include only element nodes\n                    if (figureEl.nodeType !== 1) {\n                        continue;\n                    }\n\n                    linkEl = figureEl.children[0]; //\n\n                    size = linkEl.getAttribute('data-size').split('x');\n                    type = linkEl.getAttribute('data-type');\n                    target = linkEl.getAttribute('data-target');\n                    // create slide object\n                    item = {\n                        src: linkEl.getAttribute('href'),\n                        w: parseInt(size[0], 10),\n                        h: parseInt(size[1], 10)\n                    };\n\n                    if (figureEl.children.length > 1) {\n                        item.title = figureEl.children[1].innerHTML;\n                    }\n\n                    if (linkEl.children.length > 0) {\n                        item.msrc = linkEl.children[0].getAttribute('src');\n                        item.type = type;\n                        item.target = target;\n                        item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n                        if (type === 'video') {\n                            //item.src = null;\n                        }\n                    }\n\n                    item.el = figureEl; // save link to element for getThumbBoundsFn\n                    items.push(item);\n                }\n\n                return items;\n            };\n\n            // find nearest parent element\n            var closest = function closest(el, fn) {\n                return el && (fn(el) ? el : closest(el.parentNode, fn));\n            };\n\n            // triggers when user clicks on thumbnail\n            var onThumbnailsClick = function onThumbnailsClick(e) {\n                e = e || window.event;\n                e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n                var eTarget = e.target || e.srcElement;\n\n                // find root element of slide\n                var clickedListItem = closest(eTarget, function(el) {\n                    return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n                });\n\n                if (!clickedListItem) {\n                    return;\n                }\n\n                // find index of clicked item by looping through all child nodes\n                // alternatively, you may define index via data- attribute\n                var clickedGallery = clickedListItem.parentNode,\n\n                // childNodes = clickedListItem.parentNode.childNodes,\n                // numChildNodes = childNodes.length,\n                    childNodes = document.getElementsByClassName('thumb'),\n                    numChildNodes = childNodes.length,\n                    nodeIndex = 0,\n                    index;\n\n                for (var i = 0; i < numChildNodes; i++) {\n                    if (childNodes[i].nodeType !== 1) {\n                        continue;\n                    }\n\n                    if (childNodes[i] === clickedListItem) {\n                        index = nodeIndex;\n                        break;\n                    }\n                    nodeIndex++;\n                }\n\n                if (index >= 0) {\n                    // open PhotoSwipe if valid index found\n                    openPhotoSwipe(index, clickedGallery);\n                }\n                return false;\n            };\n\n            // parse picture index and gallery index from URL (#&pid=1&gid=2)\n            var photoswipeParseHash = function photoswipeParseHash() {\n                var hash = window.location.hash.substring(1),\n                    params = {};\n\n                if (hash.length < 5) {\n                    return params;\n                }\n\n                var vars = hash.split('&');\n                for (var i = 0; i < vars.length; i++) {\n                    if (!vars[i]) {\n                        continue;\n                    }\n                    var pair = vars[i].split('=');\n                    if (pair.length < 2) {\n                        continue;\n                    }\n                    params[pair[0]] = pair[1];\n                }\n\n                if (params.gid) {\n                    params.gid = parseInt(params.gid, 10);\n                }\n\n                return params;\n            };\n\n            var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n                var pswpElement = document.querySelectorAll('.pswp')[0],\n                    gallery,\n                    options,\n                    items;\n\n                items = parseThumbnailElements(galleryElement);\n                // define options (if needed)\n                options = {\n\n                    // define gallery index (for URL)\n                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n                    getThumbBoundsFn: function getThumbBoundsFn(index) {\n                        // See Options -> getThumbBoundsFn section of documentation for more info\n                        var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                        // find thumbnail\n                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                            rect = thumbnail.getBoundingClientRect();\n\n                        return {\n                            x: rect.left,\n                            y: rect.top + pageYScroll,\n                            w: rect.width\n                        };\n                    }\n\n                };\n\n                // PhotoSwipe opened from URL\n                if (fromURL) {\n                    if (options.galleryPIDs) {\n                        // parse real index when custom PIDs are used\n                        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n                        for (var j = 0; j < items.length; j++) {\n                            if (items[j].pid == index) {\n                                options.index = j;\n                                break;\n                            }\n                        }\n                    } else {\n                        // in URL indexes start from 1\n                        options.index = parseInt(index, 10) - 1;\n                    }\n                } else {\n                    options.index = parseInt(index, 10);\n                }\n\n                // exit if index not found\n                if (isNaN(options.index)) {\n                    return;\n                }\n\n                if (disableAnimation) {\n                    options.showAnimationDuration = 0;\n                }\n\n                // Pass data to PhotoSwipe and initialize it\n                gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n                gallery.init();\n\n                var $tempVideo;\n                var stopVideoHandle = function stopVideoHandle() {\n                    if ($tempVideo) {\n                        $tempVideo.remove();\n                        $tempVideo = null;\n                    }\n                };\n                var changeHandle = function changeHandle() {\n                    var item = gallery.currItem;\n                    stopVideoHandle();\n                    if (item.type === 'video') {\n                        var $ctn = item.container;\n                        var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n                        var $video = document.createElement('video');\n                        $video.setAttribute('autoplay', 'autoplay');\n                        $video.setAttribute('controls', 'controls');\n                        $video.setAttribute('src', item.target);\n                        $video.style.width = style.width;\n                        $video.style.height = style.height;\n                        $video.style.position = 'absolute';\n                        $video.style.zIndex = 2;\n                        $tempVideo = $video;\n                        $ctn.appendChild($video);\n                    }\n                };\n                gallery.listen('initialZoomIn', changeHandle);\n                gallery.listen('afterChange', changeHandle);\n                gallery.listen('initialZoomOut', stopVideoHandle);\n            };\n\n            // loop through all gallery elements and bind events\n            var galleryElements = document.querySelectorAll(gallerySelector);\n            for (var i = 0, l = galleryElements.length; i < l; i++) {\n                galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n                galleryElements[i].onclick = onThumbnailsClick;\n            }\n\n            // Parse URL and open gallery if it contains #&pid=3&gid=1\n            var hashData = photoswipeParseHash();\n            if (hashData.pid && hashData.gid) {\n                openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n            }\n        };\n\n        var Viewer = function() {\n            function init() {\n                initPhotoSwipeFromDOM('.photos');\n            }\n            return {\n                init: init\n            };\n        }();\n\n        module.exports = Viewer;\n\n        /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            module.exports = inViewport;\n\n            var instances = [];\n            var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n            function inViewport(elt, params, cb) {\n                var opts = {\n                    container: global.document.body,\n                    offset: 0\n                };\n\n                if (params === undefined || typeof params === 'function') {\n                    cb = params;\n                    params = {};\n                }\n\n                var container = opts.container = params.container || opts.container;\n                var offset = opts.offset = params.offset || opts.offset;\n\n                for (var i = 0; i < instances.length; i++) {\n                    if (instances[i].container === container) {\n                        return instances[i].isInViewport(elt, offset, cb);\n                    }\n                }\n\n                return instances[\n                instances.push(createInViewport(container)) - 1\n                    ].isInViewport(elt, offset, cb);\n            }\n\n            function addEvent(el, type, fn) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + type, fn);\n                } else {\n                    el.addEventListener(type, fn, false);\n                }\n            }\n\n            function debounce(func, wait, immediate) {\n                var timeout;\n                return function() {\n                    var context = this,\n                        args = arguments;\n                    var callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) func.apply(context, args);\n\n                    function later() {\n                        timeout = null;\n                        if (!immediate) func.apply(context, args);\n                    }\n                };\n            }\n\n            // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n            var contains = function() {\n                if (!global.document) {\n                    return true;\n                }\n                return global.document.documentElement.compareDocumentPosition ?\n                    function(a, b) {\n                        return !!(a.compareDocumentPosition(b) & 16);\n                    } :\n                    global.document.documentElement.contains ?\n                        function(a, b) {\n                            return a !== b && (a.contains ? a.contains(b) : false);\n                        } :\n                        function(a, b) {\n                            while (b = b.parentNode) {\n                                if (b === a) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        };\n            }\n\n            function createInViewport(container) {\n                var watches = createWatches();\n\n                var scrollContainer = container === global.document.body ? global : container;\n                var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n                addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n                if (scrollContainer === global) {\n                    addEvent(global, 'resize', debouncedCheck);\n                }\n\n                if (supportsMutationObserver) {\n                    observeDOM(watches, container, debouncedCheck);\n                }\n\n                // failsafe check, every 200ms we check for visible images\n                // usecase: a hidden parent containing eleements\n                // when the parent becomes visible, we have no event that the children\n                // became visible\n                setInterval(debouncedCheck, 150);\n\n                function isInViewport(elt, offset, cb) {\n                    if (!cb) {\n                        return isVisible(elt, offset);\n                    }\n\n                    var remote = createRemote(elt, offset, cb);\n                    remote.watch();\n                    return remote;\n                }\n\n                function createRemote(elt, offset, cb) {\n                    function watch() {\n                        watches.add(elt, offset, cb);\n                    }\n\n                    function dispose() {\n                        watches.remove(elt);\n                    }\n\n                    return {\n                        watch: watch,\n                        dispose: dispose\n                    };\n                }\n\n                function watchInViewport(elt, offset, cb) {\n                    if (isVisible(elt, offset)) {\n                        watches.remove(elt);\n                        cb(elt);\n                    }\n                }\n\n                function isVisible(elt, offset) {\n                    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n                        return false;\n                    }\n\n                    // Check if the element is visible\n                    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n                    if (!elt.offsetWidth || !elt.offsetHeight) {\n                        return false;\n                    }\n\n                    var eltRect = elt.getBoundingClientRect();\n                    var viewport = {};\n\n                    if (container === global.document.body) {\n                        viewport = {\n                            top: -offset,\n                            left: -offset,\n                            right: global.document.documentElement.clientWidth + offset,\n                            bottom: global.document.documentElement.clientHeight + offset\n                        };\n                    } else {\n                        var containerRect = container.getBoundingClientRect();\n                        viewport = {\n                            top: containerRect.top - offset,\n                            left: containerRect.left - offset,\n                            right: containerRect.right + offset,\n                            bottom: containerRect.bottom + offset\n                        };\n                    }\n\n                    // The element must overlap with the visible part of the viewport\n                    var visible =\n                        (\n                            (eltRect.right > viewport.left) &&\n                            (eltRect.left < viewport.right) &&\n                            (eltRect.bottom > viewport.top) &&\n                            (eltRect.top < viewport.bottom)\n                        );\n\n                    return visible;\n                }\n\n                return {\n                    container: container,\n                    isInViewport: isInViewport\n                };\n            }\n\n            function createWatches() {\n                var watches = [];\n\n                function add(elt, offset, cb) {\n                    if (!isWatched(elt)) {\n                        watches.push([elt, offset, cb]);\n                    }\n                }\n\n                function remove(elt) {\n                    var pos = indexOf(elt);\n                    if (pos !== -1) {\n                        watches.splice(pos, 1);\n                    }\n                }\n\n                function indexOf(elt) {\n                    for (var i = watches.length - 1; i >= 0; i--) {\n                        if (watches[i][0] === elt) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                }\n\n                function isWatched(elt) {\n                    return indexOf(elt) !== -1;\n                }\n\n                function checkAll(cb) {\n                    return function() {\n                        for (var i = watches.length - 1; i >= 0; i--) {\n                            cb.apply(this, watches[i]);\n                        }\n                    };\n                }\n\n                return {\n                    add: add,\n                    remove: remove,\n                    isWatched: isWatched,\n                    checkAll: checkAll\n                };\n            }\n\n            function observeDOM(watches, container, cb) {\n                var observer = new MutationObserver(watch);\n                var filter = Array.prototype.filter;\n                var concat = Array.prototype.concat;\n\n                observer.observe(container, {\n                    childList: true,\n                    subtree: true,\n                    // changes like style/width/height/display will be catched\n                    attributes: true\n                });\n\n                function watch(mutations) {\n                    // some new DOM nodes where previously watched\n                    // we should check their positions\n                    if (mutations.some(knownNodes) === true) {\n                        setTimeout(cb, 0);\n                    }\n                }\n\n                function knownNodes(mutation) {\n                    var nodes = concat.call([],\n                        Array.prototype.slice.call(mutation.addedNodes),\n                        mutation.target\n                    );\n                    return filter.call(nodes, watches.isWatched).length > 0;\n                }\n            }\n\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    }\n    /******/\n]);","site":{"data":{}},"excerpt":"","more":"/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/\n        if (installedModules[moduleId])\n        /******/\n            return installedModules[moduleId].exports;\n        /******/\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n            /******/\n            exports: {},\n            /******/\n            id: moduleId,\n            /******/\n            loaded: false\n            /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n})\n/************************************************************************/\n/******/\n([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        'use strict';\n\n        __webpack_require__(1);\n\n        var _view = __webpack_require__(2);\n\n        var _view2 = _interopRequireDefault(_view);\n\n        function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n                default: obj\n            };\n        }\n\n        /**\n         * @name impush-client\n         * @description 这个项目让我发家致富…\n         * @date 2016-12-1\n         */\n\n        var _collection = [];\n        var _count = 0;\n        var searchData;\n\n        function addMask(elem) {\n            var rect = elem.getBoundingClientRect();\n            var style = getComputedStyle(elem, null);\n\n            var mask = document.createElement('i');\n            mask.className = 'icon-film';\n            mask.style.color = '#fff';\n            mask.style.fontSize = '26px';\n            mask.style.position = 'absolute';\n            mask.style.right = '10px';\n            mask.style.bottom = '10px';\n            mask.style.zIndex = 1;\n            elem.parentNode.appendChild(mask);\n        }\n\n        var createVideoIncon = function createVideoIncon() {\n            var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n            for (var i = 0, len = $videoImg.length; i < len; i++) {\n                addMask($videoImg[i]);\n            }\n        };\n        var render = function render(res) {\n            var ulTmpl = \"\";\n            for (var j = 0, len2 = res.list.length; j < len2; j++) {\n                var data = res.list[j].arr;\n                var liTmpl = \"\";\n                for (var i = 0, len = data.link.length; i < len; i++) {\n                    var minSrc = 'http://otxphxeyb.bkt.clouddn.com/ins-min/' + data.link[i] + '.min.jpg';\n                    var src = 'http://otxphxeyb.bkt.clouddn.com/ins/' + data.link[i];\n                    var type = data.type[i];\n                    var target = src + (type === 'video' ? '.mp4' : '.jpg');\n                    src += '.jpg';\n\n                    liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"640x640\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + minSrc + '\" src=\"http://www.williamwqq.site/assets/img/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n                }\n                ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n            }\n            document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n            createVideoIncon();\n            _view2.default.init();\n        };\n\n        var replacer = function replacer(str) {\n            var arr = str.split(\"/\");\n            return \"/assets/ins/\" + arr[arr.length - 1];\n        };\n\n        var ctrler = function ctrler(data) {\n            var imgObj = {};\n            for (var i = 0, len = data.length; i < len; i++) {\n                var y = data[i].y;\n                var m = data[i].m;\n                var src = replacer(data[i].src);\n                var text = data[i].text;\n                var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n                if (imgObj[key]) {\n                    imgObj[key].srclist.push(src);\n                    imgObj[key].text.push(text);\n                } else {\n                    imgObj[key] = {\n                        year: y,\n                        month: m,\n                        srclist: [src],\n                        text: [text]\n                    };\n                }\n            }\n            render(imgObj);\n        };\n\n        function loadData(success) {\n            if (!searchData) {\n                var xhr = new XMLHttpRequest();\n                xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n                xhr.onload = function() {\n                    if (this.status >= 200 && this.status < 300) {\n                        var res = JSON.parse(this.response);\n                        searchData = res;\n                        success(searchData);\n                    } else {\n                        console.error(this.statusText);\n                    }\n                };\n\n                xhr.onerror = function() {\n                    console.error(this.statusText);\n                };\n\n                xhr.send();\n            } else {\n                success(searchData);\n            }\n        }\n\n        var Ins = {\n            init: function init() {\n                loadData(function(data) {\n                    render(data);\n                });\n            }\n        };\n\n        Ins.init();\n\n        // export default impush;\n\n        /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            'use strict';\n\n            var inViewport = __webpack_require__(3);\n            var lazyAttrs = ['data-src'];\n\n            global.lzld = lazyload();\n\n            // Provide libs using getAttribute early to get the good src\n            // and not the fake data-src\n            replaceGetAttribute('Image');\n            replaceGetAttribute('IFrame');\n\n            function registerLazyAttr(attr) {\n                if (indexOf.call(lazyAttrs, attr) === -1) {\n                    lazyAttrs.push(attr);\n                }\n            }\n\n            function lazyload(opts) {\n                opts = merge({\n                    'offset': 333,\n                    'src': 'data-src',\n                    'container': false\n                }, opts || {});\n\n                if (typeof opts.src === 'string') {\n                    registerLazyAttr(opts.src);\n                }\n\n                var elts = [];\n\n                function show(elt) {\n                    var src = findRealSrc(elt);\n\n                    if (src) {\n                        elt.src = src;\n                    }\n\n                    elt.setAttribute('data-lzled', true);\n                    elts[indexOf.call(elts, elt)] = null;\n                }\n\n                function findRealSrc(elt) {\n                    if (typeof opts.src === 'function') {\n                        return opts.src(elt);\n                    }\n\n                    return elt.getAttribute(opts.src);\n                }\n\n                function register(elt) {\n                    elt.onload = null;\n                    elt.removeAttribute('onload');\n                    elt.onerror = null;\n                    elt.removeAttribute('onerror');\n\n                    if (indexOf.call(elts, elt) === -1) {\n                        inViewport(elt, opts, show);\n                    }\n                }\n\n                return register;\n            }\n\n            function replaceGetAttribute(elementName) {\n                var fullname = 'HTML' + elementName + 'Element';\n                if (fullname in global === false) {\n                    return;\n                }\n\n                var original = global[fullname].prototype.getAttribute;\n                global[fullname].prototype.getAttribute = function(name) {\n                    if (name === 'src') {\n                        var realSrc;\n                        for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                            realSrc = original.call(this, lazyAttrs[i]);\n                            if (realSrc) {\n                                break;\n                            }\n                        }\n\n                        return realSrc || original.call(this, name);\n                    }\n\n                    // our own lazyloader will go through theses lines\n                    // because we use getAttribute(opts.src)\n                    return original.call(this, name);\n                };\n            }\n\n            function merge(defaults, opts) {\n                for (var name in defaults) {\n                    if (opts[name] === undefined) {\n                        opts[name] = defaults[name];\n                    }\n                }\n\n                return opts;\n            }\n\n            // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n            function indexOf(value) {\n                for (var i = this.length; i-- && this[i] !== value;) {}\n                return i;\n            }\n\n            module.exports = lazyload;\n\n            // export default impush;\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n\n        'use strict';\n\n        var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n            // parse slide data (url, title, size ...) from DOM elements\n            // (children of gallerySelector)\n            var parseThumbnailElements = function parseThumbnailElements(el) {\n                el = el.parentNode.parentNode;\n                var thumbElements = el.getElementsByClassName('thumb'),\n                    numNodes = thumbElements.length,\n                    items = [],\n                    figureEl,\n                    linkEl,\n                    size,\n                    type,\n                // video or not\n                    target,\n                    item;\n\n                for (var i = 0; i < numNodes; i++) {\n\n                    figureEl = thumbElements[i]; //\n\n                    // include only element nodes\n                    if (figureEl.nodeType !== 1) {\n                        continue;\n                    }\n\n                    linkEl = figureEl.children[0]; //\n\n                    size = linkEl.getAttribute('data-size').split('x');\n                    type = linkEl.getAttribute('data-type');\n                    target = linkEl.getAttribute('data-target');\n                    // create slide object\n                    item = {\n                        src: linkEl.getAttribute('href'),\n                        w: parseInt(size[0], 10),\n                        h: parseInt(size[1], 10)\n                    };\n\n                    if (figureEl.children.length > 1) {\n                        item.title = figureEl.children[1].innerHTML;\n                    }\n\n                    if (linkEl.children.length > 0) {\n                        item.msrc = linkEl.children[0].getAttribute('src');\n                        item.type = type;\n                        item.target = target;\n                        item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n                        if (type === 'video') {\n                            //item.src = null;\n                        }\n                    }\n\n                    item.el = figureEl; // save link to element for getThumbBoundsFn\n                    items.push(item);\n                }\n\n                return items;\n            };\n\n            // find nearest parent element\n            var closest = function closest(el, fn) {\n                return el && (fn(el) ? el : closest(el.parentNode, fn));\n            };\n\n            // triggers when user clicks on thumbnail\n            var onThumbnailsClick = function onThumbnailsClick(e) {\n                e = e || window.event;\n                e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n                var eTarget = e.target || e.srcElement;\n\n                // find root element of slide\n                var clickedListItem = closest(eTarget, function(el) {\n                    return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n                });\n\n                if (!clickedListItem) {\n                    return;\n                }\n\n                // find index of clicked item by looping through all child nodes\n                // alternatively, you may define index via data- attribute\n                var clickedGallery = clickedListItem.parentNode,\n\n                // childNodes = clickedListItem.parentNode.childNodes,\n                // numChildNodes = childNodes.length,\n                    childNodes = document.getElementsByClassName('thumb'),\n                    numChildNodes = childNodes.length,\n                    nodeIndex = 0,\n                    index;\n\n                for (var i = 0; i < numChildNodes; i++) {\n                    if (childNodes[i].nodeType !== 1) {\n                        continue;\n                    }\n\n                    if (childNodes[i] === clickedListItem) {\n                        index = nodeIndex;\n                        break;\n                    }\n                    nodeIndex++;\n                }\n\n                if (index >= 0) {\n                    // open PhotoSwipe if valid index found\n                    openPhotoSwipe(index, clickedGallery);\n                }\n                return false;\n            };\n\n            // parse picture index and gallery index from URL (#&pid=1&gid=2)\n            var photoswipeParseHash = function photoswipeParseHash() {\n                var hash = window.location.hash.substring(1),\n                    params = {};\n\n                if (hash.length < 5) {\n                    return params;\n                }\n\n                var vars = hash.split('&');\n                for (var i = 0; i < vars.length; i++) {\n                    if (!vars[i]) {\n                        continue;\n                    }\n                    var pair = vars[i].split('=');\n                    if (pair.length < 2) {\n                        continue;\n                    }\n                    params[pair[0]] = pair[1];\n                }\n\n                if (params.gid) {\n                    params.gid = parseInt(params.gid, 10);\n                }\n\n                return params;\n            };\n\n            var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n                var pswpElement = document.querySelectorAll('.pswp')[0],\n                    gallery,\n                    options,\n                    items;\n\n                items = parseThumbnailElements(galleryElement);\n                // define options (if needed)\n                options = {\n\n                    // define gallery index (for URL)\n                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n                    getThumbBoundsFn: function getThumbBoundsFn(index) {\n                        // See Options -> getThumbBoundsFn section of documentation for more info\n                        var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                        // find thumbnail\n                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                            rect = thumbnail.getBoundingClientRect();\n\n                        return {\n                            x: rect.left,\n                            y: rect.top + pageYScroll,\n                            w: rect.width\n                        };\n                    }\n\n                };\n\n                // PhotoSwipe opened from URL\n                if (fromURL) {\n                    if (options.galleryPIDs) {\n                        // parse real index when custom PIDs are used\n                        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n                        for (var j = 0; j < items.length; j++) {\n                            if (items[j].pid == index) {\n                                options.index = j;\n                                break;\n                            }\n                        }\n                    } else {\n                        // in URL indexes start from 1\n                        options.index = parseInt(index, 10) - 1;\n                    }\n                } else {\n                    options.index = parseInt(index, 10);\n                }\n\n                // exit if index not found\n                if (isNaN(options.index)) {\n                    return;\n                }\n\n                if (disableAnimation) {\n                    options.showAnimationDuration = 0;\n                }\n\n                // Pass data to PhotoSwipe and initialize it\n                gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n                gallery.init();\n\n                var $tempVideo;\n                var stopVideoHandle = function stopVideoHandle() {\n                    if ($tempVideo) {\n                        $tempVideo.remove();\n                        $tempVideo = null;\n                    }\n                };\n                var changeHandle = function changeHandle() {\n                    var item = gallery.currItem;\n                    stopVideoHandle();\n                    if (item.type === 'video') {\n                        var $ctn = item.container;\n                        var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n                        var $video = document.createElement('video');\n                        $video.setAttribute('autoplay', 'autoplay');\n                        $video.setAttribute('controls', 'controls');\n                        $video.setAttribute('src', item.target);\n                        $video.style.width = style.width;\n                        $video.style.height = style.height;\n                        $video.style.position = 'absolute';\n                        $video.style.zIndex = 2;\n                        $tempVideo = $video;\n                        $ctn.appendChild($video);\n                    }\n                };\n                gallery.listen('initialZoomIn', changeHandle);\n                gallery.listen('afterChange', changeHandle);\n                gallery.listen('initialZoomOut', stopVideoHandle);\n            };\n\n            // loop through all gallery elements and bind events\n            var galleryElements = document.querySelectorAll(gallerySelector);\n            for (var i = 0, l = galleryElements.length; i < l; i++) {\n                galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n                galleryElements[i].onclick = onThumbnailsClick;\n            }\n\n            // Parse URL and open gallery if it contains #&pid=3&gid=1\n            var hashData = photoswipeParseHash();\n            if (hashData.pid && hashData.gid) {\n                openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n            }\n        };\n\n        var Viewer = function() {\n            function init() {\n                initPhotoSwipeFromDOM('.photos');\n            }\n            return {\n                init: init\n            };\n        }();\n\n        module.exports = Viewer;\n\n        /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n\n        /* WEBPACK VAR INJECTION */\n        (function(global) {\n            module.exports = inViewport;\n\n            var instances = [];\n            var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n            function inViewport(elt, params, cb) {\n                var opts = {\n                    container: global.document.body,\n                    offset: 0\n                };\n\n                if (params === undefined || typeof params === 'function') {\n                    cb = params;\n                    params = {};\n                }\n\n                var container = opts.container = params.container || opts.container;\n                var offset = opts.offset = params.offset || opts.offset;\n\n                for (var i = 0; i < instances.length; i++) {\n                    if (instances[i].container === container) {\n                        return instances[i].isInViewport(elt, offset, cb);\n                    }\n                }\n\n                return instances[\n                instances.push(createInViewport(container)) - 1\n                    ].isInViewport(elt, offset, cb);\n            }\n\n            function addEvent(el, type, fn) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + type, fn);\n                } else {\n                    el.addEventListener(type, fn, false);\n                }\n            }\n\n            function debounce(func, wait, immediate) {\n                var timeout;\n                return function() {\n                    var context = this,\n                        args = arguments;\n                    var callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) func.apply(context, args);\n\n                    function later() {\n                        timeout = null;\n                        if (!immediate) func.apply(context, args);\n                    }\n                };\n            }\n\n            // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n            var contains = function() {\n                if (!global.document) {\n                    return true;\n                }\n                return global.document.documentElement.compareDocumentPosition ?\n                    function(a, b) {\n                        return !!(a.compareDocumentPosition(b) & 16);\n                    } :\n                    global.document.documentElement.contains ?\n                        function(a, b) {\n                            return a !== b && (a.contains ? a.contains(b) : false);\n                        } :\n                        function(a, b) {\n                            while (b = b.parentNode) {\n                                if (b === a) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        };\n            }\n\n            function createInViewport(container) {\n                var watches = createWatches();\n\n                var scrollContainer = container === global.document.body ? global : container;\n                var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n                addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n                if (scrollContainer === global) {\n                    addEvent(global, 'resize', debouncedCheck);\n                }\n\n                if (supportsMutationObserver) {\n                    observeDOM(watches, container, debouncedCheck);\n                }\n\n                // failsafe check, every 200ms we check for visible images\n                // usecase: a hidden parent containing eleements\n                // when the parent becomes visible, we have no event that the children\n                // became visible\n                setInterval(debouncedCheck, 150);\n\n                function isInViewport(elt, offset, cb) {\n                    if (!cb) {\n                        return isVisible(elt, offset);\n                    }\n\n                    var remote = createRemote(elt, offset, cb);\n                    remote.watch();\n                    return remote;\n                }\n\n                function createRemote(elt, offset, cb) {\n                    function watch() {\n                        watches.add(elt, offset, cb);\n                    }\n\n                    function dispose() {\n                        watches.remove(elt);\n                    }\n\n                    return {\n                        watch: watch,\n                        dispose: dispose\n                    };\n                }\n\n                function watchInViewport(elt, offset, cb) {\n                    if (isVisible(elt, offset)) {\n                        watches.remove(elt);\n                        cb(elt);\n                    }\n                }\n\n                function isVisible(elt, offset) {\n                    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n                        return false;\n                    }\n\n                    // Check if the element is visible\n                    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n                    if (!elt.offsetWidth || !elt.offsetHeight) {\n                        return false;\n                    }\n\n                    var eltRect = elt.getBoundingClientRect();\n                    var viewport = {};\n\n                    if (container === global.document.body) {\n                        viewport = {\n                            top: -offset,\n                            left: -offset,\n                            right: global.document.documentElement.clientWidth + offset,\n                            bottom: global.document.documentElement.clientHeight + offset\n                        };\n                    } else {\n                        var containerRect = container.getBoundingClientRect();\n                        viewport = {\n                            top: containerRect.top - offset,\n                            left: containerRect.left - offset,\n                            right: containerRect.right + offset,\n                            bottom: containerRect.bottom + offset\n                        };\n                    }\n\n                    // The element must overlap with the visible part of the viewport\n                    var visible =\n                        (\n                            (eltRect.right > viewport.left) &&\n                            (eltRect.left < viewport.right) &&\n                            (eltRect.bottom > viewport.top) &&\n                            (eltRect.top < viewport.bottom)\n                        );\n\n                    return visible;\n                }\n\n                return {\n                    container: container,\n                    isInViewport: isInViewport\n                };\n            }\n\n            function createWatches() {\n                var watches = [];\n\n                function add(elt, offset, cb) {\n                    if (!isWatched(elt)) {\n                        watches.push([elt, offset, cb]);\n                    }\n                }\n\n                function remove(elt) {\n                    var pos = indexOf(elt);\n                    if (pos !== -1) {\n                        watches.splice(pos, 1);\n                    }\n                }\n\n                function indexOf(elt) {\n                    for (var i = watches.length - 1; i >= 0; i--) {\n                        if (watches[i][0] === elt) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                }\n\n                function isWatched(elt) {\n                    return indexOf(elt) !== -1;\n                }\n\n                function checkAll(cb) {\n                    return function() {\n                        for (var i = watches.length - 1; i >= 0; i--) {\n                            cb.apply(this, watches[i]);\n                        }\n                    };\n                }\n\n                return {\n                    add: add,\n                    remove: remove,\n                    isWatched: isWatched,\n                    checkAll: checkAll\n                };\n            }\n\n            function observeDOM(watches, container, cb) {\n                var observer = new MutationObserver(watch);\n                var filter = Array.prototype.filter;\n                var concat = Array.prototype.concat;\n\n                observer.observe(container, {\n                    childList: true,\n                    subtree: true,\n                    // changes like style/width/height/display will be catched\n                    attributes: true\n                });\n\n                function watch(mutations) {\n                    // some new DOM nodes where previously watched\n                    // we should check their positions\n                    if (mutations.some(knownNodes) === true) {\n                        setTimeout(cb, 0);\n                    }\n                }\n\n                function knownNodes(mutation) {\n                    var nodes = concat.call([],\n                        Array.prototype.slice.call(mutation.addedNodes),\n                        mutation.target\n                    );\n                    return filter.call(nodes, watches.isWatched).length > 0;\n                }\n            }\n\n            /* WEBPACK VAR INJECTION */\n        }.call(exports, (function() {\n            return this;\n        }())))\n\n        /***/\n    }\n    /******/\n]);"},{"_content":"module.exports = lazyload;\n \nvar inViewport = require('in-viewport');\nvar lazyAttrs = ['data-src'];\n \nglobal.lzld = lazyload();\n \n// Provide libs using getAttribute early to get the good src\n// and not the fake data-src\nreplaceGetAttribute('Image');\nreplaceGetAttribute('IFrame');\n \nfunction registerLazyAttr(attr) {\n  if (indexOf.call(lazyAttrs, attr) === -1) {\n    lazyAttrs.push(attr);\n  }\n}\n \nfunction lazyload(opts) {\n  opts = merge({\n    'offset': 333,\n    'src': 'data-src',\n    'container': false\n  }, opts || {});\n \n  if (typeof opts.src === 'string') {\n    registerLazyAttr(opts.src);\n  }\n \n  var elts = [];\n \n  function show(elt) {\n    var src = findRealSrc(elt);\n \n    if (src) {\n      elt.src = src;\n    }\n \n    elt.setAttribute('data-lzled', true);\n    elts[indexOf.call(elts, elt)] = null;\n  }\n \n  function findRealSrc(elt) {\n    if (typeof opts.src === 'function') {\n      return opts.src(elt);\n    }\n \n    return elt.getAttribute(opts.src);\n  }\n \n  function register(elt) {\n    // unsubscribe onload\n    // needed by IE < 9, otherwise we get another onload when changing the src\n    elt.onload = null;\n    elt.removeAttribute('onload');\n \n    // https://github.com/vvo/lazyload/issues/62\n    elt.onerror = null;\n    elt.removeAttribute('onerror');\n \n    if (indexOf.call(elts, elt) === -1) {\n      inViewport(elt, opts, show);\n    }\n  }\n \n  return register;\n}\n \nfunction replaceGetAttribute(elementName) {\n  var fullname = 'HTML' + elementName + 'Element';\n  if (fullname in global === false) {\n    return;\n  }\n \n  var original = global[fullname].prototype.getAttribute;\n  global[fullname].prototype.getAttribute = function(name) {\n    if (name === 'src') {\n      var realSrc;\n      for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n        realSrc = original.call(this, lazyAttrs[i]);\n        if (realSrc) {\n          break;\n        }\n      }\n \n      return realSrc || original.call(this, name);\n    }\n \n    // our own lazyloader will go through theses lines\n    // because we use getAttribute(opts.src)\n    return original.call(this, name);\n  };\n}\n \nfunction merge(defaults, opts) {\n  for (var name in defaults) {\n    if (opts[name] === undefined) {\n      opts[name] = defaults[name];\n    }\n  }\n \n  return opts;\n}\n \n// http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\nfunction indexOf(value) {\n  for (var i = this.length; i-- && this[i] !== value;) {}\n  return i;\n}","source":"assets/src/lazyload.js","raw":"module.exports = lazyload;\n \nvar inViewport = require('in-viewport');\nvar lazyAttrs = ['data-src'];\n \nglobal.lzld = lazyload();\n \n// Provide libs using getAttribute early to get the good src\n// and not the fake data-src\nreplaceGetAttribute('Image');\nreplaceGetAttribute('IFrame');\n \nfunction registerLazyAttr(attr) {\n  if (indexOf.call(lazyAttrs, attr) === -1) {\n    lazyAttrs.push(attr);\n  }\n}\n \nfunction lazyload(opts) {\n  opts = merge({\n    'offset': 333,\n    'src': 'data-src',\n    'container': false\n  }, opts || {});\n \n  if (typeof opts.src === 'string') {\n    registerLazyAttr(opts.src);\n  }\n \n  var elts = [];\n \n  function show(elt) {\n    var src = findRealSrc(elt);\n \n    if (src) {\n      elt.src = src;\n    }\n \n    elt.setAttribute('data-lzled', true);\n    elts[indexOf.call(elts, elt)] = null;\n  }\n \n  function findRealSrc(elt) {\n    if (typeof opts.src === 'function') {\n      return opts.src(elt);\n    }\n \n    return elt.getAttribute(opts.src);\n  }\n \n  function register(elt) {\n    // unsubscribe onload\n    // needed by IE < 9, otherwise we get another onload when changing the src\n    elt.onload = null;\n    elt.removeAttribute('onload');\n \n    // https://github.com/vvo/lazyload/issues/62\n    elt.onerror = null;\n    elt.removeAttribute('onerror');\n \n    if (indexOf.call(elts, elt) === -1) {\n      inViewport(elt, opts, show);\n    }\n  }\n \n  return register;\n}\n \nfunction replaceGetAttribute(elementName) {\n  var fullname = 'HTML' + elementName + 'Element';\n  if (fullname in global === false) {\n    return;\n  }\n \n  var original = global[fullname].prototype.getAttribute;\n  global[fullname].prototype.getAttribute = function(name) {\n    if (name === 'src') {\n      var realSrc;\n      for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n        realSrc = original.call(this, lazyAttrs[i]);\n        if (realSrc) {\n          break;\n        }\n      }\n \n      return realSrc || original.call(this, name);\n    }\n \n    // our own lazyloader will go through theses lines\n    // because we use getAttribute(opts.src)\n    return original.call(this, name);\n  };\n}\n \nfunction merge(defaults, opts) {\n  for (var name in defaults) {\n    if (opts[name] === undefined) {\n      opts[name] = defaults[name];\n    }\n  }\n \n  return opts;\n}\n \n// http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\nfunction indexOf(value) {\n  for (var i = this.length; i-- && this[i] !== value;) {}\n  return i;\n}","date":"2017-07-31T09:38:38.605Z","updated":"2017-07-31T03:26:45.608Z","path":"assets/src/lazyload.js","layout":"false","title":"","comments":1,"_id":"cj63dx7ov000fzwv3o5zg36w8","content":"module.exports = lazyload;\n \nvar inViewport = require('in-viewport');\nvar lazyAttrs = ['data-src'];\n \nglobal.lzld = lazyload();\n \n// Provide libs using getAttribute early to get the good src\n// and not the fake data-src\nreplaceGetAttribute('Image');\nreplaceGetAttribute('IFrame');\n \nfunction registerLazyAttr(attr) {\n  if (indexOf.call(lazyAttrs, attr) === -1) {\n    lazyAttrs.push(attr);\n  }\n}\n \nfunction lazyload(opts) {\n  opts = merge({\n    'offset': 333,\n    'src': 'data-src',\n    'container': false\n  }, opts || {});\n \n  if (typeof opts.src === 'string') {\n    registerLazyAttr(opts.src);\n  }\n \n  var elts = [];\n \n  function show(elt) {\n    var src = findRealSrc(elt);\n \n    if (src) {\n      elt.src = src;\n    }\n \n    elt.setAttribute('data-lzled', true);\n    elts[indexOf.call(elts, elt)] = null;\n  }\n \n  function findRealSrc(elt) {\n    if (typeof opts.src === 'function') {\n      return opts.src(elt);\n    }\n \n    return elt.getAttribute(opts.src);\n  }\n \n  function register(elt) {\n    // unsubscribe onload\n    // needed by IE < 9, otherwise we get another onload when changing the src\n    elt.onload = null;\n    elt.removeAttribute('onload');\n \n    // https://github.com/vvo/lazyload/issues/62\n    elt.onerror = null;\n    elt.removeAttribute('onerror');\n \n    if (indexOf.call(elts, elt) === -1) {\n      inViewport(elt, opts, show);\n    }\n  }\n \n  return register;\n}\n \nfunction replaceGetAttribute(elementName) {\n  var fullname = 'HTML' + elementName + 'Element';\n  if (fullname in global === false) {\n    return;\n  }\n \n  var original = global[fullname].prototype.getAttribute;\n  global[fullname].prototype.getAttribute = function(name) {\n    if (name === 'src') {\n      var realSrc;\n      for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n        realSrc = original.call(this, lazyAttrs[i]);\n        if (realSrc) {\n          break;\n        }\n      }\n \n      return realSrc || original.call(this, name);\n    }\n \n    // our own lazyloader will go through theses lines\n    // because we use getAttribute(opts.src)\n    return original.call(this, name);\n  };\n}\n \nfunction merge(defaults, opts) {\n  for (var name in defaults) {\n    if (opts[name] === undefined) {\n      opts[name] = defaults[name];\n    }\n  }\n \n  return opts;\n}\n \n// http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\nfunction indexOf(value) {\n  for (var i = this.length; i-- && this[i] !== value;) {}\n  return i;\n}","site":{"data":{}},"excerpt":"","more":"module.exports = lazyload;\n \nvar inViewport = require('in-viewport');\nvar lazyAttrs = ['data-src'];\n \nglobal.lzld = lazyload();\n \n// Provide libs using getAttribute early to get the good src\n// and not the fake data-src\nreplaceGetAttribute('Image');\nreplaceGetAttribute('IFrame');\n \nfunction registerLazyAttr(attr) {\n  if (indexOf.call(lazyAttrs, attr) === -1) {\n    lazyAttrs.push(attr);\n  }\n}\n \nfunction lazyload(opts) {\n  opts = merge({\n    'offset': 333,\n    'src': 'data-src',\n    'container': false\n  }, opts || {});\n \n  if (typeof opts.src === 'string') {\n    registerLazyAttr(opts.src);\n  }\n \n  var elts = [];\n \n  function show(elt) {\n    var src = findRealSrc(elt);\n \n    if (src) {\n      elt.src = src;\n    }\n \n    elt.setAttribute('data-lzled', true);\n    elts[indexOf.call(elts, elt)] = null;\n  }\n \n  function findRealSrc(elt) {\n    if (typeof opts.src === 'function') {\n      return opts.src(elt);\n    }\n \n    return elt.getAttribute(opts.src);\n  }\n \n  function register(elt) {\n    // unsubscribe onload\n    // needed by IE < 9, otherwise we get another onload when changing the src\n    elt.onload = null;\n    elt.removeAttribute('onload');\n \n    // https://github.com/vvo/lazyload/issues/62\n    elt.onerror = null;\n    elt.removeAttribute('onerror');\n \n    if (indexOf.call(elts, elt) === -1) {\n      inViewport(elt, opts, show);\n    }\n  }\n \n  return register;\n}\n \nfunction replaceGetAttribute(elementName) {\n  var fullname = 'HTML' + elementName + 'Element';\n  if (fullname in global === false) {\n    return;\n  }\n \n  var original = global[fullname].prototype.getAttribute;\n  global[fullname].prototype.getAttribute = function(name) {\n    if (name === 'src') {\n      var realSrc;\n      for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n        realSrc = original.call(this, lazyAttrs[i]);\n        if (realSrc) {\n          break;\n        }\n      }\n \n      return realSrc || original.call(this, name);\n    }\n \n    // our own lazyloader will go through theses lines\n    // because we use getAttribute(opts.src)\n    return original.call(this, name);\n  };\n}\n \nfunction merge(defaults, opts) {\n  for (var name in defaults) {\n    if (opts[name] === undefined) {\n      opts[name] = defaults[name];\n    }\n  }\n \n  return opts;\n}\n \n// http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\nfunction indexOf(value) {\n  for (var i = this.length; i-- && this[i] !== value;) {}\n  return i;\n}"},{"_content":"var PhotoSwipe = require('./photoSwipe/photoswipe.min')\nvar PhotoSwipeUI_Default = require('./photoSwipe/photoswipe-ui-default')\n\nvar initPhotoSwipeFromDOM = function(gallerySelector) {\n\n  // parse slide data (url, title, size ...) from DOM elements \n  // (children of gallerySelector)\n  var parseThumbnailElements = function(el) {\n    var thumbElements = el.getElementsByClassName('thumb'),\n      numNodes = thumbElements.length,\n      items = [],\n      figureEl,\n      linkEl,\n      size,\n      item;\n\n    for (var i = 0; i < numNodes; i++) {\n\n      figureEl = thumbElements[i]; // <figure> element\n\n      // include only element nodes \n      if (figureEl.nodeType !== 1) {\n        continue;\n      }\n\n      linkEl = figureEl.children[0]; // <a> element\n\n      size = linkEl.getAttribute('data-size').split('x');\n\n      // create slide object\n      item = {\n        src: linkEl.getAttribute('href'),\n        w: parseInt(size[0], 10),\n        h: parseInt(size[1], 10)\n      };\n\n\n\n      if (figureEl.children.length > 1) {\n        // <figcaption> content\n        item.title = figureEl.children[2].innerHTML;\n      }\n\n      if (linkEl.children.length > 0) {\n        // <img> thumbnail element, retrieving thumbnail url\n        item.msrc = linkEl.children[0].getAttribute('src');\n      }\n\n      item.el = figureEl; // save link to element for getThumbBoundsFn\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  // find nearest parent element\n  var closest = function closest(el, fn) {\n    return el && (fn(el) ? el : closest(el.parentNode, fn));\n  };\n\n  // triggers when user clicks on thumbnail\n  var onThumbnailsClick = function(e) {\n    e = e || window.event;\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n    var eTarget = e.target || e.srcElement;\n\n    // find root element of slide\n    var clickedListItem = closest(eTarget, function(el) {\n      return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');\n    });\n\n    if (!clickedListItem) {\n      return;\n    }\n\n    // find index of clicked item by looping through all child nodes\n    // alternatively, you may define index via data- attribute\n    var clickedGallery = clickedListItem.parentNode,\n      childNodes = clickedListItem.parentNode.childNodes,\n      numChildNodes = childNodes.length,\n      nodeIndex = 0,\n      index;\n\n    for (var i = 0; i < numChildNodes; i++) {\n      if (childNodes[i].nodeType !== 1) {\n        continue;\n      }\n\n      if (childNodes[i] === clickedListItem) {\n        index = nodeIndex;\n        break;\n      }\n      nodeIndex++;\n    }\n\n\n\n    if (index >= 0) {\n      // open PhotoSwipe if valid index found\n      openPhotoSwipe(index, clickedGallery);\n    }\n    return false;\n  };\n\n  // parse picture index and gallery index from URL (#&pid=1&gid=2)\n  var photoswipeParseHash = function() {\n    var hash = window.location.hash.substring(1),\n      params = {};\n\n    if (hash.length < 5) {\n      return params;\n    }\n\n    var vars = hash.split('&');\n    for (var i = 0; i < vars.length; i++) {\n      if (!vars[i]) {\n        continue;\n      }\n      var pair = vars[i].split('=');\n      if (pair.length < 2) {\n        continue;\n      }\n      params[pair[0]] = pair[1];\n    }\n\n    if (params.gid) {\n      params.gid = parseInt(params.gid, 10);\n    }\n\n    return params;\n  };\n\n  var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {\n    var pswpElement = document.querySelectorAll('.pswp')[0],\n      gallery,\n      options,\n      items;\n\n    items = parseThumbnailElements(galleryElement);\n\n    // define options (if needed)\n    options = {\n\n      // define gallery index (for URL)\n      galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n      getThumbBoundsFn: function(index) {\n        // See Options -> getThumbBoundsFn section of documentation for more info\n        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail\n          pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n          rect = thumbnail.getBoundingClientRect();\n\n        return {\n          x: rect.left,\n          y: rect.top + pageYScroll,\n          w: rect.width\n        };\n      }\n\n    };\n\n    // PhotoSwipe opened from URL\n    if (fromURL) {\n      if (options.galleryPIDs) {\n        // parse real index when custom PIDs are used \n        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n        for (var j = 0; j < items.length; j++) {\n          if (items[j].pid == index) {\n            options.index = j;\n            break;\n          }\n        }\n      } else {\n        // in URL indexes start from 1\n        options.index = parseInt(index, 10) - 1;\n      }\n    } else {\n      options.index = parseInt(index, 10);\n    }\n\n    // exit if index not found\n    if (isNaN(options.index)) {\n      return;\n    }\n\n    if (disableAnimation) {\n      options.showAnimationDuration = 0;\n    }\n\n    // Pass data to PhotoSwipe and initialize it\n    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n    gallery.init();\n  };\n\n  // loop through all gallery elements and bind events\n  var galleryElements = document.querySelectorAll(gallerySelector);\n\n  for (var i = 0, l = galleryElements.length; i < l; i++) {\n    galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n    galleryElements[i].onclick = onThumbnailsClick;\n  }\n\n  // Parse URL and open gallery if it contains #&pid=3&gid=1\n  var hashData = photoswipeParseHash();\n  if (hashData.pid && hashData.gid) {\n    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n  }\n};\n\nvar initSecretAlbum = function(albumSlt) {\n  var albumElements = document.getElementsByClassName(albumSlt);\n  var $dialog = document.getElementsByClassName('js-dialog')[0];\n  var $overlay = document.getElementsByClassName('js-overlay')[0];\n  var $btn = document.getElementsByClassName('js-modal-yes')[0];\n  var $input = document.getElementsByClassName('js-input-lock')[0];\n  var $form = document.getElementsByClassName('js-form')[0];\n  var baseUrl = '';\n  var tips = '';\n\n  for (var i = 0, len = albumElements.length; i < len; i++) {\n    (function(i) {\n      albumElements[i].addEventListener('click', function(e) {\n        baseUrl = this.getAttribute('data-href');\n        tips = this.getAttribute('data-tips');\n        $dialog.style.display = 'flex';\n        $overlay.style.display = 'initial';\n        $form.setAttribute('action', baseUrl);\n        $input.setAttribute('placeholder', tips);\n        $input.value = '';\n        $input.focus();\n      })\n    })(i);\n  }\n\n  $overlay.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    $input.value = '';\n  })\n\n  $btn.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    console.log($btn)\n    // $btn.submit();\n    // window.location.href = (baseUrl + '?password=' + $input.value);\n  })\n\n  document.onkeydown=function(event){\n    var e = event || window.event;         \n    if (e && e.keyCode === 13) {\n      if ($input.value !== '') {\n        window.location.href = (baseUrl + '?password=' + $input.value);\n      }\n    }\n  }\n}\nfunction init() {\n  initPhotoSwipeFromDOM('.photos');\n  // 是否相册，但这个判断方式不好\n  if (document.getElementsByClassName('albums').length) {\n    initSecretAlbum('js-secret-album');\n  }\n}\n\nmodule.exports = {\n  init: init\n}\n","source":"assets/src/swipe.init.js","raw":"var PhotoSwipe = require('./photoSwipe/photoswipe.min')\nvar PhotoSwipeUI_Default = require('./photoSwipe/photoswipe-ui-default')\n\nvar initPhotoSwipeFromDOM = function(gallerySelector) {\n\n  // parse slide data (url, title, size ...) from DOM elements \n  // (children of gallerySelector)\n  var parseThumbnailElements = function(el) {\n    var thumbElements = el.getElementsByClassName('thumb'),\n      numNodes = thumbElements.length,\n      items = [],\n      figureEl,\n      linkEl,\n      size,\n      item;\n\n    for (var i = 0; i < numNodes; i++) {\n\n      figureEl = thumbElements[i]; // <figure> element\n\n      // include only element nodes \n      if (figureEl.nodeType !== 1) {\n        continue;\n      }\n\n      linkEl = figureEl.children[0]; // <a> element\n\n      size = linkEl.getAttribute('data-size').split('x');\n\n      // create slide object\n      item = {\n        src: linkEl.getAttribute('href'),\n        w: parseInt(size[0], 10),\n        h: parseInt(size[1], 10)\n      };\n\n\n\n      if (figureEl.children.length > 1) {\n        // <figcaption> content\n        item.title = figureEl.children[2].innerHTML;\n      }\n\n      if (linkEl.children.length > 0) {\n        // <img> thumbnail element, retrieving thumbnail url\n        item.msrc = linkEl.children[0].getAttribute('src');\n      }\n\n      item.el = figureEl; // save link to element for getThumbBoundsFn\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  // find nearest parent element\n  var closest = function closest(el, fn) {\n    return el && (fn(el) ? el : closest(el.parentNode, fn));\n  };\n\n  // triggers when user clicks on thumbnail\n  var onThumbnailsClick = function(e) {\n    e = e || window.event;\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n    var eTarget = e.target || e.srcElement;\n\n    // find root element of slide\n    var clickedListItem = closest(eTarget, function(el) {\n      return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');\n    });\n\n    if (!clickedListItem) {\n      return;\n    }\n\n    // find index of clicked item by looping through all child nodes\n    // alternatively, you may define index via data- attribute\n    var clickedGallery = clickedListItem.parentNode,\n      childNodes = clickedListItem.parentNode.childNodes,\n      numChildNodes = childNodes.length,\n      nodeIndex = 0,\n      index;\n\n    for (var i = 0; i < numChildNodes; i++) {\n      if (childNodes[i].nodeType !== 1) {\n        continue;\n      }\n\n      if (childNodes[i] === clickedListItem) {\n        index = nodeIndex;\n        break;\n      }\n      nodeIndex++;\n    }\n\n\n\n    if (index >= 0) {\n      // open PhotoSwipe if valid index found\n      openPhotoSwipe(index, clickedGallery);\n    }\n    return false;\n  };\n\n  // parse picture index and gallery index from URL (#&pid=1&gid=2)\n  var photoswipeParseHash = function() {\n    var hash = window.location.hash.substring(1),\n      params = {};\n\n    if (hash.length < 5) {\n      return params;\n    }\n\n    var vars = hash.split('&');\n    for (var i = 0; i < vars.length; i++) {\n      if (!vars[i]) {\n        continue;\n      }\n      var pair = vars[i].split('=');\n      if (pair.length < 2) {\n        continue;\n      }\n      params[pair[0]] = pair[1];\n    }\n\n    if (params.gid) {\n      params.gid = parseInt(params.gid, 10);\n    }\n\n    return params;\n  };\n\n  var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {\n    var pswpElement = document.querySelectorAll('.pswp')[0],\n      gallery,\n      options,\n      items;\n\n    items = parseThumbnailElements(galleryElement);\n\n    // define options (if needed)\n    options = {\n\n      // define gallery index (for URL)\n      galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n      getThumbBoundsFn: function(index) {\n        // See Options -> getThumbBoundsFn section of documentation for more info\n        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail\n          pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n          rect = thumbnail.getBoundingClientRect();\n\n        return {\n          x: rect.left,\n          y: rect.top + pageYScroll,\n          w: rect.width\n        };\n      }\n\n    };\n\n    // PhotoSwipe opened from URL\n    if (fromURL) {\n      if (options.galleryPIDs) {\n        // parse real index when custom PIDs are used \n        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n        for (var j = 0; j < items.length; j++) {\n          if (items[j].pid == index) {\n            options.index = j;\n            break;\n          }\n        }\n      } else {\n        // in URL indexes start from 1\n        options.index = parseInt(index, 10) - 1;\n      }\n    } else {\n      options.index = parseInt(index, 10);\n    }\n\n    // exit if index not found\n    if (isNaN(options.index)) {\n      return;\n    }\n\n    if (disableAnimation) {\n      options.showAnimationDuration = 0;\n    }\n\n    // Pass data to PhotoSwipe and initialize it\n    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n    gallery.init();\n  };\n\n  // loop through all gallery elements and bind events\n  var galleryElements = document.querySelectorAll(gallerySelector);\n\n  for (var i = 0, l = galleryElements.length; i < l; i++) {\n    galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n    galleryElements[i].onclick = onThumbnailsClick;\n  }\n\n  // Parse URL and open gallery if it contains #&pid=3&gid=1\n  var hashData = photoswipeParseHash();\n  if (hashData.pid && hashData.gid) {\n    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n  }\n};\n\nvar initSecretAlbum = function(albumSlt) {\n  var albumElements = document.getElementsByClassName(albumSlt);\n  var $dialog = document.getElementsByClassName('js-dialog')[0];\n  var $overlay = document.getElementsByClassName('js-overlay')[0];\n  var $btn = document.getElementsByClassName('js-modal-yes')[0];\n  var $input = document.getElementsByClassName('js-input-lock')[0];\n  var $form = document.getElementsByClassName('js-form')[0];\n  var baseUrl = '';\n  var tips = '';\n\n  for (var i = 0, len = albumElements.length; i < len; i++) {\n    (function(i) {\n      albumElements[i].addEventListener('click', function(e) {\n        baseUrl = this.getAttribute('data-href');\n        tips = this.getAttribute('data-tips');\n        $dialog.style.display = 'flex';\n        $overlay.style.display = 'initial';\n        $form.setAttribute('action', baseUrl);\n        $input.setAttribute('placeholder', tips);\n        $input.value = '';\n        $input.focus();\n      })\n    })(i);\n  }\n\n  $overlay.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    $input.value = '';\n  })\n\n  $btn.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    console.log($btn)\n    // $btn.submit();\n    // window.location.href = (baseUrl + '?password=' + $input.value);\n  })\n\n  document.onkeydown=function(event){\n    var e = event || window.event;         \n    if (e && e.keyCode === 13) {\n      if ($input.value !== '') {\n        window.location.href = (baseUrl + '?password=' + $input.value);\n      }\n    }\n  }\n}\nfunction init() {\n  initPhotoSwipeFromDOM('.photos');\n  // 是否相册，但这个判断方式不好\n  if (document.getElementsByClassName('albums').length) {\n    initSecretAlbum('js-secret-album');\n  }\n}\n\nmodule.exports = {\n  init: init\n}\n","date":"2017-07-31T09:38:38.629Z","updated":"2017-07-31T03:26:45.616Z","path":"assets/src/swipe.init.js","layout":"false","title":"","comments":1,"_id":"cj63dx7ov000gzwv3mmvkdtz4","content":"var PhotoSwipe = require('./photoSwipe/photoswipe.min')\nvar PhotoSwipeUI_Default = require('./photoSwipe/photoswipe-ui-default')\n\nvar initPhotoSwipeFromDOM = function(gallerySelector) {\n\n  // parse slide data (url, title, size ...) from DOM elements \n  // (children of gallerySelector)\n  var parseThumbnailElements = function(el) {\n    var thumbElements = el.getElementsByClassName('thumb'),\n      numNodes = thumbElements.length,\n      items = [],\n      figureEl,\n      linkEl,\n      size,\n      item;\n\n    for (var i = 0; i < numNodes; i++) {\n\n      figureEl = thumbElements[i]; // <figure> element\n\n      // include only element nodes \n      if (figureEl.nodeType !== 1) {\n        continue;\n      }\n\n      linkEl = figureEl.children[0]; // <a> element\n\n      size = linkEl.getAttribute('data-size').split('x');\n\n      // create slide object\n      item = {\n        src: linkEl.getAttribute('href'),\n        w: parseInt(size[0], 10),\n        h: parseInt(size[1], 10)\n      };\n\n\n\n      if (figureEl.children.length > 1) {\n        // <figcaption> content\n        item.title = figureEl.children[2].innerHTML;\n      }\n\n      if (linkEl.children.length > 0) {\n        // <img> thumbnail element, retrieving thumbnail url\n        item.msrc = linkEl.children[0].getAttribute('src');\n      }\n\n      item.el = figureEl; // save link to element for getThumbBoundsFn\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  // find nearest parent element\n  var closest = function closest(el, fn) {\n    return el && (fn(el) ? el : closest(el.parentNode, fn));\n  };\n\n  // triggers when user clicks on thumbnail\n  var onThumbnailsClick = function(e) {\n    e = e || window.event;\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n    var eTarget = e.target || e.srcElement;\n\n    // find root element of slide\n    var clickedListItem = closest(eTarget, function(el) {\n      return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');\n    });\n\n    if (!clickedListItem) {\n      return;\n    }\n\n    // find index of clicked item by looping through all child nodes\n    // alternatively, you may define index via data- attribute\n    var clickedGallery = clickedListItem.parentNode,\n      childNodes = clickedListItem.parentNode.childNodes,\n      numChildNodes = childNodes.length,\n      nodeIndex = 0,\n      index;\n\n    for (var i = 0; i < numChildNodes; i++) {\n      if (childNodes[i].nodeType !== 1) {\n        continue;\n      }\n\n      if (childNodes[i] === clickedListItem) {\n        index = nodeIndex;\n        break;\n      }\n      nodeIndex++;\n    }\n\n\n\n    if (index >= 0) {\n      // open PhotoSwipe if valid index found\n      openPhotoSwipe(index, clickedGallery);\n    }\n    return false;\n  };\n\n  // parse picture index and gallery index from URL (#&pid=1&gid=2)\n  var photoswipeParseHash = function() {\n    var hash = window.location.hash.substring(1),\n      params = {};\n\n    if (hash.length < 5) {\n      return params;\n    }\n\n    var vars = hash.split('&');\n    for (var i = 0; i < vars.length; i++) {\n      if (!vars[i]) {\n        continue;\n      }\n      var pair = vars[i].split('=');\n      if (pair.length < 2) {\n        continue;\n      }\n      params[pair[0]] = pair[1];\n    }\n\n    if (params.gid) {\n      params.gid = parseInt(params.gid, 10);\n    }\n\n    return params;\n  };\n\n  var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {\n    var pswpElement = document.querySelectorAll('.pswp')[0],\n      gallery,\n      options,\n      items;\n\n    items = parseThumbnailElements(galleryElement);\n\n    // define options (if needed)\n    options = {\n\n      // define gallery index (for URL)\n      galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n      getThumbBoundsFn: function(index) {\n        // See Options -> getThumbBoundsFn section of documentation for more info\n        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail\n          pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n          rect = thumbnail.getBoundingClientRect();\n\n        return {\n          x: rect.left,\n          y: rect.top + pageYScroll,\n          w: rect.width\n        };\n      }\n\n    };\n\n    // PhotoSwipe opened from URL\n    if (fromURL) {\n      if (options.galleryPIDs) {\n        // parse real index when custom PIDs are used \n        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n        for (var j = 0; j < items.length; j++) {\n          if (items[j].pid == index) {\n            options.index = j;\n            break;\n          }\n        }\n      } else {\n        // in URL indexes start from 1\n        options.index = parseInt(index, 10) - 1;\n      }\n    } else {\n      options.index = parseInt(index, 10);\n    }\n\n    // exit if index not found\n    if (isNaN(options.index)) {\n      return;\n    }\n\n    if (disableAnimation) {\n      options.showAnimationDuration = 0;\n    }\n\n    // Pass data to PhotoSwipe and initialize it\n    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n    gallery.init();\n  };\n\n  // loop through all gallery elements and bind events\n  var galleryElements = document.querySelectorAll(gallerySelector);\n\n  for (var i = 0, l = galleryElements.length; i < l; i++) {\n    galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n    galleryElements[i].onclick = onThumbnailsClick;\n  }\n\n  // Parse URL and open gallery if it contains #&pid=3&gid=1\n  var hashData = photoswipeParseHash();\n  if (hashData.pid && hashData.gid) {\n    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n  }\n};\n\nvar initSecretAlbum = function(albumSlt) {\n  var albumElements = document.getElementsByClassName(albumSlt);\n  var $dialog = document.getElementsByClassName('js-dialog')[0];\n  var $overlay = document.getElementsByClassName('js-overlay')[0];\n  var $btn = document.getElementsByClassName('js-modal-yes')[0];\n  var $input = document.getElementsByClassName('js-input-lock')[0];\n  var $form = document.getElementsByClassName('js-form')[0];\n  var baseUrl = '';\n  var tips = '';\n\n  for (var i = 0, len = albumElements.length; i < len; i++) {\n    (function(i) {\n      albumElements[i].addEventListener('click', function(e) {\n        baseUrl = this.getAttribute('data-href');\n        tips = this.getAttribute('data-tips');\n        $dialog.style.display = 'flex';\n        $overlay.style.display = 'initial';\n        $form.setAttribute('action', baseUrl);\n        $input.setAttribute('placeholder', tips);\n        $input.value = '';\n        $input.focus();\n      })\n    })(i);\n  }\n\n  $overlay.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    $input.value = '';\n  })\n\n  $btn.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    console.log($btn)\n    // $btn.submit();\n    // window.location.href = (baseUrl + '?password=' + $input.value);\n  })\n\n  document.onkeydown=function(event){\n    var e = event || window.event;         \n    if (e && e.keyCode === 13) {\n      if ($input.value !== '') {\n        window.location.href = (baseUrl + '?password=' + $input.value);\n      }\n    }\n  }\n}\nfunction init() {\n  initPhotoSwipeFromDOM('.photos');\n  // 是否相册，但这个判断方式不好\n  if (document.getElementsByClassName('albums').length) {\n    initSecretAlbum('js-secret-album');\n  }\n}\n\nmodule.exports = {\n  init: init\n}\n</figcaption></a></figure>","site":{"data":{}},"excerpt":"","more":"var PhotoSwipe = require('./photoSwipe/photoswipe.min')\nvar PhotoSwipeUI_Default = require('./photoSwipe/photoswipe-ui-default')\n\nvar initPhotoSwipeFromDOM = function(gallerySelector) {\n\n  // parse slide data (url, title, size ...) from DOM elements \n  // (children of gallerySelector)\n  var parseThumbnailElements = function(el) {\n    var thumbElements = el.getElementsByClassName('thumb'),\n      numNodes = thumbElements.length,\n      items = [],\n      figureEl,\n      linkEl,\n      size,\n      item;\n\n    for (var i = 0; i < numNodes; i++) {\n\n      figureEl = thumbElements[i]; // <figure> element\n\n      // include only element nodes \n      if (figureEl.nodeType !== 1) {\n        continue;\n      }\n\n      linkEl = figureEl.children[0]; // <a> element\n\n      size = linkEl.getAttribute('data-size').split('x');\n\n      // create slide object\n      item = {\n        src: linkEl.getAttribute('href'),\n        w: parseInt(size[0], 10),\n        h: parseInt(size[1], 10)\n      };\n\n\n\n      if (figureEl.children.length > 1) {\n        // <figcaption> content\n        item.title = figureEl.children[2].innerHTML;\n      }\n\n      if (linkEl.children.length > 0) {\n        // <img> thumbnail element, retrieving thumbnail url\n        item.msrc = linkEl.children[0].getAttribute('src');\n      }\n\n      item.el = figureEl; // save link to element for getThumbBoundsFn\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  // find nearest parent element\n  var closest = function closest(el, fn) {\n    return el && (fn(el) ? el : closest(el.parentNode, fn));\n  };\n\n  // triggers when user clicks on thumbnail\n  var onThumbnailsClick = function(e) {\n    e = e || window.event;\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n    var eTarget = e.target || e.srcElement;\n\n    // find root element of slide\n    var clickedListItem = closest(eTarget, function(el) {\n      return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');\n    });\n\n    if (!clickedListItem) {\n      return;\n    }\n\n    // find index of clicked item by looping through all child nodes\n    // alternatively, you may define index via data- attribute\n    var clickedGallery = clickedListItem.parentNode,\n      childNodes = clickedListItem.parentNode.childNodes,\n      numChildNodes = childNodes.length,\n      nodeIndex = 0,\n      index;\n\n    for (var i = 0; i < numChildNodes; i++) {\n      if (childNodes[i].nodeType !== 1) {\n        continue;\n      }\n\n      if (childNodes[i] === clickedListItem) {\n        index = nodeIndex;\n        break;\n      }\n      nodeIndex++;\n    }\n\n\n\n    if (index >= 0) {\n      // open PhotoSwipe if valid index found\n      openPhotoSwipe(index, clickedGallery);\n    }\n    return false;\n  };\n\n  // parse picture index and gallery index from URL (#&pid=1&gid=2)\n  var photoswipeParseHash = function() {\n    var hash = window.location.hash.substring(1),\n      params = {};\n\n    if (hash.length < 5) {\n      return params;\n    }\n\n    var vars = hash.split('&');\n    for (var i = 0; i < vars.length; i++) {\n      if (!vars[i]) {\n        continue;\n      }\n      var pair = vars[i].split('=');\n      if (pair.length < 2) {\n        continue;\n      }\n      params[pair[0]] = pair[1];\n    }\n\n    if (params.gid) {\n      params.gid = parseInt(params.gid, 10);\n    }\n\n    return params;\n  };\n\n  var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {\n    var pswpElement = document.querySelectorAll('.pswp')[0],\n      gallery,\n      options,\n      items;\n\n    items = parseThumbnailElements(galleryElement);\n\n    // define options (if needed)\n    options = {\n\n      // define gallery index (for URL)\n      galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n      getThumbBoundsFn: function(index) {\n        // See Options -> getThumbBoundsFn section of documentation for more info\n        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail\n          pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n          rect = thumbnail.getBoundingClientRect();\n\n        return {\n          x: rect.left,\n          y: rect.top + pageYScroll,\n          w: rect.width\n        };\n      }\n\n    };\n\n    // PhotoSwipe opened from URL\n    if (fromURL) {\n      if (options.galleryPIDs) {\n        // parse real index when custom PIDs are used \n        // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n        for (var j = 0; j < items.length; j++) {\n          if (items[j].pid == index) {\n            options.index = j;\n            break;\n          }\n        }\n      } else {\n        // in URL indexes start from 1\n        options.index = parseInt(index, 10) - 1;\n      }\n    } else {\n      options.index = parseInt(index, 10);\n    }\n\n    // exit if index not found\n    if (isNaN(options.index)) {\n      return;\n    }\n\n    if (disableAnimation) {\n      options.showAnimationDuration = 0;\n    }\n\n    // Pass data to PhotoSwipe and initialize it\n    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n    gallery.init();\n  };\n\n  // loop through all gallery elements and bind events\n  var galleryElements = document.querySelectorAll(gallerySelector);\n\n  for (var i = 0, l = galleryElements.length; i < l; i++) {\n    galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n    galleryElements[i].onclick = onThumbnailsClick;\n  }\n\n  // Parse URL and open gallery if it contains #&pid=3&gid=1\n  var hashData = photoswipeParseHash();\n  if (hashData.pid && hashData.gid) {\n    openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n  }\n};\n\nvar initSecretAlbum = function(albumSlt) {\n  var albumElements = document.getElementsByClassName(albumSlt);\n  var $dialog = document.getElementsByClassName('js-dialog')[0];\n  var $overlay = document.getElementsByClassName('js-overlay')[0];\n  var $btn = document.getElementsByClassName('js-modal-yes')[0];\n  var $input = document.getElementsByClassName('js-input-lock')[0];\n  var $form = document.getElementsByClassName('js-form')[0];\n  var baseUrl = '';\n  var tips = '';\n\n  for (var i = 0, len = albumElements.length; i < len; i++) {\n    (function(i) {\n      albumElements[i].addEventListener('click', function(e) {\n        baseUrl = this.getAttribute('data-href');\n        tips = this.getAttribute('data-tips');\n        $dialog.style.display = 'flex';\n        $overlay.style.display = 'initial';\n        $form.setAttribute('action', baseUrl);\n        $input.setAttribute('placeholder', tips);\n        $input.value = '';\n        $input.focus();\n      })\n    })(i);\n  }\n\n  $overlay.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    $input.value = '';\n  })\n\n  $btn.addEventListener('click', function(e) {\n    $dialog.style.display = 'none';\n    $overlay.style.display = 'none';\n    console.log($btn)\n    // $btn.submit();\n    // window.location.href = (baseUrl + '?password=' + $input.value);\n  })\n\n  document.onkeydown=function(event){\n    var e = event || window.event;         \n    if (e && e.keyCode === 13) {\n      if ($input.value !== '') {\n        window.location.href = (baseUrl + '?password=' + $input.value);\n      }\n    }\n  }\n}\nfunction init() {\n  initPhotoSwipeFromDOM('.photos');\n  // 是否相册，但这个判断方式不好\n  if (document.getElementsByClassName('albums').length) {\n    initSecretAlbum('js-secret-album');\n  }\n}\n\nmodule.exports = {\n  init: init\n}\n</figcaption></a></figure>"},{"_content":"// css\nrequire('./theme.css')\nrequire('./photoSwipe/photoswipe.css')\nrequire('./photoSwipe/default-skin/default-skin.css')\n\n// js\nvar swipe = require('./swipe.init')\nvar lazyload = require('./lazyload')\n\n// todo: fix window\nwindow.lazy = lazyload({\n\tcontainer: document.getElementsByTagName('body')[0]\n})\n\nwindow.onload = function() {\n\tswipe.init()\n}\n","source":"assets/src/main.js","raw":"// css\nrequire('./theme.css')\nrequire('./photoSwipe/photoswipe.css')\nrequire('./photoSwipe/default-skin/default-skin.css')\n\n// js\nvar swipe = require('./swipe.init')\nvar lazyload = require('./lazyload')\n\n// todo: fix window\nwindow.lazy = lazyload({\n\tcontainer: document.getElementsByTagName('body')[0]\n})\n\nwindow.onload = function() {\n\tswipe.init()\n}\n","date":"2017-07-31T09:38:38.103Z","updated":"2017-07-31T03:26:45.608Z","path":"assets/src/main.js","layout":"false","title":"","comments":1,"_id":"cj63dx7ov000hzwv3h8t32kvf","content":"// css\nrequire('./theme.css')\nrequire('./photoSwipe/photoswipe.css')\nrequire('./photoSwipe/default-skin/default-skin.css')\n\n// js\nvar swipe = require('./swipe.init')\nvar lazyload = require('./lazyload')\n\n// todo: fix window\nwindow.lazy = lazyload({\n\tcontainer: document.getElementsByTagName('body')[0]\n})\n\nwindow.onload = function() {\n\tswipe.init()\n}\n","site":{"data":{}},"excerpt":"","more":"// css\nrequire('./theme.css')\nrequire('./photoSwipe/photoswipe.css')\nrequire('./photoSwipe/default-skin/default-skin.css')\n\n// js\nvar swipe = require('./swipe.init')\nvar lazyload = require('./lazyload')\n\n// todo: fix window\nwindow.lazy = lazyload({\n\tcontainer: document.getElementsByTagName('body')[0]\n})\n\nwindow.onload = function() {\n\tswipe.init()\n}\n"},{"_content":"* {\n  margin: 0;\n  padding: 0;\n}\nbody {\n  position: relative;\n  margin-bottom: 30px;\n  background: url(./img/bg.png) repeat #dde1e5;\n  font-family: lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;\n}\n\n.breadcrumb {\n  padding-left: 10px;\n  margin-bottom: 30px;\n  color: #159bfd;\n  position: fixed;\n  z-index: 999;\n  width: 100%;\n  background: rgba(27, 27, 27, 0.9);\n  height: 50px;\n  line-height: 50px;\n  left: 0;\n  top: 0;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #0a0c10;\n}\n.breadcrumb a {\n  color: #159bfd;\n}\n\nh1, h2, h3 {\n  padding-left: 10px;\n  font-weight: 300;\n  clear: both;\n}\n\n.album-title-top, .album-title {\n  margin: 0px 0 20px;\n  color: #383838;\n  text-shadow: 1px 1px 1px #fff;\n}\n.des-title {\n  margin: 0px 0 10px;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-title {\n  margin: 100px 10px;\n  text-align: center;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-sub-title {\n  text-align: center;\n  color: #888;\n  text-shadow: 1px 1px 1px #fff;\n}\n.icon-unlocked {\n  margin-right: 5px;\n}\na {\n  color: #333;\n  text-decoration: none;\n}\n\nsection.info {\n  background-color: #f8f8f8;\n}\n\n.exif-p {\n  width: 50%;\n  float: left;\n}\n.exif-p b {\n  margin-right: 10px;\n}\n\n.layout {\n  color: #333;\n  padding: 60px;\n  position: relative;\n  z-index: 1;\n}\n\n.albums, .photos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.thumb {\n  text-align: center;\n  list-style: none;\n  float: left;\n  width: 150px;\n  height: 120px;\n  margin: 10px;\n  padding: 8px 8px;\n  background: #fff;\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.thumb:hover {\n  transform: scale(1.1);\n  transition: .3s;\n}\n.thumb:hover.thumb:before, .thumb:hover.thumb:after {\n  display: none;\n}\n.bg-lock {\n  position: absolute;\n  width: 150px;\n  height: 100px;\n  background: rgba(0,0,0,.5);\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: center;\n  color: #fff;\n  font-size: 30px;\n}\n.hide{\n  width: 150px;\n  margin: 0 10px;\n  padding: 0 8px;\n  visibility: hidden;\n}\n\n.thumb:before {\n    -webkit-transform: skew(-15deg) rotate(-5deg);\n    -moz-transform: skew(-15deg) rotate(-5deg);\n    -o-transform: skew(-15deg) rotate(-5deg);\n    transform: skew(-15deg) rotate(-5deg);\n    left: 15px;\n}\n.thumb:after {\n    -webkit-transform: skew(15deg) rotate(5deg);\n    -moz-transform: skew(15deg) rotate(5deg);\n    -o-transform: skew(15deg) rotate(5deg);\n    transform: skew(15deg) rotate(5deg);\n    right: 15px;\n}\n.thumb:before, .thumb:after {\n    width: 88%;\n    height: 20%;\n    content: ' ';\n    -webkit-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    -moz-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    position: absolute;\n    bottom: 7px;\n    z-index: -1;\n}\n\n.thumb figcaption {\n  width: 100%;\n  line-height: 32px;\n  max-height: 32px;\n  overflow: hidden;\n  font-size: 14;\n  word-wrap: break-word;\n}\n\n.thumb img {\n  overflow: hidden;\n  margin: auto;\n  height: auto;\n  width: auto;\n  max-width: 150px;\n  max-height: 100px;\n}\n.img-wrap {\n  width: 150px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nfigure.photo {\n  margin: 10px;\n}\n\nfigure.photo img {\n  max-width: 100%;\n}\n\nfigure.photo figcaption {\n  padding-left: 10px;\n}\n\nsection.info {\n  margin: 10px;\n  padding: 10px;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #C3C3C3;\n}\n\nsection.info h2 {\n  padding: 5px 5px 10px 5px;\n  margin:0;\n}\n\nsection.info table {\n  border-spacing: 0;\n}\n\nsection.info table td {\n  padding: 5px;\n}\n\nsection.info table td:first-child {\n  font-weight: bold;\n  padding-right: 20px;\n}\n\n@media screen and (max-width:600px) {\n  .layout {\n    padding: 10px;\n  }\n  .thumb {\n    margin: 10px 0;\n  }\n  .album-title {\n    margin: 50px 0 0;\n    padding: 0;\n  }\n  .album-title-top {\n    padding: 0;\n  }\n  .des-title {\n    padding: 0;\n  }\n}\n@media screen and (max-width:350px) {\n  .albums, .photos {\n    justify-content: center;\n  }\n}\n\n.dialog {\n  width: 280px;\n  height: 60px;\n  margin-top: -30px;\n  margin-left: -140px;\n  position: fixed;\n  background: #fff;\n  border-radius: 5px;\n  top: 50%;\n  left: 50%;\n  font-size: 14px;\n  z-index: 4000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.input-lock {\n  width: 122px;\n  height: 31px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid #a9a9a9;\n  border-radius: 0;\n  color: #333;\n  margin-right: -1px;\n}\n.btn-default {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px;\n  text-decoration: none;\n  text-align: center;\n  border: 1px solid #188eee;\n  background-color: #188eee;\n  color: #fff;\n  padding: 5px 20px;\n  line-height: 18px;\n}\n.btn-default:active {\n  color: #fff;\n}\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', startColorstr='#80000000', endColorstr='#80000000');\n  background-color: rgba(0,0,0,.5);\n  z-index: 4000;\n  display: none;\n}\n\n.footer {\n  font-size: 12px;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  opacity: .6;\n  width: 100%;\n  text-align: center;\n  padding-top: 40px;\n  height: 30px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n}\n.footer a {\n  background: transparent;\n  text-decoration: none;\n  color: #08c;\n}\n\n@font-face {\n  font-family: 'icomoon';\n  src:  url('fonts/icomoon.eot?j5npn0');\n  src:  url('fonts/icomoon.eot?j5npn0#iefix') format('embedded-opentype'),\n    url('fonts/icomoon.ttf?j5npn0') format('truetype'),\n    url('fonts/icomoon.woff?j5npn0') format('woff'),\n    url('fonts/icomoon.svg?j5npn0#icomoon') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-image:before {\n  content: \"\\e90d\";\n}\n.icon-camera:before {\n  content: \"\\e90f\";\n}\n.icon-film:before {\n  content: \"\\e913\";\n}\n.icon-clock:before {\n  content: \"\\e94e\";\n}\n.icon-hour-glass:before {\n  content: \"\\e979\";\n}\n.icon-key:before {\n  content: \"\\e98d\";\n}\n.icon-key2:before {\n  content: \"\\e98e\";\n}\n.icon-lock:before {\n  content: \"\\e98f\";\n}\n.icon-unlocked:before {\n  content: \"\\e990\";\n}\n.icon-star-empty:before {\n  content: \"\\e9d7\";\n}\n.icon-heart:before {\n  content: \"\\e9da\";\n}\n.icon-share2:before {\n  content: \"\\ea82\";\n}\n\n","source":"assets/src/theme.css","raw":"* {\n  margin: 0;\n  padding: 0;\n}\nbody {\n  position: relative;\n  margin-bottom: 30px;\n  background: url(./img/bg.png) repeat #dde1e5;\n  font-family: lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;\n}\n\n.breadcrumb {\n  padding-left: 10px;\n  margin-bottom: 30px;\n  color: #159bfd;\n  position: fixed;\n  z-index: 999;\n  width: 100%;\n  background: rgba(27, 27, 27, 0.9);\n  height: 50px;\n  line-height: 50px;\n  left: 0;\n  top: 0;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #0a0c10;\n}\n.breadcrumb a {\n  color: #159bfd;\n}\n\nh1, h2, h3 {\n  padding-left: 10px;\n  font-weight: 300;\n  clear: both;\n}\n\n.album-title-top, .album-title {\n  margin: 0px 0 20px;\n  color: #383838;\n  text-shadow: 1px 1px 1px #fff;\n}\n.des-title {\n  margin: 0px 0 10px;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-title {\n  margin: 100px 10px;\n  text-align: center;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-sub-title {\n  text-align: center;\n  color: #888;\n  text-shadow: 1px 1px 1px #fff;\n}\n.icon-unlocked {\n  margin-right: 5px;\n}\na {\n  color: #333;\n  text-decoration: none;\n}\n\nsection.info {\n  background-color: #f8f8f8;\n}\n\n.exif-p {\n  width: 50%;\n  float: left;\n}\n.exif-p b {\n  margin-right: 10px;\n}\n\n.layout {\n  color: #333;\n  padding: 60px;\n  position: relative;\n  z-index: 1;\n}\n\n.albums, .photos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.thumb {\n  text-align: center;\n  list-style: none;\n  float: left;\n  width: 150px;\n  height: 120px;\n  margin: 10px;\n  padding: 8px 8px;\n  background: #fff;\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.thumb:hover {\n  transform: scale(1.1);\n  transition: .3s;\n}\n.thumb:hover.thumb:before, .thumb:hover.thumb:after {\n  display: none;\n}\n.bg-lock {\n  position: absolute;\n  width: 150px;\n  height: 100px;\n  background: rgba(0,0,0,.5);\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: center;\n  color: #fff;\n  font-size: 30px;\n}\n.hide{\n  width: 150px;\n  margin: 0 10px;\n  padding: 0 8px;\n  visibility: hidden;\n}\n\n.thumb:before {\n    -webkit-transform: skew(-15deg) rotate(-5deg);\n    -moz-transform: skew(-15deg) rotate(-5deg);\n    -o-transform: skew(-15deg) rotate(-5deg);\n    transform: skew(-15deg) rotate(-5deg);\n    left: 15px;\n}\n.thumb:after {\n    -webkit-transform: skew(15deg) rotate(5deg);\n    -moz-transform: skew(15deg) rotate(5deg);\n    -o-transform: skew(15deg) rotate(5deg);\n    transform: skew(15deg) rotate(5deg);\n    right: 15px;\n}\n.thumb:before, .thumb:after {\n    width: 88%;\n    height: 20%;\n    content: ' ';\n    -webkit-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    -moz-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    position: absolute;\n    bottom: 7px;\n    z-index: -1;\n}\n\n.thumb figcaption {\n  width: 100%;\n  line-height: 32px;\n  max-height: 32px;\n  overflow: hidden;\n  font-size: 14;\n  word-wrap: break-word;\n}\n\n.thumb img {\n  overflow: hidden;\n  margin: auto;\n  height: auto;\n  width: auto;\n  max-width: 150px;\n  max-height: 100px;\n}\n.img-wrap {\n  width: 150px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nfigure.photo {\n  margin: 10px;\n}\n\nfigure.photo img {\n  max-width: 100%;\n}\n\nfigure.photo figcaption {\n  padding-left: 10px;\n}\n\nsection.info {\n  margin: 10px;\n  padding: 10px;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #C3C3C3;\n}\n\nsection.info h2 {\n  padding: 5px 5px 10px 5px;\n  margin:0;\n}\n\nsection.info table {\n  border-spacing: 0;\n}\n\nsection.info table td {\n  padding: 5px;\n}\n\nsection.info table td:first-child {\n  font-weight: bold;\n  padding-right: 20px;\n}\n\n@media screen and (max-width:600px) {\n  .layout {\n    padding: 10px;\n  }\n  .thumb {\n    margin: 10px 0;\n  }\n  .album-title {\n    margin: 50px 0 0;\n    padding: 0;\n  }\n  .album-title-top {\n    padding: 0;\n  }\n  .des-title {\n    padding: 0;\n  }\n}\n@media screen and (max-width:350px) {\n  .albums, .photos {\n    justify-content: center;\n  }\n}\n\n.dialog {\n  width: 280px;\n  height: 60px;\n  margin-top: -30px;\n  margin-left: -140px;\n  position: fixed;\n  background: #fff;\n  border-radius: 5px;\n  top: 50%;\n  left: 50%;\n  font-size: 14px;\n  z-index: 4000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.input-lock {\n  width: 122px;\n  height: 31px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid #a9a9a9;\n  border-radius: 0;\n  color: #333;\n  margin-right: -1px;\n}\n.btn-default {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px;\n  text-decoration: none;\n  text-align: center;\n  border: 1px solid #188eee;\n  background-color: #188eee;\n  color: #fff;\n  padding: 5px 20px;\n  line-height: 18px;\n}\n.btn-default:active {\n  color: #fff;\n}\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', startColorstr='#80000000', endColorstr='#80000000');\n  background-color: rgba(0,0,0,.5);\n  z-index: 4000;\n  display: none;\n}\n\n.footer {\n  font-size: 12px;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  opacity: .6;\n  width: 100%;\n  text-align: center;\n  padding-top: 40px;\n  height: 30px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n}\n.footer a {\n  background: transparent;\n  text-decoration: none;\n  color: #08c;\n}\n\n@font-face {\n  font-family: 'icomoon';\n  src:  url('fonts/icomoon.eot?j5npn0');\n  src:  url('fonts/icomoon.eot?j5npn0#iefix') format('embedded-opentype'),\n    url('fonts/icomoon.ttf?j5npn0') format('truetype'),\n    url('fonts/icomoon.woff?j5npn0') format('woff'),\n    url('fonts/icomoon.svg?j5npn0#icomoon') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-image:before {\n  content: \"\\e90d\";\n}\n.icon-camera:before {\n  content: \"\\e90f\";\n}\n.icon-film:before {\n  content: \"\\e913\";\n}\n.icon-clock:before {\n  content: \"\\e94e\";\n}\n.icon-hour-glass:before {\n  content: \"\\e979\";\n}\n.icon-key:before {\n  content: \"\\e98d\";\n}\n.icon-key2:before {\n  content: \"\\e98e\";\n}\n.icon-lock:before {\n  content: \"\\e98f\";\n}\n.icon-unlocked:before {\n  content: \"\\e990\";\n}\n.icon-star-empty:before {\n  content: \"\\e9d7\";\n}\n.icon-heart:before {\n  content: \"\\e9da\";\n}\n.icon-share2:before {\n  content: \"\\ea82\";\n}\n\n","date":"2017-07-31T09:38:38.137Z","updated":"2017-07-31T03:26:45.618Z","path":"assets/src/theme.css","layout":"false","title":"","comments":1,"_id":"cj63dx7ov000izwv388m5ydtt","content":"* {\n  margin: 0;\n  padding: 0;\n}\nbody {\n  position: relative;\n  margin-bottom: 30px;\n  background: url(./img/bg.png) repeat #dde1e5;\n  font-family: lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;\n}\n\n.breadcrumb {\n  padding-left: 10px;\n  margin-bottom: 30px;\n  color: #159bfd;\n  position: fixed;\n  z-index: 999;\n  width: 100%;\n  background: rgba(27, 27, 27, 0.9);\n  height: 50px;\n  line-height: 50px;\n  left: 0;\n  top: 0;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #0a0c10;\n}\n.breadcrumb a {\n  color: #159bfd;\n}\n\nh1, h2, h3 {\n  padding-left: 10px;\n  font-weight: 300;\n  clear: both;\n}\n\n.album-title-top, .album-title {\n  margin: 0px 0 20px;\n  color: #383838;\n  text-shadow: 1px 1px 1px #fff;\n}\n.des-title {\n  margin: 0px 0 10px;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-title {\n  margin: 100px 10px;\n  text-align: center;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-sub-title {\n  text-align: center;\n  color: #888;\n  text-shadow: 1px 1px 1px #fff;\n}\n.icon-unlocked {\n  margin-right: 5px;\n}\na {\n  color: #333;\n  text-decoration: none;\n}\n\nsection.info {\n  background-color: #f8f8f8;\n}\n\n.exif-p {\n  width: 50%;\n  float: left;\n}\n.exif-p b {\n  margin-right: 10px;\n}\n\n.layout {\n  color: #333;\n  padding: 60px;\n  position: relative;\n  z-index: 1;\n}\n\n.albums, .photos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.thumb {\n  text-align: center;\n  list-style: none;\n  float: left;\n  width: 150px;\n  height: 120px;\n  margin: 10px;\n  padding: 8px 8px;\n  background: #fff;\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.thumb:hover {\n  transform: scale(1.1);\n  transition: .3s;\n}\n.thumb:hover.thumb:before, .thumb:hover.thumb:after {\n  display: none;\n}\n.bg-lock {\n  position: absolute;\n  width: 150px;\n  height: 100px;\n  background: rgba(0,0,0,.5);\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: center;\n  color: #fff;\n  font-size: 30px;\n}\n.hide{\n  width: 150px;\n  margin: 0 10px;\n  padding: 0 8px;\n  visibility: hidden;\n}\n\n.thumb:before {\n    -webkit-transform: skew(-15deg) rotate(-5deg);\n    -moz-transform: skew(-15deg) rotate(-5deg);\n    -o-transform: skew(-15deg) rotate(-5deg);\n    transform: skew(-15deg) rotate(-5deg);\n    left: 15px;\n}\n.thumb:after {\n    -webkit-transform: skew(15deg) rotate(5deg);\n    -moz-transform: skew(15deg) rotate(5deg);\n    -o-transform: skew(15deg) rotate(5deg);\n    transform: skew(15deg) rotate(5deg);\n    right: 15px;\n}\n.thumb:before, .thumb:after {\n    width: 88%;\n    height: 20%;\n    content: ' ';\n    -webkit-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    -moz-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    position: absolute;\n    bottom: 7px;\n    z-index: -1;\n}\n\n.thumb figcaption {\n  width: 100%;\n  line-height: 32px;\n  max-height: 32px;\n  overflow: hidden;\n  font-size: 14;\n  word-wrap: break-word;\n}\n\n.thumb img {\n  overflow: hidden;\n  margin: auto;\n  height: auto;\n  width: auto;\n  max-width: 150px;\n  max-height: 100px;\n}\n.img-wrap {\n  width: 150px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nfigure.photo {\n  margin: 10px;\n}\n\nfigure.photo img {\n  max-width: 100%;\n}\n\nfigure.photo figcaption {\n  padding-left: 10px;\n}\n\nsection.info {\n  margin: 10px;\n  padding: 10px;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #C3C3C3;\n}\n\nsection.info h2 {\n  padding: 5px 5px 10px 5px;\n  margin:0;\n}\n\nsection.info table {\n  border-spacing: 0;\n}\n\nsection.info table td {\n  padding: 5px;\n}\n\nsection.info table td:first-child {\n  font-weight: bold;\n  padding-right: 20px;\n}\n\n@media screen and (max-width:600px) {\n  .layout {\n    padding: 10px;\n  }\n  .thumb {\n    margin: 10px 0;\n  }\n  .album-title {\n    margin: 50px 0 0;\n    padding: 0;\n  }\n  .album-title-top {\n    padding: 0;\n  }\n  .des-title {\n    padding: 0;\n  }\n}\n@media screen and (max-width:350px) {\n  .albums, .photos {\n    justify-content: center;\n  }\n}\n\n.dialog {\n  width: 280px;\n  height: 60px;\n  margin-top: -30px;\n  margin-left: -140px;\n  position: fixed;\n  background: #fff;\n  border-radius: 5px;\n  top: 50%;\n  left: 50%;\n  font-size: 14px;\n  z-index: 4000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.input-lock {\n  width: 122px;\n  height: 31px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid #a9a9a9;\n  border-radius: 0;\n  color: #333;\n  margin-right: -1px;\n}\n.btn-default {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px;\n  text-decoration: none;\n  text-align: center;\n  border: 1px solid #188eee;\n  background-color: #188eee;\n  color: #fff;\n  padding: 5px 20px;\n  line-height: 18px;\n}\n.btn-default:active {\n  color: #fff;\n}\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', startColorstr='#80000000', endColorstr='#80000000');\n  background-color: rgba(0,0,0,.5);\n  z-index: 4000;\n  display: none;\n}\n\n.footer {\n  font-size: 12px;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  opacity: .6;\n  width: 100%;\n  text-align: center;\n  padding-top: 40px;\n  height: 30px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n}\n.footer a {\n  background: transparent;\n  text-decoration: none;\n  color: #08c;\n}\n\n@font-face {\n  font-family: 'icomoon';\n  src:  url('fonts/icomoon.eot?j5npn0');\n  src:  url('fonts/icomoon.eot?j5npn0#iefix') format('embedded-opentype'),\n    url('fonts/icomoon.ttf?j5npn0') format('truetype'),\n    url('fonts/icomoon.woff?j5npn0') format('woff'),\n    url('fonts/icomoon.svg?j5npn0#icomoon') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-image:before {\n  content: \"\\e90d\";\n}\n.icon-camera:before {\n  content: \"\\e90f\";\n}\n.icon-film:before {\n  content: \"\\e913\";\n}\n.icon-clock:before {\n  content: \"\\e94e\";\n}\n.icon-hour-glass:before {\n  content: \"\\e979\";\n}\n.icon-key:before {\n  content: \"\\e98d\";\n}\n.icon-key2:before {\n  content: \"\\e98e\";\n}\n.icon-lock:before {\n  content: \"\\e98f\";\n}\n.icon-unlocked:before {\n  content: \"\\e990\";\n}\n.icon-star-empty:before {\n  content: \"\\e9d7\";\n}\n.icon-heart:before {\n  content: \"\\e9da\";\n}\n.icon-share2:before {\n  content: \"\\ea82\";\n}\n\n","site":{"data":{}},"excerpt":"","more":"* {\n  margin: 0;\n  padding: 0;\n}\nbody {\n  position: relative;\n  margin-bottom: 30px;\n  background: url(./img/bg.png) repeat #dde1e5;\n  font-family: lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;\n}\n\n.breadcrumb {\n  padding-left: 10px;\n  margin-bottom: 30px;\n  color: #159bfd;\n  position: fixed;\n  z-index: 999;\n  width: 100%;\n  background: rgba(27, 27, 27, 0.9);\n  height: 50px;\n  line-height: 50px;\n  left: 0;\n  top: 0;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #0a0c10;\n}\n.breadcrumb a {\n  color: #159bfd;\n}\n\nh1, h2, h3 {\n  padding-left: 10px;\n  font-weight: 300;\n  clear: both;\n}\n\n.album-title-top, .album-title {\n  margin: 0px 0 20px;\n  color: #383838;\n  text-shadow: 1px 1px 1px #fff;\n}\n.des-title {\n  margin: 0px 0 10px;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-title {\n  margin: 100px 10px;\n  text-align: center;\n  color: #666;\n  text-shadow: 1px 1px 1px #fff;\n}\n.empty-sub-title {\n  text-align: center;\n  color: #888;\n  text-shadow: 1px 1px 1px #fff;\n}\n.icon-unlocked {\n  margin-right: 5px;\n}\na {\n  color: #333;\n  text-decoration: none;\n}\n\nsection.info {\n  background-color: #f8f8f8;\n}\n\n.exif-p {\n  width: 50%;\n  float: left;\n}\n.exif-p b {\n  margin-right: 10px;\n}\n\n.layout {\n  color: #333;\n  padding: 60px;\n  position: relative;\n  z-index: 1;\n}\n\n.albums, .photos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.thumb {\n  text-align: center;\n  list-style: none;\n  float: left;\n  width: 150px;\n  height: 120px;\n  margin: 10px;\n  padding: 8px 8px;\n  background: #fff;\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.thumb:hover {\n  transform: scale(1.1);\n  transition: .3s;\n}\n.thumb:hover.thumb:before, .thumb:hover.thumb:after {\n  display: none;\n}\n.bg-lock {\n  position: absolute;\n  width: 150px;\n  height: 100px;\n  background: rgba(0,0,0,.5);\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: center;\n  color: #fff;\n  font-size: 30px;\n}\n.hide{\n  width: 150px;\n  margin: 0 10px;\n  padding: 0 8px;\n  visibility: hidden;\n}\n\n.thumb:before {\n    -webkit-transform: skew(-15deg) rotate(-5deg);\n    -moz-transform: skew(-15deg) rotate(-5deg);\n    -o-transform: skew(-15deg) rotate(-5deg);\n    transform: skew(-15deg) rotate(-5deg);\n    left: 15px;\n}\n.thumb:after {\n    -webkit-transform: skew(15deg) rotate(5deg);\n    -moz-transform: skew(15deg) rotate(5deg);\n    -o-transform: skew(15deg) rotate(5deg);\n    transform: skew(15deg) rotate(5deg);\n    right: 15px;\n}\n.thumb:before, .thumb:after {\n    width: 88%;\n    height: 20%;\n    content: ' ';\n    -webkit-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    -moz-box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n    position: absolute;\n    bottom: 7px;\n    z-index: -1;\n}\n\n.thumb figcaption {\n  width: 100%;\n  line-height: 32px;\n  max-height: 32px;\n  overflow: hidden;\n  font-size: 14;\n  word-wrap: break-word;\n}\n\n.thumb img {\n  overflow: hidden;\n  margin: auto;\n  height: auto;\n  width: auto;\n  max-width: 150px;\n  max-height: 100px;\n}\n.img-wrap {\n  width: 150px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nfigure.photo {\n  margin: 10px;\n}\n\nfigure.photo img {\n  max-width: 100%;\n}\n\nfigure.photo figcaption {\n  padding-left: 10px;\n}\n\nsection.info {\n  margin: 10px;\n  padding: 10px;\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #C3C3C3;\n}\n\nsection.info h2 {\n  padding: 5px 5px 10px 5px;\n  margin:0;\n}\n\nsection.info table {\n  border-spacing: 0;\n}\n\nsection.info table td {\n  padding: 5px;\n}\n\nsection.info table td:first-child {\n  font-weight: bold;\n  padding-right: 20px;\n}\n\n@media screen and (max-width:600px) {\n  .layout {\n    padding: 10px;\n  }\n  .thumb {\n    margin: 10px 0;\n  }\n  .album-title {\n    margin: 50px 0 0;\n    padding: 0;\n  }\n  .album-title-top {\n    padding: 0;\n  }\n  .des-title {\n    padding: 0;\n  }\n}\n@media screen and (max-width:350px) {\n  .albums, .photos {\n    justify-content: center;\n  }\n}\n\n.dialog {\n  width: 280px;\n  height: 60px;\n  margin-top: -30px;\n  margin-left: -140px;\n  position: fixed;\n  background: #fff;\n  border-radius: 5px;\n  top: 50%;\n  left: 50%;\n  font-size: 14px;\n  z-index: 4000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.input-lock {\n  width: 122px;\n  height: 31px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid #a9a9a9;\n  border-radius: 0;\n  color: #333;\n  margin-right: -1px;\n}\n.btn-default {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px;\n  text-decoration: none;\n  text-align: center;\n  border: 1px solid #188eee;\n  background-color: #188eee;\n  color: #fff;\n  padding: 5px 20px;\n  line-height: 18px;\n}\n.btn-default:active {\n  color: #fff;\n}\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', startColorstr='#80000000', endColorstr='#80000000');\n  background-color: rgba(0,0,0,.5);\n  z-index: 4000;\n  display: none;\n}\n\n.footer {\n  font-size: 12px;\n  font-family: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  opacity: .6;\n  width: 100%;\n  text-align: center;\n  padding-top: 40px;\n  height: 30px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n}\n.footer a {\n  background: transparent;\n  text-decoration: none;\n  color: #08c;\n}\n\n@font-face {\n  font-family: 'icomoon';\n  src:  url('fonts/icomoon.eot?j5npn0');\n  src:  url('fonts/icomoon.eot?j5npn0#iefix') format('embedded-opentype'),\n    url('fonts/icomoon.ttf?j5npn0') format('truetype'),\n    url('fonts/icomoon.woff?j5npn0') format('woff'),\n    url('fonts/icomoon.svg?j5npn0#icomoon') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-image:before {\n  content: \"\\e90d\";\n}\n.icon-camera:before {\n  content: \"\\e90f\";\n}\n.icon-film:before {\n  content: \"\\e913\";\n}\n.icon-clock:before {\n  content: \"\\e94e\";\n}\n.icon-hour-glass:before {\n  content: \"\\e979\";\n}\n.icon-key:before {\n  content: \"\\e98d\";\n}\n.icon-key2:before {\n  content: \"\\e98e\";\n}\n.icon-lock:before {\n  content: \"\\e98f\";\n}\n.icon-unlocked:before {\n  content: \"\\e990\";\n}\n.icon-star-empty:before {\n  content: \"\\e9d7\";\n}\n.icon-heart:before {\n  content: \"\\e9da\";\n}\n.icon-share2:before {\n  content: \"\\ea82\";\n}\n\n"},{"_content":"!function(A){function e(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return A[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=A,e.c=t,e.p=\"./\",e(0)}([function(A,e,t){t(17),t(16),t(15);var o=t(7),i=t(4);window.lazy=i({container:document.getElementsByTagName(\"body\")[0]}),window.onload=function(){o.init()}},function(A,e){A.exports=function(){var A=[];return A.toString=function(){for(var A=[],e=0;e<this.length;e++){var t=this[e];t[2]?A.push(\"@media \"+t[2]+\"{\"+t[1]+\"}\"):A.push(t[1])}return A.join(\"\")},A.i=function(e,t){\"string\"==typeof e&&(e=[[null,e,\"\"]]);for(var o={},i=0;i<this.length;i++){var n=this[i][0];\"number\"==typeof n&&(o[n]=!0)}for(i=0;i<e.length;i++){var a=e[i];\"number\"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]=\"(\"+a[2]+\") and (\"+t+\")\"),A.push(a))}},A}},function(A,e,t){function o(A,e){for(var t=0;t<A.length;t++){var o=A[t],i=d[o.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](o.parts[n]);for(;n<o.parts.length;n++)i.parts.push(l(o.parts[n],e))}else{for(var a=[],n=0;n<o.parts.length;n++)a.push(l(o.parts[n],e));d[o.id]={id:o.id,refs:1,parts:a}}}}function i(A){for(var e=[],t={},o=0;o<A.length;o++){var i=A[o],n=i[0],a=i[1],r=i[2],s=i[3],l={css:a,media:r,sourceMap:s};t[n]?t[n].parts.push(l):e.push(t[n]={id:n,parts:[l]})}return e}function n(A,e){var t=M(),o=h[h.length-1];if(\"top\"===A.insertAt)o?o.nextSibling?t.insertBefore(e,o.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),h.push(e);else{if(\"bottom\"!==A.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");t.appendChild(e)}}function a(A){A.parentNode.removeChild(A);var e=h.indexOf(A);e>=0&&h.splice(e,1)}function r(A){var e=document.createElement(\"style\");return e.type=\"text/css\",n(A,e),e}function s(A){var e=document.createElement(\"link\");return e.rel=\"stylesheet\",n(A,e),e}function l(A,e){var t,o,i;if(e.singleton){var n=w++;t=f||(f=r(e)),o=c.bind(null,t,n,!1),i=c.bind(null,t,n,!0)}else A.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(t=s(e),o=p.bind(null,t),i=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),o=u.bind(null,t),i=function(){a(t)});return o(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;o(A=e)}else i()}}function c(A,e,t,o){var i=t?\"\":o.css;if(A.styleSheet)A.styleSheet.cssText=I(e,i);else{var n=document.createTextNode(i),a=A.childNodes;a[e]&&A.removeChild(a[e]),a.length?A.insertBefore(n,a[e]):A.appendChild(n)}}function u(A,e){var t=e.css,o=e.media;if(o&&A.setAttribute(\"media\",o),A.styleSheet)A.styleSheet.cssText=t;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(t))}}function p(A,e){var t=e.css,o=e.sourceMap;o&&(t+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var i=new Blob([t],{type:\"text/css\"}),n=A.href;A.href=URL.createObjectURL(i),n&&URL.revokeObjectURL(n)}var d={},g=function(A){var e;return function(){return\"undefined\"==typeof e&&(e=A.apply(this,arguments)),e}},m=g(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),M=g(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),f=null,w=0,h=[];A.exports=function(A,e){e=e||{},\"undefined\"==typeof e.singleton&&(e.singleton=m()),\"undefined\"==typeof e.insertAt&&(e.insertAt=\"bottom\");var t=i(A);return o(t,e),function(A){for(var n=[],a=0;a<t.length;a++){var r=t[a],s=d[r.id];s.refs--,n.push(s)}if(A){var l=i(A);o(l,e)}for(var a=0;a<n.length;a++){var s=n[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete d[s.id]}}}};var I=function(){var A=[];return function(e,t){return A[e]=t,A.filter(Boolean).join(\"\\n\")}}()},function(A,e){A.exports=\"data:application/vnd.ms-fontobject;base64,8AsAAEwLAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAd35PrgAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIHhQAAALwAAABgY21hcLwxexsAAAEcAAAAlGdhc3AAAAAQAAABsAAAAAhnbHlmjM5e+gAAAbgAAAcMaGVhZAs8OI8AAAjEAAAANmhoZWEHwgPRAAAI/AAAACRobXR4NgAAQAAACSAAAABAbG9jYQ18C8wAAAlgAAAAIm1heHAAGgBaAAAJhAAAACBuYW1lmUoJ+wAACaQAAAGGcG9zdAADAAAAAAssAAAAIAADA9kBkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOqCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAB4AAAAGgAQAAMACgABACDpDekP6RPpTul56ZDp1+na6oL//f//AAAAAAAg6Q3pD+kT6U7peemN6dfp2uqC//3//wAB/+MW9xb2FvMWuRaPFnwWNhY0FY0AAwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAAAAAAQAA4AAEAAhAC0ANAAAATgBMRE4ATEhOAExETgBMSE1ISIGFREUFjMhMjY1ETQmIwcUBiMiJjU0NjMyFhMhNRMBMzcDwPyAA4D8gBomJhoDgBomJhqAOCgoODgoKDhA/QDgAQBA4ANA/QADAEAmGv0AGiYmGgMAGibgKDg4KCg4OP24gAGA/sDAAAAEAAAAAAQAA0AAEwArAD8AQwAAARQeAjMyPgI1NC4CIyIOAgEjLgEjISIGByMiBhURFBYzITI2NRE0JgEiLgI1ND4CMzIeAhUUDgIBIzUzATAhOEwrK0w4ISE4TCsrTDghApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7Z00tLU1nOztnTS0tTWcBhYCAAWArTDghIThMKytMOCEhOEwBNTBQUDAmGv3AGiYmGgJAGib9hC1NZzs7Z00tLU1nOztnTS0BvEAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAMAAP/ABAADwAAFABkALQAAJScRMxUXAyIOAhUUHgIzMj4CNTQuAgMiLgI1ND4CMzIeAhUUDgICk9OAre1qu4tQUIu7amq7i1BQi7tqUItpPDxpi1BQi2k8PGmL09IBG+WuApNQi7tqaruLUFCLu2pqu4tQ/IA8aYtQUItpPDxpi1BQi2k8AAADAED/wAPAA8AAIgA7AFcAAAE+AzU0JichDgEVFB4CFw4DFRQWFyE+ATU0LgInATQ+Ajc1LgM1MSEUDgIHFR4DFQMuAT0BNDY3PgE3IR4BFx4BHQEUBgcOAQchLgEC2TRVPSECAfyGAQIhPVU0NFU9IQIBA3oBAiE9VTT9xx45UzY2UzkeAsAeOVM2NlM5HvQ2FhY2HTET/mYTMR02FhY2Nk0MAfYMTQHAIV5zhkgQIBAQIBBIhnNeISFec4ZIECAQECAQSIZzXiH+QEZ/aE0UZBRNaH9GRn9oTRRkFE1of0YBIh9HGEAYRx8QMx8gMhAfRxhAGEcfH3hLTHcAAAAAAgAA/8AEAAPAACEALQAAASIOAhUUFhcBFRQWOwE1MzUzNTM3HgEzMj4CNTQuAhMiJjU0NjMyFhUUBgLAQnVXMgMC/nslG0CAgIBTGjYdQnVXMjJXdR4oODgoKDg4A8AyV3VCDx0P/nvAGyVAgIBTCQoyV3VCQnVXMv7AOCgoODgoKDgAAwAA/8AD9AO0ACQAKQA5AAABJy4BLwEuAQcFDgEfAR4BFwEHMzUzNTM1MzUeAR8BFjY3EzYmAScBFwEBBwYiJwEmND8BNjIXARYUA+plEzUSZRM5Fv7rFg4MRgIDA/6bIMCAgIAFCQSNGDYPuA4F/JouATgt/skC/i0KGgn+8AkJLQoaCQEQCQKGZRI1E2UTBQ64DzYYjQMHA/6b4ECAgEcDBQJGDA4WARUWOf32LgE3Lf7IAa8tCQkBEAkaCi0JCf7wCRoAAAACAAD/wAKAA4AAGQAjAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiU0NjsBMhYdASECUBBxT4BPcRAUHBwUAiAUHBz+XCYagBom/wACAMBPcXFPwBwU/iAUHBwUAeAUHMAaJiYawAAAAAABAAD/wAPAA4AAIwAAATIWHQEjNTQmKwEiBh0BMzIWFREUBiMhIiY1ETQ2MyE1NDYzAwBPcYAmGoAaJhAUHBwU/eAUHBwUAZBxTwOAcU/AwBomJhrAHBT+IBQcHBQB4BQcwE9xAAAAAAIAAP/ZBAADpwAKABQAAAElCwENAQMlBQMlAQc3Jz8BHwEHFwQA/p6env6eAQA8ATwBPDwBAP4A3yq1+nBw+rUqAjMzAUH+vzP6/qCmpgFg+v6cdvmwJOPjJLD5AAAAAAEAAP/MBAADgAAdAAABIg4CBy4DIyIOAhUUHgIXPgM1NC4CAvMoSj8yEBAyP0ooOGJJKmaZs05KsptpKkliA4AeMkEiIkEyHipJYjhxnY6bcG+ekJ1tOGJJKgAAAQAA/8AEAAPAADMAAAEiBgclPgE1NCYnJR4BMzI2NTQmIyIGFRQWFwUuASMiBhUUFjMyNjcFDgEVFBYzMjY1NCYDYCI7Fv5RAQEBAQGvFjsiQl5eQkJeAQH+URY7IkJeXkIiOxYBrwEBXkJCXl4BABoX2AYNBgYNBtgXGl5CQl5eQgYNBtgXGl5CQl4aF9gGDQZCXl5CQl4AAAAAAQAAAAAAAK5PfndfDzz1AAsEAAAAAADUDvoJAAAAANQO+gkAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAIAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAAAAoAFAAeAGYAyAEGAUoBygIMAnACpgLaAwoDOAOGAAAAAQAAABAAWAAJAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"},function(A,e,t){(function(e){function o(A){r.call(l,A)===-1&&l.push(A)}function i(A){function e(A){var e=t(A);e&&(A.src=e),A.setAttribute(\"data-lzled\",!0),n[r.call(n,A)]=null}function t(e){return\"function\"==typeof A.src?A.src(e):e.getAttribute(A.src)}function i(t){t.onload=null,t.removeAttribute(\"onload\"),t.onerror=null,t.removeAttribute(\"onerror\"),r.call(n,t)===-1&&s(t,A,e)}A=a({offset:333,src:\"data-src\",container:!1},A||{}),\"string\"==typeof A.src&&o(A.src);var n=[];return i}function n(A){var t=\"HTML\"+A+\"Element\";if(t in e!=!1){var o=e[t].prototype.getAttribute;e[t].prototype.getAttribute=function(A){if(\"src\"===A){for(var e,t=0,i=l.length;t<i&&!(e=o.call(this,l[t]));t++);return e||o.call(this,A)}return o.call(this,A)}}}function a(A,e){for(var t in A)void 0===e[t]&&(e[t]=A[t]);return e}function r(A){for(var e=this.length;e--&&this[e]!==A;);return e}A.exports=i;var s=t(14),l=[\"data-src\"];e.lzld=i(),n(\"Image\"),n(\"IFrame\")}).call(e,function(){return this}())},function(A,e,t){var o,i;/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n\t* http://photoswipe.com\n\t* Copyright (c) 2015 Dmitry Semenov; */\n!function(n,a){o=a,i=\"function\"==typeof o?o.call(e,t,e,A):o,!(void 0!==i&&(A.exports=i))}(this,function(){\"use strict\";var A=function(A,e){var t,o,i,n,a,r,s,l,c,u,p,d,g,m,M,f,w,h,I,y=this,x=!1,T=!0,b=!0,N={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(A,e){return A.title?(e.children[0].innerHTML=A.title,!0):(e.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text={{text}}&url={{url}}\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}\"},{id:\"download\",label:\"Download image\",url:\"{{raw_image_url}}\",download:!0}],getImageURLForShare:function(){return A.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return A.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},D=function(A){if(f)return!0;A=A||window.event,M.timeToIdle&&M.mouseUsed&&!c&&Y();for(var t,o,i=A.target||A.srcElement,n=i.getAttribute(\"class\")||\"\",a=0;a<P.length;a++)t=P[a],t.onTap&&n.indexOf(\"pswp__\"+t.name)>-1&&(t.onTap(),o=!0);if(o){A.stopPropagation&&A.stopPropagation(),f=!0;var r=e.features.isOldAndroid?600:30;w=setTimeout(function(){f=!1},r)}},C=function(){return!A.likelyTouchDevice||M.mouseUsed||screen.width>M.fitControlsWidth},E=function(A,t,o){e[(o?\"add\":\"remove\")+\"Class\"](A,\"pswp__\"+t)},v=function(){var A=1===M.getNumItemsFn();A!==m&&(E(o,\"ui--one-slide\",A),m=A)},j=function(){E(s,\"share-modal--hidden\",b)},B=function(){return b=!b,b?(e.removeClass(s,\"pswp__share-modal--fade-in\"),setTimeout(function(){b&&j()},300)):(j(),setTimeout(function(){b||e.addClass(s,\"pswp__share-modal--fade-in\")},30)),b||L(),!1},Q=function(e){e=e||window.event;var t=e.target||e.srcElement;return A.shout(\"shareLinkClick\",e,t),!!t.href&&(!!t.hasAttribute(\"download\")||(window.open(t.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),b||B(),!1))},L=function(){for(var A,e,t,o,i,n=\"\",a=0;a<M.shareButtons.length;a++)A=M.shareButtons[a],t=M.getImageURLForShare(A),o=M.getPageURLForShare(A),i=M.getTextForShare(A),e=A.url.replace(\"{{url}}\",encodeURIComponent(o)).replace(\"{{image_url}}\",encodeURIComponent(t)).replace(\"{{raw_image_url}}\",t).replace(\"{{text}}\",encodeURIComponent(i)),n+='<a href=\"'+e+'\" target=\"_blank\" class=\"pswp__share--'+A.id+'\"'+(A.download?\"download\":\"\")+\">\"+A.label+\"</a>\",M.parseShareButtonOut&&(n=M.parseShareButtonOut(A,n));s.children[0].innerHTML=n,s.children[0].onclick=Q},z=function(A){for(var t=0;t<M.closeElClasses.length;t++)if(e.hasClass(A,\"pswp__\"+M.closeElClasses[t]))return!0},k=0,Y=function(){clearTimeout(I),k=0,c&&y.setIdle(!1)},O=function(A){A=A?A:window.event;var e=A.relatedTarget||A.toElement;e&&\"HTML\"!==e.nodeName||(clearTimeout(I),I=setTimeout(function(){y.setIdle(!0)},M.timeToIdleOutside))},_=function(){M.fullscreenEl&&!e.features.isOldAndroid&&(t||(t=y.getFullscreenAPI()),t?(e.bind(document,t.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(A.template,\"pswp--supports-fs\")):e.removeClass(A.template,\"pswp--supports-fs\"))},U=function(){M.preloaderEl&&(S(!0),u(\"beforeChange\",function(){clearTimeout(g),g=setTimeout(function(){A.currItem&&A.currItem.loading?(!A.allowProgressiveImg()||A.currItem.img&&!A.currItem.img.naturalWidth)&&S(!1):S(!0)},M.loadingIndicatorDelay)}),u(\"imageLoadComplete\",function(e,t){A.currItem===t&&S(!0)}))},S=function(A){d!==A&&(E(p,\"preloader--active\",!A),d=A)},G=function(A){var t=A.vGap;if(C()){var a=M.barsSize;if(M.captionEl&&\"auto\"===a.bottom)if(n||(n=e.createEl(\"pswp__caption pswp__caption--fake\"),n.appendChild(e.createEl(\"pswp__caption__center\")),o.insertBefore(n,i),e.addClass(o,\"pswp__ui--fit\")),M.addCaptionHTMLFn(A,n,!0)){var r=n.clientHeight;t.bottom=parseInt(r,10)||44}else t.bottom=a.top;else t.bottom=\"auto\"===a.bottom?0:a.bottom;t.top=a.top}else t.top=t.bottom=0},F=function(){M.timeToIdle&&u(\"mouseUsed\",function(){e.bind(document,\"mousemove\",Y),e.bind(document,\"mouseout\",O),h=setInterval(function(){k++,2===k&&y.setIdle(!0)},M.timeToIdle/2)})},R=function(){u(\"onVerticalDrag\",function(A){T&&A<.95?y.hideControls():!T&&A>=.95&&y.showControls()});var A;u(\"onPinchClose\",function(e){T&&e<.9?(y.hideControls(),A=!0):A&&!T&&e>.9&&y.showControls()}),u(\"zoomGestureEnded\",function(){A=!1,A&&!T&&y.showControls()})},P=[{name:\"caption\",option:\"captionEl\",onInit:function(A){i=A}},{name:\"share-modal\",option:\"shareEl\",onInit:function(A){s=A},onTap:function(){B()}},{name:\"button--share\",option:\"shareEl\",onInit:function(A){r=A},onTap:function(){B()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:A.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(A){a=A}},{name:\"button--close\",option:\"closeEl\",onTap:A.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:A.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:A.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){t.isFullscreen()?t.exit():t.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(A){p=A}}],Z=function(){var A,t,i,n=function(o){if(o)for(var n=o.length,a=0;a<n;a++){A=o[a],t=A.className;for(var r=0;r<P.length;r++)i=P[r],t.indexOf(\"pswp__\"+i.name)>-1&&(M[i.option]?(e.removeClass(A,\"pswp__element--disabled\"),i.onInit&&i.onInit(A)):e.addClass(A,\"pswp__element--disabled\"))}};n(o.children);var a=e.getChildByClass(o,\"pswp__top-bar\");a&&n(a.children)};y.init=function(){e.extend(A.options,N,!0),M=A.options,o=e.getChildByClass(A.scrollWrap,\"pswp__ui\"),u=A.listen,R(),u(\"beforeChange\",y.update),u(\"doubleTap\",function(e){var t=A.currItem.initialZoomLevel;A.getZoomLevel()!==t?A.zoomTo(t,e,333):A.zoomTo(M.getDoubleTapZoom(!1,A.currItem),e,333)}),u(\"preventDragEvent\",function(A,e,t){var o=A.target||A.srcElement;o&&o.getAttribute(\"class\")&&A.type.indexOf(\"mouse\")>-1&&(o.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(t.prevent=!1)}),u(\"bindEvents\",function(){e.bind(o,\"pswpTap click\",D),e.bind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),A.likelyTouchDevice||e.bind(A.scrollWrap,\"mouseover\",y.onMouseOver)}),u(\"unbindEvents\",function(){b||B(),h&&clearInterval(h),e.unbind(document,\"mouseout\",O),e.unbind(document,\"mousemove\",Y),e.unbind(o,\"pswpTap click\",D),e.unbind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),e.unbind(A.scrollWrap,\"mouseover\",y.onMouseOver),t&&(e.unbind(document,t.eventK,y.updateFullscreen),t.isFullscreen()&&(M.hideAnimationDuration=0,t.exit()),t=null)}),u(\"destroy\",function(){M.captionEl&&(n&&o.removeChild(n),e.removeClass(i,\"pswp__caption--empty\")),s&&(s.children[0].onclick=null),e.removeClass(o,\"pswp__ui--over-close\"),e.addClass(o,\"pswp__ui--hidden\"),y.setIdle(!1)}),M.showAnimationDuration||e.removeClass(o,\"pswp__ui--hidden\"),u(\"initialZoomIn\",function(){M.showAnimationDuration&&e.removeClass(o,\"pswp__ui--hidden\")}),u(\"initialZoomOut\",function(){e.addClass(o,\"pswp__ui--hidden\")}),u(\"parseVerticalMargin\",G),Z(),M.shareEl&&r&&s&&(b=!0),v(),F(),_(),U()},y.setIdle=function(A){c=A,E(o,\"ui--idle\",A)},y.update=function(){T&&A.currItem?(y.updateIndexIndicator(),M.captionEl&&(M.addCaptionHTMLFn(A.currItem,i),E(i,\"caption--empty\",!A.currItem.title)),x=!0):x=!1,b||B(),v()},y.updateFullscreen=function(o){o&&setTimeout(function(){A.setScrollOffset(0,e.getScrollY())},50),e[(t.isFullscreen()?\"add\":\"remove\")+\"Class\"](A.template,\"pswp--fs\")},y.updateIndexIndicator=function(){M.counterEl&&(a.innerHTML=A.getCurrentIndex()+1+M.indexIndicatorSep+M.getNumItemsFn())},y.onGlobalTap=function(t){t=t||window.event;var o=t.target||t.srcElement;if(!f)if(t.detail&&\"mouse\"===t.detail.pointerType){if(z(o))return void A.close();e.hasClass(o,\"pswp__img\")&&(1===A.getZoomLevel()&&A.getZoomLevel()<=A.currItem.fitRatio?M.clickToCloseNonZoomable&&A.close():A.toggleDesktopZoom(t.detail.releasePoint))}else if(M.tapToToggleControls&&(T?y.hideControls():y.showControls()),M.tapToClose&&(e.hasClass(o,\"pswp__img\")||z(o)))return void A.close()},y.onMouseOver=function(A){A=A||window.event;var e=A.target||A.srcElement;E(o,\"ui--over-close\",z(e))},y.hideControls=function(){e.addClass(o,\"pswp__ui--hidden\"),T=!1},y.showControls=function(){T=!0,x||y.update(),e.removeClass(o,\"pswp__ui--hidden\")},y.supportsFullscreen=function(){var A=document;return!!(A.exitFullscreen||A.mozCancelFullScreen||A.webkitExitFullscreen||A.msExitFullscreen)},y.getFullscreenAPI=function(){var e,t=document.documentElement,o=\"fullscreenchange\";return t.requestFullscreen?e={enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:o}:t.mozRequestFullScreen?e={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+o}:t.webkitRequestFullscreen?e={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+o}:t.msRequestFullscreen&&(e={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),e&&(e.enter=function(){return l=M.closeOnScroll,M.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?A.template[this.enterK]():void A.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return M.closeOnScroll=l,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return A})},function(A,e,t){var o,i;/*! PhotoSwipe - v4.1.1 - 2015-12-24\n\t* http://photoswipe.com\n\t* Copyright (c) 2015 Dmitry Semenov; */\n!function(n,a){o=a,i=\"function\"==typeof o?o.call(e,t,e,A):o,!(void 0!==i&&(A.exports=i))}(this,function(){\"use strict\";var A=function(A,e,t,o){var i={features:null,bind:function(A,e,t,o){var i=(o?\"remove\":\"add\")+\"EventListener\";e=e.split(\" \");for(var n=0;n<e.length;n++)e[n]&&A[i](e[n],t,!1)},isArray:function(A){return A instanceof Array},createEl:function(A,e){var t=document.createElement(e||\"div\");return A&&(t.className=A),t},getScrollY:function(){var A=window.pageYOffset;return void 0!==A?A:document.documentElement.scrollTop},unbind:function(A,e,t){i.bind(A,e,t,!0)},removeClass:function(A,e){var t=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");A.className=A.className.replace(t,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},addClass:function(A,e){i.hasClass(A,e)||(A.className+=(A.className?\" \":\"\")+e)},hasClass:function(A,e){return A.className&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(A.className)},getChildByClass:function(A,e){for(var t=A.firstChild;t;){if(i.hasClass(t,e))return t;t=t.nextSibling}},arraySearch:function(A,e,t){for(var o=A.length;o--;)if(A[o][t]===e)return o;return-1},extend:function(A,e,t){for(var o in e)if(e.hasOwnProperty(o)){if(t&&A.hasOwnProperty(o))continue;A[o]=e[o]}},easing:{sine:{out:function(A){return Math.sin(A*(Math.PI/2))},inOut:function(A){return-(Math.cos(Math.PI*A)-1)/2}},cubic:{out:function(A){return--A*A*A+1}}},detectFeatures:function(){if(i.features)return i.features;var A=i.createEl(),e=A.style,t=\"\",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch=\"ontouchstart\"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var n=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10),a>=1&&8>a&&(o.isOldIOSPhone=!0))}var r=n.match(/Android\\s([0-9\\.]*)/),s=r?r[1]:0;s=parseFloat(s),s>=1&&(4.4>s&&(o.isOldAndroid=!0),o.androidVersion=s),o.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,u=[\"transform\",\"perspective\",\"animationName\"],p=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],d=0;4>d;d++){t=p[d];for(var g=0;3>g;g++)l=u[g],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!o[l]&&c in e&&(o[l]=c);t&&!o.raf&&(t=t.toLowerCase(),o.raf=window[t+\"RequestAnimationFrame\"],o.raf&&(o.caf=window[t+\"CancelAnimationFrame\"]||window[t+\"CancelRequestAnimationFrame\"]))}if(!o.raf){var m=0;o.raf=function(A){var e=(new Date).getTime(),t=Math.max(0,16-(e-m)),o=window.setTimeout(function(){A(e+t)},t);return m=e+t,o},o.caf=function(A){clearTimeout(A)}}return o.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(A,e,t,o){e=e.split(\" \");for(var i,n=(o?\"detach\":\"attach\")+\"Event\",a=function(){t.handleEvent.call(t)},r=0;r<e.length;r++)if(i=e[r])if(\"object\"==typeof t&&t.handleEvent){if(o){if(!t[\"oldIE\"+i])return!1}else t[\"oldIE\"+i]=a;A[n](\"on\"+i,t[\"oldIE\"+i])}else A[n](\"on\"+i,t)});var n=this,a=25,r=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(A){return\"A\"===A.tagName},getDoubleTapZoom:function(A,e){return A?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:\"fit\"};i.extend(s,o);var l,c,u,p,d,g,m,M,f,w,h,I,y,x,T,b,N,D,C,E,v,j,B,Q,L,z,k,Y,O,_,U,S,G,F,R,P,Z,H,J,W,V,X,K,q,$,AA,eA,tA,oA,iA,nA,aA,rA,sA,lA,cA,uA=function(){return{x:0,y:0}},pA=uA(),dA=uA(),gA=uA(),mA={},MA=0,fA={},wA=uA(),hA=0,IA=!0,yA=[],xA={},TA=!1,bA=function(A,e){i.extend(n,e.publicMethods),yA.push(A)},NA=function(A){var e=$e();return A>e-1?A-e:0>A?e+A:A},DA={},CA=function(A,e){return DA[A]||(DA[A]=[]),DA[A].push(e)},EA=function(A){var e=DA[A];if(e){var t=Array.prototype.slice.call(arguments);t.shift();for(var o=0;o<e.length;o++)e[o].apply(n,t)}},vA=function(){return(new Date).getTime()},jA=function(A){sA=A,n.bg.style.opacity=A*s.bgOpacity},BA=function(A,e,t,o,i){(!TA||i&&i!==n.currItem)&&(o/=i?i.fitRatio:n.currItem.fitRatio),A[j]=I+e+\"px, \"+t+\"px\"+y+\" scale(\"+o+\")\"},QA=function(A){oA&&(A&&(w>n.currItem.fitRatio?TA||(ut(n.currItem,!1,!0),TA=!0):TA&&(ut(n.currItem),TA=!1)),BA(oA,gA.x,gA.y,w))},LA=function(A){A.container&&BA(A.container.style,A.initialPosition.x,A.initialPosition.y,A.initialZoomLevel,A)},zA=function(A,e){e[j]=I+A+\"px, 0px\"+y},kA=function(A,e){if(!s.loop&&e){var t=p+(wA.x*MA-A)/wA.x,o=Math.round(A-we.x);(0>t&&o>0||t>=$e()-1&&0>o)&&(A=we.x+o*s.mainScrollEndFriction)}we.x=A,zA(A,d)},YA=function(A,e){var t=he[A]-fA[A];return dA[A]+pA[A]+t-t*(e/h)},OA=function(A,e){A.x=e.x,A.y=e.y,e.id&&(A.id=e.id)},_A=function(A){A.x=Math.round(A.x),A.y=Math.round(A.y)},UA=null,SA=function(){UA&&(i.unbind(document,\"mousemove\",SA),i.addClass(A,\"pswp--has_mouse\"),s.mouseUsed=!0,EA(\"mouseUsed\")),UA=setTimeout(function(){UA=null},100)},GA=function(){i.bind(document,\"keydown\",n),U.transform&&i.bind(n.scrollWrap,\"click\",n),s.mouseUsed||i.bind(document,\"mousemove\",SA),i.bind(window,\"resize scroll\",n),EA(\"bindEvents\")},FA=function(){i.unbind(window,\"resize\",n),i.unbind(window,\"scroll\",f.scroll),i.unbind(document,\"keydown\",n),i.unbind(document,\"mousemove\",SA),U.transform&&i.unbind(n.scrollWrap,\"click\",n),H&&i.unbind(window,m,n),EA(\"unbindEvents\")},RA=function(A,e){var t=rt(n.currItem,mA,A);return e&&(tA=t),t},PA=function(A){return A||(A=n.currItem),A.initialZoomLevel},ZA=function(A){return A||(A=n.currItem),A.w>0?s.maxSpreadZoom:1},HA=function(A,e,t,o){return o===n.currItem.initialZoomLevel?(t[A]=n.currItem.initialPosition[A],!0):(t[A]=YA(A,o),t[A]>e.min[A]?(t[A]=e.min[A],!0):t[A]<e.max[A]&&(t[A]=e.max[A],!0))},JA=function(){if(j){var e=U.perspective&&!Q;return I=\"translate\"+(e?\"3d(\":\"(\"),void(y=U.perspective?\", 0px)\":\")\")}j=\"left\",i.addClass(A,\"pswp--ie\"),zA=function(A,e){e.left=A+\"px\"},LA=function(A){var e=A.fitRatio>1?1:A.fitRatio,t=A.container.style,o=e*A.w,i=e*A.h;t.width=o+\"px\",t.height=i+\"px\",t.left=A.initialPosition.x+\"px\",t.top=A.initialPosition.y+\"px\"},QA=function(){if(oA){var A=oA,e=n.currItem,t=e.fitRatio>1?1:e.fitRatio,o=t*e.w,i=t*e.h;A.width=o+\"px\",A.height=i+\"px\",A.left=gA.x+\"px\",A.top=gA.y+\"px\"}}},WA=function(A){var e=\"\";s.escKey&&27===A.keyCode?e=\"close\":s.arrowKeys&&(37===A.keyCode?e=\"prev\":39===A.keyCode&&(e=\"next\")),e&&(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey||(A.preventDefault?A.preventDefault():A.returnValue=!1,n[e]()))},VA=function(A){A&&(V||W||iA||P)&&(A.preventDefault(),A.stopPropagation())},XA=function(){n.setScrollOffset(0,i.getScrollY())},KA={},qA=0,$A=function(A){KA[A]&&(KA[A].raf&&z(KA[A].raf),qA--,delete KA[A])},Ae=function(A){KA[A]&&$A(A),KA[A]||(qA++,KA[A]={})},ee=function(){for(var A in KA)KA.hasOwnProperty(A)&&$A(A)},te=function(A,e,t,o,i,n,a){var r,s=vA();Ae(A);var l=function(){if(KA[A]){if(r=vA()-s,r>=o)return $A(A),n(t),void(a&&a());n((t-e)*i(r/o)+e),KA[A].raf=L(l)}};l()},oe={shout:EA,listen:CA,viewportSize:mA,options:s,isMainScrollAnimating:function(){return iA},getZoomLevel:function(){return w},getCurrentIndex:function(){return p},isDragging:function(){return H},isZooming:function(){return $},setScrollOffset:function(A,e){fA.x=A,_=fA.y=e,EA(\"updateScrollOffset\",fA)},applyZoomPan:function(A,e,t,o){gA.x=e,gA.y=t,w=A,QA(o)},init:function(){if(!l&&!c){var t;n.framework=i,n.template=A,n.bg=i.getChildByClass(A,\"pswp__bg\"),k=A.className,l=!0,U=i.detectFeatures(),L=U.raf,z=U.caf,j=U.transform,O=U.oldIE,n.scrollWrap=i.getChildByClass(A,\"pswp__scroll-wrap\"),n.container=i.getChildByClass(n.scrollWrap,\"pswp__container\"),d=n.container.style,n.itemHolders=b=[{el:n.container.children[0],wrap:0,index:-1},{el:n.container.children[1],wrap:0,index:-1},{el:n.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display=\"none\",JA(),f={resize:n.updateSize,scroll:XA,keydown:WA,click:VA};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),t=0;t<yA.length;t++)n[\"init\"+yA[t]]();if(e){var a=n.ui=new e(n,i);a.init()}EA(\"firstUpdate\"),p=p||s.index||0,(isNaN(p)||0>p||p>=$e())&&(p=0),n.currItem=qe(p),(U.isOldIOSPhone||U.isOldAndroid)&&(IA=!1),A.setAttribute(\"aria-hidden\",\"false\"),s.modal&&(IA?A.style.position=\"fixed\":(A.style.position=\"absolute\",A.style.top=i.getScrollY()+\"px\")),void 0===_&&(EA(\"initialLayout\"),_=Y=i.getScrollY());var u=\"pswp--open \";for(s.mainClass&&(u+=s.mainClass+\" \"),s.showHideOpacity&&(u+=\"pswp--animate_opacity \"),u+=Q?\"pswp--touch\":\"pswp--notouch\",u+=U.animationName?\" pswp--css_animation\":\"\",u+=U.svg?\" pswp--svg\":\"\",i.addClass(A,u),n.updateSize(),g=-1,hA=null,t=0;r>t;t++)zA((t+g)*wA.x,b[t].el.style);O||i.bind(n.scrollWrap,M,n),CA(\"initialZoomInEnd\",function(){n.setContent(b[0],p-1),n.setContent(b[2],p+1),b[0].el.style.display=b[2].el.style.display=\"block\",s.focus&&A.focus(),GA()}),n.setContent(b[1],p),n.updateCurrItem(),EA(\"afterInit\"),IA||(x=setInterval(function(){qA||H||$||w!==n.currItem.initialZoomLevel||n.updateSize()},1e3)),i.addClass(A,\"pswp--visible\")}},close:function(){l&&(l=!1,c=!0,EA(\"close\"),FA(),et(n.currItem,null,!0,n.destroy))},destroy:function(){EA(\"destroy\"),We&&clearTimeout(We),A.setAttribute(\"aria-hidden\",\"true\"),A.className=k,x&&clearInterval(x),i.unbind(n.scrollWrap,M,n),i.unbind(window,\"scroll\",n),be(),ee(),DA=null},panTo:function(A,e,t){t||(A>tA.min.x?A=tA.min.x:A<tA.max.x&&(A=tA.max.x),e>tA.min.y?e=tA.min.y:e<tA.max.y&&(e=tA.max.y)),gA.x=A,gA.y=e,QA()},handleEvent:function(A){A=A||window.event,f[A.type]&&f[A.type](A)},goTo:function(A){A=NA(A);var e=A-p;hA=e,p=A,n.currItem=qe(p),MA-=e,kA(wA.x*MA),ee(),iA=!1,n.updateCurrItem()},next:function(){n.goTo(p+1)},prev:function(){n.goTo(p-1)},updateCurrZoomItem:function(A){if(A&&EA(\"beforeChange\",0),b[1].el.children.length){var e=b[1].el.children[0];oA=i.hasClass(e,\"pswp__zoom-wrap\")?e.style:null}else oA=null;tA=n.currItem.bounds,h=w=n.currItem.initialZoomLevel,gA.x=tA.center.x,gA.y=tA.center.y,A&&EA(\"afterChange\")},invalidateCurrItems:function(){T=!0;for(var A=0;r>A;A++)b[A].item&&(b[A].item.needsUpdate=!0)},updateCurrItem:function(A){if(0!==hA){var e,t=Math.abs(hA);if(!(A&&2>t)){n.currItem=qe(p),TA=!1,EA(\"beforeChange\",hA),t>=r&&(g+=hA+(hA>0?-r:r),t=r);for(var o=0;t>o;o++)hA>0?(e=b.shift(),b[r-1]=e,g++,zA((g+2)*wA.x,e.el.style),n.setContent(e,p-t+o+1+1)):(e=b.pop(),b.unshift(e),g--,zA(g*wA.x,e.el.style),n.setContent(e,p+t-o-1-1));if(oA&&1===Math.abs(hA)){var i=qe(N);i.initialZoomLevel!==w&&(rt(i,mA),ut(i),LA(i))}hA=0,n.updateCurrZoomItem(),N=p,EA(\"afterChange\")}}},updateSize:function(e){if(!IA&&s.modal){var t=i.getScrollY();if(_!==t&&(A.style.top=t+\"px\",_=t),!e&&xA.x===window.innerWidth&&xA.y===window.innerHeight)return;xA.x=window.innerWidth,xA.y=window.innerHeight,A.style.height=xA.y+\"px\"}if(mA.x=n.scrollWrap.clientWidth,mA.y=n.scrollWrap.clientHeight,XA(),wA.x=mA.x+Math.round(mA.x*s.spacing),wA.y=mA.y,kA(wA.x*MA),EA(\"beforeResize\"),void 0!==g){for(var o,a,l,c=0;r>c;c++)o=b[c],zA((c+g)*wA.x,o.el.style),l=p+c-1,s.loop&&$e()>2&&(l=NA(l)),a=qe(l),a&&(T||a.needsUpdate||!a.bounds)?(n.cleanSlide(a),n.setContent(o,l),1===c&&(n.currItem=a,n.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===o.index&&l>=0&&n.setContent(o,l),a&&a.container&&(rt(a,mA),ut(a),LA(a));T=!1}h=w=n.currItem.initialZoomLevel,tA=n.currItem.bounds,tA&&(gA.x=tA.center.x,gA.y=tA.center.y,QA(!0)),EA(\"resize\")},zoomTo:function(A,e,t,o,n){e&&(h=w,he.x=Math.abs(e.x)-gA.x,he.y=Math.abs(e.y)-gA.y,OA(dA,gA));var a=RA(A,!1),r={};HA(\"x\",a,r,A),HA(\"y\",a,r,A);var s=w,l={x:gA.x,y:gA.y};_A(r);var c=function(e){1===e?(w=A,gA.x=r.x,gA.y=r.y):(w=(A-s)*e+s,gA.x=(r.x-l.x)*e+l.x,gA.y=(r.y-l.y)*e+l.y),n&&n(e),QA(1===e)};t?te(\"customZoomTo\",0,1,t,o||i.easing.sine.inOut,c):c(1)}},ie=30,ne=10,ae={},re={},se={},le={},ce={},ue=[],pe={},de=[],ge={},me=0,Me=uA(),fe=0,we=uA(),he=uA(),Ie=uA(),ye=function(A,e){return A.x===e.x&&A.y===e.y},xe=function(A,e){return Math.abs(A.x-e.x)<a&&Math.abs(A.y-e.y)<a},Te=function(A,e){return ge.x=Math.abs(A.x-e.x),ge.y=Math.abs(A.y-e.y),Math.sqrt(ge.x*ge.x+ge.y*ge.y)},be=function(){X&&(z(X),X=null)},Ne=function(){H&&(X=L(Ne),Ge())},De=function(){return!(\"fit\"===s.scaleMode&&w===n.currItem.initialZoomLevel)},Ce=function(A,e){return!(!A||A===document)&&(!(A.getAttribute(\"class\")&&A.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")>-1)&&(e(A)?A:Ce(A.parentNode,e)))},Ee={},ve=function(A,e){return Ee.prevent=!Ce(A.target,s.isClickableElement),EA(\"preventDragEvent\",A,e,Ee),Ee.prevent},je=function(A,e){return e.x=A.pageX,e.y=A.pageY,e.id=A.identifier,e},Be=function(A,e,t){t.x=.5*(A.x+e.x),t.y=.5*(A.y+e.y)},Qe=function(A,e,t){if(A-G>50){var o=de.length>2?de.shift():{};o.x=e,o.y=t,de.push(o),G=A}},Le=function(){var A=gA.y-n.currItem.initialPosition.y;return 1-Math.abs(A/(mA.y/2))},ze={},ke={},Ye=[],Oe=function(A){for(;Ye.length>0;)Ye.pop();return B?(cA=0,ue.forEach(function(A){0===cA?Ye[0]=A:1===cA&&(Ye[1]=A),cA++})):A.type.indexOf(\"touch\")>-1?A.touches&&A.touches.length>0&&(Ye[0]=je(A.touches[0],ze),A.touches.length>1&&(Ye[1]=je(A.touches[1],ke))):(ze.x=A.pageX,ze.y=A.pageY,ze.id=\"\",Ye[0]=ze),Ye},_e=function(A,e){var t,o,i,a,r=0,l=gA[A]+e[A],c=e[A]>0,u=we.x+e.x,p=we.x-pe.x;return t=l>tA.min[A]||l<tA.max[A]?s.panEndFriction:1,l=gA[A]+e[A]*t,!s.allowPanToNext&&w!==n.currItem.initialZoomLevel||(oA?\"h\"!==nA||\"x\"!==A||W||(c?(l>tA.min[A]&&(t=s.panEndFriction,r=tA.min[A]-l,o=tA.min[A]-dA[A]),(0>=o||0>p)&&$e()>1?(a=u,0>p&&u>pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l)):(l<tA.max[A]&&(t=s.panEndFriction,r=l-tA.max[A],o=dA[A]-tA.max[A]),(0>=o||p>0)&&$e()>1?(a=u,p>0&&u<pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l))):a=u,\"x\"!==A)?void(iA||K||w>n.currItem.fitRatio&&(gA[A]+=e[A]*t)):(void 0!==a&&(kA(a,!0),K=a!==pe.x),tA.min.x!==tA.max.x&&(void 0!==i?gA.x=i:K||(gA.x+=e.x*t)),void 0!==a)},Ue=function(A){if(!(\"mousedown\"===A.type&&A.button>0)){if(Ke)return void A.preventDefault();if(!Z||\"mousedown\"!==A.type){if(ve(A,!0)&&A.preventDefault(),EA(\"pointerDown\"),B){var e=i.arraySearch(ue,A.pointerId,\"id\");0>e&&(e=ue.length),ue[e]={x:A.pageX,y:A.pageY,id:A.pointerId}}var t=Oe(A),o=t.length;q=null,ee(),H&&1!==o||(H=aA=!0,i.bind(window,m,n),R=lA=rA=P=K=V=J=W=!1,nA=null,EA(\"firstTouchStart\",t),OA(dA,gA),pA.x=pA.y=0,OA(le,t[0]),OA(ce,le),pe.x=wA.x*MA,de=[{x:le.x,y:le.y}],G=S=vA(),RA(w,!0),be(),Ne()),!$&&o>1&&!iA&&!K&&(h=w,W=!1,$=J=!0,pA.y=pA.x=0,OA(dA,gA),OA(ae,t[0]),OA(re,t[1]),Be(ae,re,Ie),he.x=Math.abs(Ie.x)-gA.x,he.y=Math.abs(Ie.y)-gA.y,AA=eA=Te(ae,re))}}},Se=function(A){if(A.preventDefault(),B){var e=i.arraySearch(ue,A.pointerId,\"id\");if(e>-1){var t=ue[e];t.x=A.pageX,t.y=A.pageY}}if(H){var o=Oe(A);if(nA||V||$)q=o;else if(we.x!==wA.x*MA)nA=\"h\";else{var n=Math.abs(o[0].x-le.x)-Math.abs(o[0].y-le.y);Math.abs(n)>=ne&&(nA=n>0?\"h\":\"v\",q=o)}}},Ge=function(){if(q){var A=q.length;if(0!==A)if(OA(ae,q[0]),se.x=ae.x-le.x,se.y=ae.y-le.y,$&&A>1){if(le.x=ae.x,le.y=ae.y,!se.x&&!se.y&&ye(q[1],re))return;OA(re,q[1]),W||(W=!0,EA(\"zoomGestureStarted\"));var e=Te(ae,re),t=He(e);t>n.currItem.initialZoomLevel+n.currItem.initialZoomLevel/15&&(lA=!0);var o=1,i=PA(),a=ZA();if(i>t)if(s.pinchToClose&&!lA&&h<=n.currItem.initialZoomLevel){var r=i-t,l=1-r/(i/1.2);jA(l),EA(\"onPinchClose\",l),rA=!0}else o=(i-t)/i,o>1&&(o=1),t=i-o*(i/3);else t>a&&(o=(t-a)/(6*i),o>1&&(o=1),t=a+o*i);0>o&&(o=0),AA=e,Be(ae,re,Me),pA.x+=Me.x-Ie.x,pA.y+=Me.y-Ie.y,OA(Ie,Me),gA.x=YA(\"x\",t),gA.y=YA(\"y\",t),R=t>w,w=t,QA()}else{if(!nA)return;if(aA&&(aA=!1,Math.abs(se.x)>=ne&&(se.x-=q[0].x-ce.x),Math.abs(se.y)>=ne&&(se.y-=q[0].y-ce.y)),le.x=ae.x,le.y=ae.y,0===se.x&&0===se.y)return;if(\"v\"===nA&&s.closeOnVerticalDrag&&!De()){pA.y+=se.y,gA.y+=se.y;var c=Le();return P=!0,EA(\"onVerticalDrag\",c),jA(c),void QA()}Qe(vA(),ae.x,ae.y),V=!0,tA=n.currItem.bounds;var u=_e(\"x\",se);u||(_e(\"y\",se),_A(gA),QA())}}},Fe=function(A){if(U.isOldAndroid){if(Z&&\"mouseup\"===A.type)return;A.type.indexOf(\"touch\")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}EA(\"pointerUp\"),ve(A,!1)&&A.preventDefault();var e;if(B){var t=i.arraySearch(ue,A.pointerId,\"id\");if(t>-1)if(e=ue.splice(t,1)[0],navigator.pointerEnabled)e.type=A.pointerType||\"mouse\";else{var o={4:\"mouse\",2:\"touch\",3:\"pen\"};e.type=o[A.pointerType],e.type||(e.type=A.pointerType||\"mouse\")}}var a,r=Oe(A),l=r.length;if(\"mouseup\"===A.type&&(l=0),2===l)return q=null,!0;1===l&&OA(ce,r[0]),0!==l||nA||iA||(e||(\"mouseup\"===A.type?e={x:A.pageX,y:A.pageY,type:\"mouse\"}:A.changedTouches&&A.changedTouches[0]&&(e={x:A.changedTouches[0].pageX,y:A.changedTouches[0].pageY,type:\"touch\"})),EA(\"touchRelease\",A,e));var c=-1;if(0===l&&(H=!1,i.unbind(window,m,n),be(),$?c=0:-1!==fe&&(c=vA()-fe)),fe=1===l?vA():-1,a=-1!==c&&150>c?\"zoom\":\"swipe\",$&&2>l&&($=!1,1===l&&(a=\"zoomPointerUp\"),EA(\"zoomGestureEnded\")),q=null,V||W||iA||P)if(ee(),F||(F=Re()),F.calculateSwipeSpeed(\"x\"),P){var u=Le();if(u<s.verticalDragRange)n.close();else{var p=gA.y,d=sA;te(\"verticalDrag\",0,1,300,i.easing.cubic.out,function(A){gA.y=(n.currItem.initialPosition.y-p)*A+p,jA((1-d)*A+d),QA()}),EA(\"onVerticalDrag\",1)}}else{if((K||iA)&&0===l){var g=Ze(a,F);if(g)return;a=\"zoomPointerUp\"}if(!iA)return\"swipe\"!==a?void Je():void(!K&&w>n.currItem.fitRatio&&Pe(F))}},Re=function(){var A,e,t={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){de.length>1?(A=vA()-G+50,e=de[de.length-2][o]):(A=vA()-S,e=ce[o]),t.lastFlickOffset[o]=le[o]-e,t.lastFlickDist[o]=Math.abs(t.lastFlickOffset[o]),t.lastFlickDist[o]>20?t.lastFlickSpeed[o]=t.lastFlickOffset[o]/A:t.lastFlickSpeed[o]=0,Math.abs(t.lastFlickSpeed[o])<.1&&(t.lastFlickSpeed[o]=0),t.slowDownRatio[o]=.95,t.slowDownRatioReverse[o]=1-t.slowDownRatio[o],t.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(A,e){t.backAnimStarted[A]||(gA[A]>tA.min[A]?t.backAnimDestination[A]=tA.min[A]:gA[A]<tA.max[A]&&(t.backAnimDestination[A]=tA.max[A]),void 0!==t.backAnimDestination[A]&&(t.slowDownRatio[A]=.7,t.slowDownRatioReverse[A]=1-t.slowDownRatio[A],t.speedDecelerationRatioAbs[A]<.05&&(t.lastFlickSpeed[A]=0,t.backAnimStarted[A]=!0,te(\"bounceZoomPan\"+A,gA[A],t.backAnimDestination[A],e||300,i.easing.sine.out,function(e){gA[A]=e,QA()}))))},calculateAnimOffset:function(A){t.backAnimStarted[A]||(t.speedDecelerationRatio[A]=t.speedDecelerationRatio[A]*(t.slowDownRatio[A]+t.slowDownRatioReverse[A]-t.slowDownRatioReverse[A]*t.timeDiff/10),t.speedDecelerationRatioAbs[A]=Math.abs(t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]),t.distanceOffset[A]=t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]*t.timeDiff,gA[A]+=t.distanceOffset[A])},panAnimLoop:function(){return KA.zoomPan&&(KA.zoomPan.raf=L(t.panAnimLoop),t.now=vA(),t.timeDiff=t.now-t.lastNow,t.lastNow=t.now,t.calculateAnimOffset(\"x\"),t.calculateAnimOffset(\"y\"),QA(),t.calculateOverBoundsAnimOffset(\"x\"),t.calculateOverBoundsAnimOffset(\"y\"),t.speedDecelerationRatioAbs.x<.05&&t.speedDecelerationRatioAbs.y<.05)?(gA.x=Math.round(gA.x),gA.y=Math.round(gA.y),QA(),void $A(\"zoomPan\")):void 0}};return t},Pe=function(A){return A.calculateSwipeSpeed(\"y\"),tA=n.currItem.bounds,A.backAnimDestination={},A.backAnimStarted={},Math.abs(A.lastFlickSpeed.x)<=.05&&Math.abs(A.lastFlickSpeed.y)<=.05?(A.speedDecelerationRatioAbs.x=A.speedDecelerationRatioAbs.y=0,A.calculateOverBoundsAnimOffset(\"x\"),A.calculateOverBoundsAnimOffset(\"y\"),!0):(Ae(\"zoomPan\"),A.lastNow=vA(),void A.panAnimLoop())},Ze=function(A,e){var t;iA||(me=p);var o;if(\"swipe\"===A){var a=le.x-ce.x,r=e.lastFlickDist.x<10;a>ie&&(r||e.lastFlickOffset.x>20)?o=-1:-ie>a&&(r||e.lastFlickOffset.x<-20)&&(o=1)}var l;o&&(p+=o,0>p?(p=s.loop?$e()-1:0,l=!0):p>=$e()&&(p=s.loop?0:$e()-1,l=!0),(!l||s.loop)&&(hA+=o,MA-=o,t=!0));var c,u=wA.x*MA,d=Math.abs(u-we.x);return t||u>we.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,me===p&&(t=!1),iA=!0,EA(\"mainScrollAnimStart\"),te(\"mainScroll\",we.x,u,c,i.easing.cubic.out,kA,function(){ee(),iA=!1,me=-1,(t||me!==p)&&n.updateCurrItem(),EA(\"mainScrollAnimComplete\")}),t&&n.updateCurrItem(!0),t},He=function(A){return 1/eA*A*h},Je=function(){var A=w,e=PA(),t=ZA();e>w?A=e:w>t&&(A=t);var o,a=1,r=sA;return rA&&!R&&!lA&&e>w?(n.close(),!0):(rA&&(o=function(A){jA((a-r)*A+r)}),n.zoomTo(A,0,200,i.easing.cubic.out,o),!0)};bA(\"Gestures\",{publicMethods:{initGestures:function(){var A=function(A,e,t,o,i){D=A+e,C=A+t,E=A+o,v=i?A+i:\"\"};B=U.pointerEvent,B&&U.touch&&(U.touch=!1),B?navigator.pointerEnabled?A(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):A(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):U.touch?(A(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),Q=!0):A(\"mouse\",\"down\",\"move\",\"up\"),m=C+\" \"+E+\" \"+v,M=D,B&&!Q&&(Q=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),n.likelyTouchDevice=Q,f[D]=Ue,f[C]=Se,f[E]=Fe,v&&(f[v]=f[E]),U.touch&&(M+=\" mousedown\",m+=\" mousemove mouseup\",f.mousedown=f[D],f.mousemove=f[C],f.mouseup=f[E]),Q||(s.allowPanToNext=!1)}}});var We,Ve,Xe,Ke,qe,$e,At,et=function(e,t,o,a){We&&clearTimeout(We),Ke=!0,Xe=!0;var r;e.initialLayout?(r=e.initialLayout,e.initialLayout=null):r=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var l=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){$A(\"initialZoom\"),o?(n.template.removeAttribute(\"style\"),n.bg.removeAttribute(\"style\")):(jA(1),t&&(t.style.display=\"block\"),i.addClass(A,\"pswp--animated-in\"),EA(\"initialZoom\"+(o?\"OutEnd\":\"InEnd\"))),a&&a(),Ke=!1};if(!l||!r||void 0===r.x)return EA(\"initialZoom\"+(o?\"Out\":\"In\")),w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),A.style.opacity=o?0:1,jA(1),void(l?setTimeout(function(){c()},l):c());var d=function(){var t=u,a=!n.currItem.src||n.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility=\"hidden\"),o||(w=r.w/e.w,gA.x=r.x,gA.y=r.y-Y,n[a?\"template\":\"bg\"].style.opacity=.001,QA()),Ae(\"initialZoom\"),o&&!t&&i.removeClass(A,\"pswp--animated-in\"),a&&(o?i[(t?\"remove\":\"add\")+\"Class\"](A,\"pswp--animate_opacity\"):setTimeout(function(){i.addClass(A,\"pswp--animate_opacity\")},30)),We=setTimeout(function(){if(EA(\"initialZoom\"+(o?\"Out\":\"In\")),o){var n=r.w/e.w,s={x:gA.x,y:gA.y},u=w,p=sA,d=function(e){1===e?(w=n,gA.x=r.x,gA.y=r.y-_):(w=(n-u)*e+u,gA.x=(r.x-s.x)*e+s.x,gA.y=(r.y-_-s.y)*e+s.y),QA(),a?A.style.opacity=1-e:jA(p-e*p)};t?te(\"initialZoom\",0,1,l,i.easing.cubic.out,d,c):(d(1),We=setTimeout(c,l+20))}else w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),jA(1),a?A.style.opacity=1:jA(1),We=setTimeout(c,l+20)},o?25:90)};d()},tt={},ot=[],it={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ve.length}},nt=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},at=function(A,e,t){var o=A.bounds;o.center.x=Math.round((tt.x-e)/2),o.center.y=Math.round((tt.y-t)/2)+A.vGap.top,o.max.x=e>tt.x?Math.round(tt.x-e):o.center.x,o.max.y=t>tt.y?Math.round(tt.y-t)+A.vGap.top:o.center.y,o.min.x=e>tt.x?0:o.center.x,o.min.y=t>tt.y?A.vGap.top:o.center.y},rt=function(A,e,t){if(A.src&&!A.loadError){var o=!t;if(o&&(A.vGap||(A.vGap={top:0,bottom:0}),EA(\"parseVerticalMargin\",A)),tt.x=e.x,tt.y=e.y-A.vGap.top-A.vGap.bottom,o){var i=tt.x/A.w,n=tt.y/A.h;A.fitRatio=n>i?i:n;var a=s.scaleMode;\"orig\"===a?t=1:\"fit\"===a&&(t=A.fitRatio),t>1&&(t=1),A.initialZoomLevel=t,A.bounds||(A.bounds=nt())}if(!t)return;return at(A,A.w*t,A.h*t),o&&t===A.initialZoomLevel&&(A.initialPosition=A.bounds.center),A.bounds}return A.w=A.h=0,A.initialZoomLevel=A.fitRatio=1,A.bounds=nt(),A.initialPosition=A.bounds.center,A.bounds},st=function(A,e,t,o,i,a){e.loadError||o&&(e.imageAppended=!0,ut(e,o,e===n.currItem&&TA),t.appendChild(o),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display=\"none\",e.placeholder=null)},500))},lt=function(A){A.loading=!0,A.loaded=!1;var e=A.img=i.createEl(\"pswp__img\",\"img\"),t=function(){A.loading=!1,A.loaded=!0,A.loadComplete?A.loadComplete(A):A.img=null,e.onload=e.onerror=null,e=null};return e.onload=t,e.onerror=function(){A.loadError=!0,t()},e.src=A.src,e},ct=function(A,e){return A.src&&A.loadError&&A.container?(e&&(A.container.innerHTML=\"\"),A.container.innerHTML=s.errorMsg.replace(\"%url%\",A.src),!0):void 0},ut=function(A,e,t){if(A.src){e||(e=A.container.lastChild);var o=t?A.w:Math.round(A.w*A.fitRatio),i=t?A.h:Math.round(A.h*A.fitRatio);A.placeholder&&!A.loaded&&(A.placeholder.style.width=o+\"px\",A.placeholder.style.height=i+\"px\"),e.style.width=o+\"px\",e.style.height=i+\"px\"}},pt=function(){if(ot.length){for(var A,e=0;e<ot.length;e++)A=ot[e],A.holder.index===A.index&&st(A.index,A.item,A.baseDiv,A.img,!1,A.clearPlaceholder);ot=[]}};bA(\"Controller\",{publicMethods:{lazyLoadItem:function(A){A=NA(A);var e=qe(A);e&&(!e.loaded&&!e.loading||T)&&(EA(\"gettingData\",A,e),e.src&&lt(e))},initController:function(){i.extend(s,it,!0),n.items=Ve=t,qe=n.getItemAt,$e=s.getNumItemsFn,At=s.loop,$e()<3&&(s.loop=!1),CA(\"beforeChange\",function(A){var e,t=s.preload,o=null===A||A>=0,i=Math.min(t[0],$e()),a=Math.min(t[1],$e());for(e=1;(o?a:i)>=e;e++)n.lazyLoadItem(p+e);for(e=1;(o?i:a)>=e;e++)n.lazyLoadItem(p-e)}),CA(\"initialLayout\",function(){n.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),CA(\"mainScrollAnimComplete\",pt),CA(\"initialZoomInEnd\",pt),CA(\"destroy\",function(){for(var A,e=0;e<Ve.length;e++)A=Ve[e],A.container&&(A.container=null),A.placeholder&&(A.placeholder=null),A.img&&(A.img=null),A.preloader&&(A.preloader=null),A.loadError&&(A.loaded=A.loadError=!1);ot=null})},getItemAt:function(A){return A>=0&&void 0!==Ve[A]&&Ve[A]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!Q||s.mouseUsed||screen.width>1200},setContent:function(A,e){s.loop&&(e=NA(e));var t=n.getItemAt(A.index);t&&(t.container=null);var o,a=n.getItemAt(e);if(!a)return void(A.el.innerHTML=\"\");EA(\"gettingData\",e,a),A.index=e,A.item=a;var r=a.container=i.createEl(\"pswp__zoom-wrap\");if(!a.src&&a.html&&(a.html.tagName?r.appendChild(a.html):r.innerHTML=a.html),ct(a),rt(a,mA),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&(o=i.createEl(\"pswp__img\",\"img\"),o.style.opacity=1,o.src=a.src,ut(a,o),st(e,a,r,o,!0));else{if(a.loadComplete=function(t){if(l){if(A&&A.index===e){if(ct(t,!0))return t.loadComplete=t.img=null,rt(t,mA),LA(t),void(A.index===p&&n.updateCurrZoomItem());t.imageAppended?!Ke&&t.placeholder&&(t.placeholder.style.display=\"none\",t.placeholder=null):U.transform&&(iA||Ke)?ot.push({item:t,baseDiv:r,img:t.img,index:e,holder:A,clearPlaceholder:!0}):st(e,t,r,t.img,iA||Ke,!0)}t.loadComplete=null,t.img=null,EA(\"imageLoadComplete\",e,t)}},i.features.transform){var c=\"pswp__img pswp__img--placeholder\";c+=a.msrc?\"\":\" pswp__img--placeholder--blank\";var u=i.createEl(c,a.msrc?\"img\":\"\");a.msrc&&(u.src=a.msrc),ut(a,u),r.appendChild(u),a.placeholder=u}a.loading||lt(a),n.allowProgressiveImg()&&(!Xe&&U.transform?ot.push({item:a,baseDiv:r,img:a.img,index:e,holder:A}):st(e,a,r,a.img,!0,!0))}Xe||e!==p?LA(a):(oA=r.style,et(a,o||a.img)),A.el.innerHTML=\"\",A.el.appendChild(r)},cleanSlide:function(A){A.img&&(A.img.onload=A.img.onerror=null),A.loaded=A.loading=A.img=A.imageAppended=!1}}});var dt,gt={},mt=function(A,e,t){var o=document.createEvent(\"CustomEvent\"),i={origEvent:A,target:A.target,releasePoint:e,pointerType:t||\"touch\"};o.initCustomEvent(\"pswpTap\",!0,!0,i),A.target.dispatchEvent(o)};bA(\"Tap\",{publicMethods:{initTap:function(){CA(\"firstTouchStart\",n.onTapStart),CA(\"touchRelease\",n.onTapRelease),CA(\"destroy\",function(){gt={},dt=null})},onTapStart:function(A){A.length>1&&(clearTimeout(dt),dt=null)},onTapRelease:function(A,e){if(e&&!V&&!J&&!qA){var t=e;if(dt&&(clearTimeout(dt),dt=null,xe(t,gt)))return void EA(\"doubleTap\",t);if(\"mouse\"===e.type)return void mt(A,e,\"mouse\");var o=A.target.tagName.toUpperCase();if(\"BUTTON\"===o||i.hasClass(A.target,\"pswp__single-tap\"))return void mt(A,e);OA(gt,t),dt=setTimeout(function(){mt(A,e),dt=null},300)}}}});var Mt;bA(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){O||(Q?CA(\"mouseUsed\",function(){n.setupDesktopZoom()}):n.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Mt={};var t=\"wheel mousewheel DOMMouseScroll\";CA(\"bindEvents\",function(){i.bind(A,t,n.handleMouseWheel)}),CA(\"unbindEvents\",function(){Mt&&i.unbind(A,t,n.handleMouseWheel)}),n.mouseZoomedIn=!1;var o,a=function(){n.mouseZoomedIn&&(i.removeClass(A,\"pswp--zoomed-in\"),n.mouseZoomedIn=!1),1>w?i.addClass(A,\"pswp--zoom-allowed\"):i.removeClass(A,\"pswp--zoom-allowed\"),r()},r=function(){o&&(i.removeClass(A,\"pswp--dragging\"),o=!1)};CA(\"resize\",a),CA(\"afterChange\",a),CA(\"pointerDown\",function(){n.mouseZoomedIn&&(o=!0,i.addClass(A,\"pswp--dragging\"))}),CA(\"pointerUp\",r),e||a()},handleMouseWheel:function(A){if(w<=n.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||qA||H?A.preventDefault():j&&Math.abs(A.deltaY)>2&&(u=!0,n.close())),!0;if(A.stopPropagation(),Mt.x=0,\"deltaX\"in A)1===A.deltaMode?(Mt.x=18*A.deltaX,Mt.y=18*A.deltaY):(Mt.x=A.deltaX,Mt.y=A.deltaY);else if(\"wheelDelta\"in A)A.wheelDeltaX&&(Mt.x=-.16*A.wheelDeltaX),A.wheelDeltaY?Mt.y=-.16*A.wheelDeltaY:Mt.y=-.16*A.wheelDelta;else{if(!(\"detail\"in A))return;Mt.y=A.detail}RA(w,!0);var e=gA.x-Mt.x,t=gA.y-Mt.y;(s.modal||e<=tA.min.x&&e>=tA.max.x&&t<=tA.min.y&&t>=tA.max.y)&&A.preventDefault(),n.panTo(e,t)},toggleDesktopZoom:function(e){e=e||{x:mA.x/2+fA.x,y:mA.y/2+fA.y};var t=s.getDoubleTapZoom(!0,n.currItem),o=w===t;n.mouseZoomedIn=!o,n.zoomTo(o?n.currItem.initialZoomLevel:t,e,333),i[(o?\"remove\":\"add\")+\"Class\"](A,\"pswp--zoomed-in\")}}});var ft,wt,ht,It,yt,xt,Tt,bt,Nt,Dt,Ct,Et,vt={history:!0,galleryUID:1},jt=function(){return Ct.hash.substring(1)},Bt=function(){ft&&clearTimeout(ft),ht&&clearTimeout(ht)},Qt=function(){var A=jt(),e={};if(A.length<5)return e;var t,o=A.split(\"&\");for(t=0;t<o.length;t++)if(o[t]){var i=o[t].split(\"=\");i.length<2||(e[i[0]]=i[1])}if(s.galleryPIDs){var n=e.pid;for(e.pid=0,t=0;t<Ve.length;t++)if(Ve[t].pid===n){e.pid=t;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Lt=function(){if(ht&&clearTimeout(ht),qA||H)return void(ht=setTimeout(Lt,500));It?clearTimeout(wt):It=!0;var A=p+1,e=qe(p);e.hasOwnProperty(\"pid\")&&(A=e.pid);var t=Tt+\"&gid=\"+s.galleryUID+\"&pid=\"+A;bt||-1===Ct.hash.indexOf(t)&&(Dt=!0);var o=Ct.href.split(\"#\")[0]+\"#\"+t;Et?\"#\"+t!==window.location.hash&&history[bt?\"replaceState\":\"pushState\"](\"\",document.title,o):bt?Ct.replace(o):Ct.hash=t,bt=!0,wt=setTimeout(function(){It=!1},60)};bA(\"History\",{publicMethods:{initHistory:function(){if(i.extend(s,vt,!0),s.history){Ct=window.location,Dt=!1,Nt=!1,bt=!1,Tt=jt(),Et=\"pushState\"in history,Tt.indexOf(\"gid=\")>-1&&(Tt=Tt.split(\"&gid=\")[0],Tt=Tt.split(\"?gid=\")[0]),CA(\"afterChange\",n.updateURL),CA(\"unbindEvents\",function(){i.unbind(window,\"hashchange\",n.onHashChange)});var A=function(){xt=!0,Nt||(Dt?history.back():Tt?Ct.hash=Tt:Et?history.pushState(\"\",document.title,Ct.pathname+Ct.search):Ct.hash=\"\"),Bt()};CA(\"unbindEvents\",function(){u&&A()}),CA(\"destroy\",function(){xt||A()}),CA(\"firstUpdate\",function(){p=Qt().pid});var e=Tt.indexOf(\"pid=\");e>-1&&(Tt=Tt.substring(0,e),\"&\"===Tt.slice(-1)&&(Tt=Tt.slice(0,-1))),setTimeout(function(){l&&i.bind(window,\"hashchange\",n.onHashChange)},40)}},onHashChange:function(){return jt()===Tt?(Nt=!0,void n.close()):void(It||(yt=!0,n.goTo(Qt().pid),yt=!1))},updateURL:function(){Bt(),yt||(bt?ft=setTimeout(Lt,800):Lt())}}}),i.extend(n,oe)};return A})},function(A,e,t){function o(){a(\".photos\"),document.getElementsByClassName(\"albums\").length&&r(\"js-secret-album\")}var i=t(6),n=t(5),a=function(A){for(var e=function(A){for(var e,t,o,i,n=A.getElementsByClassName(\"thumb\"),a=n.length,r=[],s=0;s<a;s++)e=n[s],1===e.nodeType&&(t=e.children[0],o=t.getAttribute(\"data-size\").split(\"x\"),i={src:t.getAttribute(\"href\"),w:parseInt(o[0],10),h:parseInt(o[1],10)},e.children.length>1&&(i.title=e.children[2].innerHTML),\nt.children.length>0&&(i.msrc=t.children[0].getAttribute(\"src\")),i.el=e,r.push(i));return r},t=function p(A,e){return A&&(e(A)?A:p(A.parentNode,e))},o=function(A){A=A||window.event,A.preventDefault?A.preventDefault():A.returnValue=!1;var e=A.target||A.srcElement,o=t(e,function(A){return A.tagName&&\"FIGURE\"===A.tagName.toUpperCase()});if(o){for(var i,n=o.parentNode,a=o.parentNode.childNodes,s=a.length,l=0,c=0;c<s;c++)if(1===a[c].nodeType){if(a[c]===o){i=l;break}l++}return i>=0&&r(i,n),!1}},a=function(){var A=window.location.hash.substring(1),e={};if(A.length<5)return e;for(var t=A.split(\"&\"),o=0;o<t.length;o++)if(t[o]){var i=t[o].split(\"=\");i.length<2||(e[i[0]]=i[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e},r=function(A,t,o,a){var r,s,l,c=document.querySelectorAll(\".pswp\")[0];if(l=e(t),s={galleryUID:t.getAttribute(\"data-pswp-uid\"),getThumbBoundsFn:function(A){var e=l[A].el.getElementsByTagName(\"img\")[0],t=window.pageYOffset||document.documentElement.scrollTop,o=e.getBoundingClientRect();return{x:o.left,y:o.top+t,w:o.width}}},a)if(s.galleryPIDs){for(var u=0;u<l.length;u++)if(l[u].pid==A){s.index=u;break}}else s.index=parseInt(A,10)-1;else s.index=parseInt(A,10);isNaN(s.index)||(o&&(s.showAnimationDuration=0),r=new i(c,n,l,s),r.init())},s=document.querySelectorAll(A),l=0,c=s.length;l<c;l++)s[l].setAttribute(\"data-pswp-uid\",l+1),s[l].onclick=o;var u=a();u.pid&&u.gid&&r(u.pid,s[u.gid-1],!0,!0)},r=function(A){for(var e=document.getElementsByClassName(A),t=document.getElementsByClassName(\"js-dialog\")[0],o=document.getElementsByClassName(\"js-overlay\")[0],i=document.getElementsByClassName(\"js-modal-yes\")[0],n=document.getElementsByClassName(\"js-input-lock\")[0],a=document.getElementsByClassName(\"js-form\")[0],r=\"\",s=\"\",l=0,c=e.length;l<c;l++)!function(A){e[A].addEventListener(\"click\",function(A){r=this.getAttribute(\"data-href\"),s=this.getAttribute(\"data-tips\"),t.style.display=\"flex\",o.style.display=\"initial\",a.setAttribute(\"action\",r),n.setAttribute(\"placeholder\",s),n.value=\"\",n.focus()})}(l);o.addEventListener(\"click\",function(A){t.style.display=\"none\",o.style.display=\"none\",n.value=\"\"}),i.addEventListener(\"click\",function(A){t.style.display=\"none\",o.style.display=\"none\",console.log(i)}),document.onkeydown=function(A){var e=A||window.event;e&&13===e.keyCode&&\"\"!==n.value&&(window.location.href=r+\"?password=\"+n.value)}};A.exports={init:o}},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp__button{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;-webkit-transition:opacity .2s;transition:opacity .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:none;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(\"+t(12)+\") 0 0 no-repeat;background-size:264px 88px;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:1.1dppx),(min-resolution:105dpi){.pswp--svg .pswp__button,.pswp--svg .pswp__button--arrow--left:before,.pswp--svg .pswp__button--arrow--right:before{background-image:url(\"+t(21)+\")}.pswp--svg .pswp__button--arrow--left,.pswp--svg .pswp__button--arrow--right{background:none}}.pswp__button--close{background-position:0 -44px}.pswp__button--share{background-position:-44px -44px}.pswp__button--fs{display:none}.pswp--supports-fs .pswp__button--fs{display:block}.pswp--fs .pswp__button--fs{background-position:-44px 0}.pswp__button--zoom{display:none;background-position:-88px 0}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__button--zoom{background-position:-132px 0}.pswp--touch .pswp__button--arrow--left,.pswp--touch .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);-webkit-transition:-webkit-transform .25s;transition:transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip a{display:block;padding:8px 12px;font-size:14px;line-height:18px}.pswp__share-tooltip a,.pswp__share-tooltip a:hover{color:#000;text-decoration:none}.pswp__share-tooltip a:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip a:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in .pswp__share-tooltip{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch .pswp__share-tooltip a{padding:16px 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;word-break:break-all;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active .pswp__preloader__icn{background:url(\"+t(13)+\") 0 0 no-repeat}.pswp--css_animation .pswp__preloader--active{opacity:1}.pswp--css_animation .pswp__preloader--active .pswp__preloader__icn{-webkit-animation:clockwise .5s linear infinite;animation:clockwise .5s linear infinite}.pswp--css_animation .pswp__preloader--active .pswp__preloader__donut{-webkit-animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite;animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite}.pswp--css_animation .pswp__preloader__icn{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media screen and (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit .pswp__caption,.pswp__ui--fit .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle .pswp__button--arrow--left,.pswp__ui--idle .pswp__button--arrow--right,.pswp__ui--idle .pswp__top-bar{opacity:0}.pswp__ui--hidden .pswp__button--arrow--left,.pswp__ui--hidden .pswp__button--arrow--right,.pswp__ui--hidden .pswp__caption,.pswp__ui--hidden .pswp__top-bar{opacity:.001}.pswp__ui--one-slide .pswp__button--arrow--left,.pswp__ui--one-slide .pswp__button--arrow--right,.pswp__ui--one-slide .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark .pswp__top-bar{background:none}\",\"\"])},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed .pswp__img{cursor:zoom-in}.pswp--zoomed-in .pswp__img{cursor:-webkit-grab;cursor:grab}.pswp--dragging .pswp__img{cursor:-webkit-grabbing;cursor:grabbing}.pswp__bg{background:#000;opacity:0;transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__bg,.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%}.pswp__scroll-wrap{overflow:hidden}.pswp__container,.pswp__zoom-wrap{-ms-touch-action:none;touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 333ms cubic-bezier(.4,0,.22,1);transition:transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in .pswp__bg,.pswp--animated-in .pswp__zoom-wrap{-webkit-transition:none;transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{right:0;bottom:0;overflow:hidden}.pswp__img,.pswp__item{position:absolute;left:0;top:0}.pswp__img{width:auto;height:auto}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg a{color:#ccc;text-decoration:underline}\",\"\"])},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"*{margin:0;padding:0}body{position:relative;background:url(\"+t(11)+\") repeat #dde1e5;font-family:lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif}.breadcrumb,body{margin-bottom:30px}.breadcrumb{padding-left:10px;position:fixed;z-index:999;width:100%;background:rgba(27,27,27,.9);height:50px;line-height:50px;left:0;top:0;font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;text-shadow:0 1px #0a0c10}.breadcrumb,.breadcrumb a{color:#159bfd}h1,h2,h3{padding-left:10px;font-weight:300;clear:both}.album-title,.album-title-top{margin:0 0 20px;color:#383838;text-shadow:1px 1px 1px #fff}.des-title{margin:0 0 10px}.des-title,.empty-title{color:#666;text-shadow:1px 1px 1px #fff}.empty-title{margin:100px 10px;text-align:center}.empty-sub-title{text-align:center;color:#888;text-shadow:1px 1px 1px #fff}.icon-unlocked{margin-right:5px}a{color:#333;text-decoration:none}section.info{background-color:#f8f8f8}.exif-p{width:50%;float:left}.exif-p b{margin-right:10px}.layout{color:#333;padding:60px;position:relative;z-index:1}.albums,.photos{justify-content:space-between}.albums,.photos,.thumb{display:flex;flex-wrap:wrap}.thumb{text-align:center;list-style:none;float:left;width:150px;height:120px;margin:10px;padding:8px;background:#fff;position:relative;cursor:pointer;align-items:flex-end;justify-content:center}.thumb:hover{transform:scale(1.1);transition:.3s}.thumb:hover.thumb:after,.thumb:hover.thumb:before{display:none}.bg-lock{position:absolute;width:150px;height:100px;background:rgba(0,0,0,.5);display:flex;align-items:center;flex-wrap:wrap;justify-content:center;color:#fff;font-size:30px}.hide{width:150px;margin:0 10px;padding:0 8px;visibility:hidden}.thumb:before{-webkit-transform:skew(-15deg) rotate(-5deg);transform:skew(-15deg) rotate(-5deg);left:15px}.thumb:after{-webkit-transform:skew(15deg) rotate(5deg);transform:skew(15deg) rotate(5deg);right:15px}.thumb:after,.thumb:before{width:88%;height:20%;content:' ';box-shadow:0 8px 16px rgba(0,0,0,.3);position:absolute;bottom:7px;z-index:-1}.thumb figcaption{width:100%;line-height:32px;max-height:32px;overflow:hidden;font-size:14;word-wrap:break-word}.thumb img{overflow:hidden;margin:auto;height:auto;width:auto;max-width:150px;max-height:100px}.img-wrap{width:150px;height:100px;display:flex;align-items:center;justify-content:center}figure.photo{margin:10px}figure.photo img{max-width:100%}figure.photo figcaption{padding-left:10px}section.info{margin:10px;padding:10px;background-color:#f8f8f8;border-radius:5px;border:1px solid #c3c3c3}section.info h2{padding:5px 5px 10px;margin:0}section.info table{border-spacing:0}section.info table td{padding:5px}section.info table td:first-child{font-weight:700;padding-right:20px}@media screen and (max-width:600px){.layout{padding:10px}.thumb{margin:10px 0}.album-title{margin:50px 0 0;padding:0}.album-title-top,.des-title{padding:0}}@media screen and (max-width:350px){.albums,.photos{justify-content:center}}.dialog{width:280px;height:60px;margin-top:-30px;margin-left:-140px;position:fixed;background:#fff;border-radius:5px;top:50%;left:50%;font-size:14px;z-index:4000;display:flex;justify-content:center;align-items:center;display:none}.input-lock{width:122px;height:31px;padding:6px;outline:none;border:1px solid #a9a9a9;border-radius:0;color:#333;margin-right:-1px}.btn-default{display:inline-block;vertical-align:middle;cursor:pointer;font-size:14px;text-decoration:none;text-align:center;border:1px solid #188eee;background-color:#188eee;color:#fff;padding:5px 20px;line-height:18px}.btn-default:active{color:#fff}.overlay{position:fixed;height:100%;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr='#80000000',endColorstr='#80000000');background-color:rgba(0,0,0,.5);z-index:4000;display:none}.footer,.overlay{width:100%;left:0}.footer{font-size:12px;font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;text-shadow:0 1px #fff;position:absolute;opacity:.6;text-align:center;padding-top:40px;height:30px;box-sizing:border-box;bottom:0}.footer a{background:transparent;text-decoration:none;color:#08c}@font-face{font-family:icomoon;src:url(\"+t(3)+\");src:url(\"+t(3)+\"#iefix) format('embedded-opentype'),url(\"+t(19)+\") format('truetype'),url(\"+t(20)+\") format('woff'),url(\"+t(18)+'#icomoon) format(\\'svg\\');font-weight:400;font-style:normal}[class*=\" icon-\"],[class^=icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-image:before{content:\"\\\\E90D\"}.icon-camera:before{content:\"\\\\E90F\"}.icon-film:before{content:\"\\\\E913\"}.icon-clock:before{content:\"\\\\E94E\"}.icon-hour-glass:before{content:\"\\\\E979\"}.icon-key:before{content:\"\\\\E98D\"}.icon-key2:before{content:\"\\\\E98E\"}.icon-lock:before{content:\"\\\\E98F\"}.icon-unlocked:before{content:\"\\\\E990\"}.icon-star-empty:before{content:\"\\\\E9D7\"}.icon-heart:before{content:\"\\\\E9DA\"}.icon-share2:before{content:\"\\\\EA82\"}',\"\"])},function(A,e,t){A.exports=t.p+\"img/bg.png\"},function(A,e,t){A.exports=t.p+\"img/default-skin.png\"},function(A,e,t){A.exports=t.p+\"img/preloader.gif\"},function(A,e){(function(e){function t(A,t,o){var i={container:e.document.body,offset:0};void 0!==t&&\"function\"!=typeof t||(o=t,t={});for(var a=i.container=t.container||i.container,r=i.offset=t.offset||i.offset,l=0;l<s.length;l++)if(s[l].container===a)return s[l].isInViewport(A,r,o);return s[s.push(n(a))-1].isInViewport(A,r,o)}function o(A,e,t){A.attachEvent?A.attachEvent(\"on\"+e,t):A.addEventListener(e,t,!1)}function i(A,e,t){var o;return function(){function i(){o=null,t||A.apply(n,a)}var n=this,a=arguments,r=t&&!o;clearTimeout(o),o=setTimeout(i,e),r&&A.apply(n,a)}}function n(A){function t(A,e,t){if(!t)return u(A,e);var o=n(A,e,t);return o.watch(),o}function n(A,e,t){function o(){p.add(A,e,t)}function i(){p.remove(A)}return{watch:o,dispose:i}}function s(A,e,t){u(A,e)&&(p.remove(A),t(A))}function u(t,o){if(!c(e.document.documentElement,t)||!c(e.document.documentElement,A))return!1;if(!t.offsetWidth||!t.offsetHeight)return!1;var i=t.getBoundingClientRect(),n={};if(A===e.document.body)n={top:-o,left:-o,right:e.document.documentElement.clientWidth+o,bottom:e.document.documentElement.clientHeight+o};else{var a=A.getBoundingClientRect();n={top:a.top-o,left:a.left-o,right:a.right+o,bottom:a.bottom+o}}var r=i.right>=n.left&&i.left<=n.right&&i.bottom>=n.top&&i.top<=n.bottom;return r}var p=a(),d=A===e.document.body?e:A,g=i(p.checkAll(s),15);return o(d,\"scroll\",g),d===e&&o(e,\"resize\",g),l&&r(p,A,g),setInterval(g,150),{container:A,isInViewport:t}}function a(){function A(A,e,t){o(A)||n.push([A,e,t])}function e(A){var e=t(A);e!==-1&&n.splice(e,1)}function t(A){for(var e=n.length-1;e>=0;e--)if(n[e][0]===A)return e;return-1}function o(A){return t(A)!==-1}function i(A){return function(){for(var e=n.length-1;e>=0;e--)A.apply(this,n[e])}}var n=[];return{add:A,remove:e,isWatched:o,checkAll:i}}function r(A,e,t){function o(A){A.some(i)===!0&&setTimeout(t,0)}function i(e){var t=r.call([],Array.prototype.slice.call(e.addedNodes),e.target);return a.call(t,A.isWatched).length>0}var n=new MutationObserver(o),a=Array.prototype.filter,r=Array.prototype.concat;n.observe(e,{childList:!0,subtree:!0,attributes:!0})}A.exports=t;var s=[],l=\"function\"==typeof e.MutationObserver,c=e.document.documentElement.compareDocumentPosition?function(A,e){return!!(16&A.compareDocumentPosition(e))}:e.document.documentElement.contains?function(A,e){return A!==e&&!!A.contains&&A.contains(e)}:function(A,e){for(;e=e.parentNode;)if(e===A)return!0;return!1}}).call(e,function(){return this}())},function(A,e,t){var o=t(8);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(9);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(10);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e){A.exports=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+R2VuZXJhdGVkIGJ5IEljb01vb248L21ldGFkYXRhPgo8ZGVmcz4KPGZvbnQgaWQ9Imljb21vb24iIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTBkOyIgZ2x5cGgtbmFtZT0iaW1hZ2UiIGQ9Ik05NTkuODg0IDgzMmMwLjA0MC0wLjAzNCAwLjA4Mi0wLjA3NiAwLjExNi0wLjExNnYtNzY3Ljc3Yy0wLjAzNC0wLjA0MC0wLjA3Ni0wLjA4Mi0wLjExNi0wLjExNmgtODk1Ljc3Yy0wLjA0MCAwLjAzNC0wLjA4MiAwLjA3Ni0wLjExNCAwLjExNnY3NjcuNzcyYzAuMDM0IDAuMDQwIDAuMDc2IDAuMDgyIDAuMTE0IDAuMTE0aDg5NS43N3pNOTYwIDg5NmgtODk2Yy0zNS4yIDAtNjQtMjguOC02NC02NHYtNzY4YzAtMzUuMiAyOC44LTY0IDY0LTY0aDg5NmMzNS4yIDAgNjQgMjguOCA2NCA2NHY3NjhjMCAzNS4yLTI4LjggNjQtNjQgNjR2MHpNODMyIDY3MmMwLTUzLjAyMC00Mi45OC05Ni05Ni05NnMtOTYgNDIuOTgtOTYgOTYgNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTZ6TTg5NiAxMjhoLTc2OHYxMjhsMjI0IDM4NCAyNTYtMzIwaDY0bDIyNCAxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTkwZjsiIGdseXBoLW5hbWU9ImNhbWVyYSIgZD0iTTMwNCAzNTJjMC0xMTQuODc2IDkzLjEyNC0yMDggMjA4LTIwOHMyMDggOTMuMTI0IDIwOCAyMDgtOTMuMTI0IDIwOC0yMDggMjA4LTIwOC05My4xMjQtMjA4LTIwOHpNOTYwIDcwNGgtMjI0Yy0xNiA2NC0zMiAxMjgtOTYgMTI4aC0yNTZjLTY0IDAtODAtNjQtOTYtMTI4aC0yMjRjLTM1LjIgMC02NC0yOC44LTY0LTY0di01NzZjMC0zNS4yIDI4LjgtNjQgNjQtNjRoODk2YzM1LjIgMCA2NCAyOC44IDY0IDY0djU3NmMwIDM1LjItMjguOCA2NC02NCA2NHpNNTEyIDY4Yy0xNTYuODUgMC0yODQgMTI3LjE0OC0yODQgMjg0IDAgMTU2Ljg1IDEyNy4xNSAyODQgMjg0IDI4NCAxNTYuODUyIDAgMjg0LTEyNy4xNSAyODQtMjg0IDAtMTU2Ljg1Mi0xMjcuMTQ2LTI4NC0yODQtMjg0ek05NjAgNTEyaC0xMjh2NjRoMTI4di02NHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTEzOyIgZ2x5cGgtbmFtZT0iZmlsbSIgZD0iTTAgODMydi03NjhoMTAyNHY3NjhoLTEwMjR6TTE5MiAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTc2OCAxMjhoLTUxMnY2NDBoNTEydi02NDB6TTk2MCAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTM4NCA2NDB2LTM4NGwyNTYgMTkyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NGU7IiBnbHlwaC1uYW1lPSJjbG9jayIgZD0iTTY1OC43NDQgMjEwLjc0NGwtMjEwLjc0NCAyMTAuNzQ2djI4Mi41MWgxMjh2LTIyOS40OWwxNzMuMjU2LTE3My4yNTR6TTUxMiA5NjBjLTI4Mi43NyAwLTUxMi0yMjkuMjMtNTEyLTUxMnMyMjkuMjMtNTEyIDUxMi01MTIgNTEyIDIyOS4yMyA1MTIgNTEyLTIyOS4yMyA1MTItNTEyIDUxMnpNNTEyIDY0Yy0yMTIuMDc4IDAtMzg0IDE3MS45MjItMzg0IDM4NHMxNzEuOTIyIDM4NCAzODQgMzg0YzIxMi4wNzggMCAzODQtMTcxLjkyMiAzODQtMzg0cy0xNzEuOTIyLTM4NC0zODQtMzg0eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5Nzk7IiBnbHlwaC1uYW1lPSJob3VyLWdsYXNzIiBkPSJNNzI4Ljk5MiA0NDhjMTM3Ljc1NCA4Ny4zMzQgMjMxLjAwOCAyNTUuMjA4IDIzMS4wMDggNDQ4IDAgMjEuNjc2LTEuMTkyIDQzLjAzNC0zLjQ3OCA2NGgtODg5LjA0MmMtMi4yOS0yMC45NjgtMy40OC00Mi4zMjYtMy40OC02NCAwLTE5Mi43OTIgOTMuMjU0LTM2MC42NjYgMjMxLjAwNi00NDgtMTM3Ljc1Mi04Ny4zMzQtMjMxLjAwNi0yNTUuMjA4LTIzMS4wMDYtNDQ4IDAtMjEuNjc2IDEuMTktNDMuMDM0IDMuNDc4LTY0aDg4OS4wNDJjMi4yODggMjAuOTY2IDMuNDc4IDQyLjMyNCAzLjQ3OCA2NCAwLjAwMiAxOTIuNzkyLTkzLjI1MiAzNjAuNjY2LTIzMS4wMDYgNDQ4ek0xNjAgMGMwIDE4Ni45MTIgODAuMTYyIDM0NS40MTQgMjI0IDM5Ny43MDh2MTAwLjU4NmMtMTQzLjgzOCA1Mi4yOS0yMjQgMjEwLjc5Mi0yMjQgMzk3LjcwNnYwaDcwNGMwLTE4Ni45MTQtODAuMTYyLTM0NS40MTYtMjI0LTM5Ny43MDZ2LTEwMC41ODZjMTQzLjgzOC01Mi4yOTQgMjI0LTIxMC43OTYgMjI0LTM5Ny43MDhoLTcwNHpNNjE5LjYyNiAyOTAuNDA2Yy03MS42NTQgNDAuNjQ0LTc1LjYwOCA5My4zNjgtNzUuNjI2IDEyNS4zNjZ2NjQuMjI4YzAgMzEuOTk0IDMuODA0IDg0LjkxNCA3NS43NDQgMTI1LjY2NCAzOC41MDQgMjIuMzY0IDcxLjgwOCA1Ni4zNDggOTcuMDQ4IDk4LjMzNmgtNDA5LjU4MmMyNS4yNjYtNDIuMDMyIDU4LjYxMi03Ni4wNDIgOTcuMTY2LTk4LjQwNiA3MS42NTQtNDAuNjQ0IDc1LjYwNi05My4zNjYgNzUuNjI2LTEyNS4zNjZ2LTY0LjIyOGMwLTMxLjk5Mi0zLjgwNC04NC45MTQtNzUuNzQ0LTEyNS42NjQtNzIuNjIyLTQyLjE4LTEyNi43MzgtMTI1LjY4NC0xNDMuMDkwLTIyNi4zMzZoNTAxLjY3Yy0xNi4zNjQgMTAwLjcwOC03MC41MyAxODQuMjQ4LTE0My4yMTIgMjI2LjQwNnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOThkOyIgZ2x5cGgtbmFtZT0ia2V5IiBkPSJNNzA0IDk2MGMtMTc2LjczIDAtMzIwLTE0My4yNjgtMzIwLTMyMCAwLTIwLjAyNiAxLjg1OC0zOS42MTYgNS4zNzYtNTguNjI0bC0zODkuMzc2LTM4OS4zNzZ2LTE5MmMwLTM1LjM0NiAyOC42NTQtNjQgNjQtNjRoNjR2NjRoMTI4djEyOGgxMjh2MTI4aDEyOGw4My4wNDIgODMuMDQyYzM0LjAxMC0xMi4zMTYgNzAuNjk2LTE5LjA0MiAxMDguOTU4LTE5LjA0MiAxNzYuNzMgMCAzMjAgMTQzLjI2OCAzMjAgMzIwcy0xNDMuMjcgMzIwLTMyMCAzMjB6TTc5OS44NzQgNjM5Ljg3NGMtNTMuMDIwIDAtOTYgNDIuOTgtOTYgOTZzNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTYtNDIuOTgtOTYtOTYtOTZ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZTsiIGdseXBoLW5hbWU9ImtleTIiIGQ9Ik0xMDAyLjEzMiA2NDUuNzU4bC0xMDEuMTA2IDEwMS4xMDRjLTI0Ljc5MiAyNC43OTQtNjUuMzcgNjUuMzY4LTkwLjE2MiA5MC4xNjRsLTEwMS4xMDYgMTAxLjEwNGMtMjQuNzkyIDI0Ljc5NC02OC45NTQgMjkuMTY2LTk4LjEzIDkuNzE2bC0yNzYuNDM4LTE4NC4yOTJjLTI5LjE3Ni0xOS40NTItNDAuMjE4LTYxLjAyOC0yNC41MzYtOTIuMzlsNzAuNDg2LTE0MC45NzRjMi4xNTQtNC4zMDYgNC42NDYtOC44OTYgNy4zOS0xMy42NmwtMzU2LjUzLTM1Ni41My0zMi0yMjRoMTkydjY0aDEyOHYxMjhoMTI4djEyOGgxMjh2NzEuMTg2YzYuMzk2LTMuODEyIDEyLjUzNC03LjIxNiAxOC4xOTItMTAuMDQ0bDE0MC45Ny03MC40ODhjMzEuMzY2LTE1LjY4MiA3Mi45NC00LjYzOCA5Mi4zOSAyNC41MzhsMTg0LjI5NCAyNzYuNDRjMTkuNDU0IDI5LjE3MiAxNS4wNzggNzMuMzMtOS43MTQgOTguMTI2ek0xNTAuNjI4IDEwNS4zNzRsLTQ1LjI1NCA0NS4yNTQgMzExLjU3MiAzMTEuNTcgNDUuMjU0LTQ1LjI1NC0zMTEuNTcyLTMxMS41N3pNOTE3LjAyMCA1MzYuMjM2bC00NS4yNTYtNDUuMjU2Yy0xMi40NDYtMTIuNDQ0LTMyLjgwOC0xMi40NDQtNDUuMjU0IDBsLTI3MS41MyAyNzEuNTNjLTEyLjQ0NiAxMi40NDQtMTIuNDQ2IDMyLjgxIDAgNDUuMjU0bDQ1LjI1NiA0NS4yNTZjMTIuNDQ2IDEyLjQ0NCAzMi44MDggMTIuNDQ0IDQ1LjI1NCAwbDI3MS41My0yNzEuNTNjMTIuNDQ2LTEyLjQ0NCAxMi40NDYtMzIuODEgMC00NS4yNTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZjsiIGdseXBoLW5hbWU9ImxvY2siIGQ9Ik01OTIgNTEyaC0xNnYxOTJjMCAxMDUuODctODYuMTMgMTkyLTE5MiAxOTJoLTEyOGMtMTA1Ljg3IDAtMTkyLTg2LjEzLTE5Mi0xOTJ2LTE5MmgtMTZjLTI2LjQgMC00OC0yMS42LTQ4LTQ4di00ODBjMC0yNi40IDIxLjYtNDggNDgtNDhoNTQ0YzI2LjQgMCA0OCAyMS42IDQ4IDQ4djQ4MGMwIDI2LjQtMjEuNiA0OC00OCA0OHpNMTkyIDcwNGMwIDM1LjI5IDI4LjcxIDY0IDY0IDY0aDEyOGMzNS4yOSAwIDY0LTI4LjcxIDY0LTY0di0xOTJoLTI1NnYxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk5MDsiIGdseXBoLW5hbWU9InVubG9ja2VkIiBkPSJNNzY4IDg5NmMxMDUuODcgMCAxOTItODYuMTMgMTkyLTE5MnYtMTkyaC0xMjh2MTkyYzAgMzUuMjktMjguNzEgNjQtNjQgNjRoLTEyOGMtMzUuMjkgMC02NC0yOC43MS02NC02NHYtMTkyaDE2YzI2LjQgMCA0OC0yMS42IDQ4LTQ4di00ODBjMC0yNi40LTIxLjYtNDgtNDgtNDhoLTU0NGMtMjYuNCAwLTQ4IDIxLjYtNDggNDh2NDgwYzAgMjYuNCAyMS42IDQ4IDQ4IDQ4aDQwMHYxOTJjMCAxMDUuODcgODYuMTMgMTkyIDE5MiAxOTJoMTI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZDc7IiBnbHlwaC1uYW1lPSJzdGFyLWVtcHR5IiBkPSJNMTAyNCA1NjIuOTVsLTM1My43OCA1MS40MDgtMTU4LjIyIDMyMC41ODItMTU4LjIxNi0zMjAuNTgyLTM1My43ODQtNTEuNDA4IDI1Ni0yNDkuNTM4LTYwLjQzMi0zNTIuMzUyIDMxNi40MzIgMTY2LjM1OCAzMTYuNDMyLTE2Ni4zNTgtNjAuNDM0IDM1Mi4zNTIgMjU2LjAwMiAyNDkuNTM4ek01MTIgMjA2LjUwMmwtMjIzLjQ2Mi0xMTcuNDggNDIuNjc2IDI0OC44My0xODAuNzg2IDE3Ni4yMjIgMjQ5Ljg0IDM2LjMwNCAxMTEuNzMyIDIyNi4zOTYgMTExLjczNi0yMjYuMzk2IDI0OS44MzYtMzYuMzA0LTE4MC43ODgtMTc2LjIyMiA0Mi42NzgtMjQ4LjgzLTIyMy40NjIgMTE3LjQ4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZGE7IiBnbHlwaC1uYW1lPSJoZWFydCIgZD0iTTc1NS4xODggODk2Yy0xMDcuNjMgMC0yMDAuMjU4LTg3LjU1NC0yNDMuMTY0LTE3OS00Mi45MzggOTEuNDQ0LTEzNS41NzggMTc5LTI0My4yMTYgMTc5LTE0OC4zODIgMC0yNjguODA4LTEyMC40NC0yNjguODA4LTI2OC44MzIgMC0zMDEuODQ2IDMwNC41LTM4MC45OTQgNTEyLjAyMi02NzkuNDE4IDE5Ni4xNTQgMjk2LjU3NiA1MTEuOTc4IDM4Ny4yMDYgNTExLjk3OCA2NzkuNDE4IDAgMTQ4LjM5Mi0xMjAuNDMgMjY4LjgzMi0yNjguODEyIDI2OC44MzJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWE4MjsiIGdseXBoLW5hbWU9InNoYXJlMiIgZD0iTTg2NCAyNTZjLTQ1LjE2IDAtODUuOTItMTguNzM4LTExNS4wMTItNDguODNsLTQzMS4wMDQgMjE1LjUwMmMxLjMxNCA4LjI1MiAyLjAxNiAxNi43MDYgMi4wMTYgMjUuMzI4cy0wLjcwMiAxNy4wNzYtMi4wMTYgMjUuMzI2bDQzMS4wMDQgMjE1LjUwMmMyOS4wOTItMzAuMDkwIDY5Ljg1Mi00OC44MjggMTE1LjAxMi00OC44MjggODguMzY2IDAgMTYwIDcxLjYzNCAxNjAgMTYwcy03MS42MzQgMTYwLTE2MCAxNjAtMTYwLTcxLjYzNC0xNjAtMTYwYzAtOC42MjIgMC43MDQtMTcuMDc2IDIuMDE2LTI1LjMyNmwtNDMxLjAwNC0yMTUuNTA0Yy0yOS4wOTIgMzAuMDkwLTY5Ljg1MiA0OC44My0xMTUuMDEyIDQ4LjgzLTg4LjM2NiAwLTE2MC03MS42MzYtMTYwLTE2MCAwLTg4LjM2OCA3MS42MzQtMTYwIDE2MC0xNjAgNDUuMTYgMCA4NS45MiAxOC43MzggMTE1LjAxMiA0OC44MjhsNDMxLjAwNC0yMTUuNTAyYy0xLjMxMi04LjI1LTIuMDE2LTE2LjcwNC0yLjAxNi0yNS4zMjYgMC04OC4zNjggNzEuNjM0LTE2MCAxNjAtMTYwczE2MCA3MS42MzIgMTYwIDE2MGMwIDg4LjM2NC03MS42MzQgMTYwLTE2MCAxNjB6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==\"},function(A,e){A.exports=\"data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SB4UAAAC8AAAAYGNtYXC8MXsbAAABHAAAAJRnYXNwAAAAEAAAAbAAAAAIZ2x5ZozOXvoAAAG4AAAHDGhlYWQLPDiPAAAIxAAAADZoaGVhB8ID0QAACPwAAAAkaG10eDYAAEAAAAkgAAAAQGxvY2ENfAvMAAAJYAAAACJtYXhwABoAWgAACYQAAAAgbmFtZZlKCfsAAAmkAAABhnBvc3QAAwAAAAALLAAAACAAAwPZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADqggPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAeAAAABoAEAADAAoAAQAg6Q3pD+kT6U7peemQ6dfp2uqC//3//wAAAAAAIOkN6Q/pE+lO6XnpjenX6drqgv/9//8AAf/jFvcW9hbzFrkWjxZ8FjYWNBWNAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAABAAAAAAEAANAABMAKwA/AEMAAAEUHgIzMj4CNTQuAiMiDgIBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIi4CNTQ+AjMyHgIVFA4CASM1MwEwIThMKytMOCEhOEwrK0w4IQKQ4AwkMP8AMCQM4BomJhoDgBomJv4mO2dNLS1NZzs7Z00tLU1nAYWAgAFgK0w4ISE4TCsrTDghIThMATUwUFAwJhr9wBomJhoCQBom/YQtTWc7O2dNLS1NZzs7Z00tAbxAAAkAAABABAADQAADAAcACwAPABMAFwAbAB8AIgAAExEhEQEjNTM1IzUzNSM1MwEhESETIzUzNSM1MzUjNTMFESUABAD8wICAgICAgAJA/gACAMCAgICAgID9wAEAA0D9AAMA/UCAgICAgP2AAoD9gICAgICAgP6AwAAAAAADAAD/wAQAA8AABQAZAC0AACUnETMVFwMiDgIVFB4CMzI+AjU0LgIDIi4CNTQ+AjMyHgIVFA4CApPTgK3taruLUFCLu2pqu4tQUIu7alCLaTw8aYtQUItpPDxpi9PSARvlrgKTUIu7amq7i1BQi7tqaruLUPyAPGmLUFCLaTw8aYtQUItpPAAAAwBA/8ADwAPAACIAOwBXAAABPgM1NCYnIQ4BFRQeAhcOAxUUFhchPgE1NC4CJwE0PgI3NS4DNTEhFA4CBxUeAxUDLgE9ATQ2Nz4BNyEeARceAR0BFAYHDgEHIS4BAtk0VT0hAgH8hgECIT1VNDRVPSECAQN6AQIhPVU0/cceOVM2NlM5HgLAHjlTNjZTOR70NhYWNh0xE/5mEzEdNhYWNjZNDAH2DE0BwCFec4ZIECAQECAQSIZzXiEhXnOGSBAgEBAgEEiGc14h/kBGf2hNFGQUTWh/RkZ/aE0UZBRNaH9GASIfRxhAGEcfEDMfIDIQH0cYQBhHHx94S0x3AAAAAAIAAP/ABAADwAAhAC0AAAEiDgIVFBYXARUUFjsBNTM1MzUzNx4BMzI+AjU0LgITIiY1NDYzMhYVFAYCwEJ1VzIDAv57JRtAgICAUxo2HUJ1VzIyV3UeKDg4KCg4OAPAMld1Qg8dD/57wBslQICAUwkKMld1QkJ1VzL+wDgoKDg4KCg4AAMAAP/AA/QDtAAkACkAOQAAAScuAS8BLgEHBQ4BHwEeARcBBzM1MzUzNTM1HgEfARY2NxM2JgEnARcBAQcGIicBJjQ/ATYyFwEWFAPqZRM1EmUTORb+6xYODEYCAwP+myDAgICABQkEjRg2D7gOBfyaLgE4Lf7JAv4tChoJ/vAJCS0KGgkBEAkChmUSNRNlEwUOuA82GI0DBwP+m+BAgIBHAwUCRgwOFgEVFjn99i4BNy3+yAGvLQkJARAJGgotCQn+8AkaAAAAAgAA/8ACgAOAABkAIwAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYlNDY7ATIWHQEhAlAQcU+AT3EQFBwcFAIgFBwc/lwmGoAaJv8AAgDAT3FxT8AcFP4gFBwcFAHgFBzAGiYmGsAAAAAAAQAA/8ADwAOAACMAAAEyFh0BIzU0JisBIgYdATMyFhURFAYjISImNRE0NjMhNTQ2MwMAT3GAJhqAGiYQFBwcFP3gFBwcFAGQcU8DgHFPwMAaJiYawBwU/iAUHBwUAeAUHMBPcQAAAAACAAD/2QQAA6cACgAUAAABJQsBDQEDJQUDJQEHNyc/AR8BBxcEAP6enp7+ngEAPAE8ATw8AQD+AN8qtfpwcPq1KgIzMwFB/r8z+v6gpqYBYPr+nHb5sCTj4ySw+QAAAAABAAD/zAQAA4AAHQAAASIOAgcuAyMiDgIVFB4CFz4DNTQuAgLzKEo/MhAQMj9KKDhiSSpmmbNOSrKbaSpJYgOAHjJBIiJBMh4qSWI4cZ2Om3BvnpCdbThiSSoAAAEAAP/ABAADwAAzAAABIgYHJT4BNTQmJyUeATMyNjU0JiMiBhUUFhcFLgEjIgYVFBYzMjY3BQ4BFRQWMzI2NTQmA2AiOxb+UQEBAQEBrxY7IkJeXkJCXgEB/lEWOyJCXl5CIjsWAa8BAV5CQl5eAQAaF9gGDQYGDQbYFxpeQkJeXkIGDQbYFxpeQkJeGhfYBg0GQl5eQkJeAAAAAAEAAAAAAACuT353Xw889QALBAAAAAAA1A76CQAAAADUDvoJAAD/wAQAA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAACAAAABAAAAAQAAAAEAAAABAAAAAQAAEAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAAKABQAHgBmAMgBBgFKAcoCDAJwAqYC2gMKAzgDhgAAAAEAAAAQAFgACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n},function(A,e){A.exports=\"data:application/font-woff;base64,d09GRgABAAAAAAuYAAsAAAAAC0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIHhWNtYXAAAAFoAAAAlAAAAJS8MXsbZ2FzcAAAAfwAAAAIAAAACAAAABBnbHlmAAACBAAABwwAAAcMjM5e+mhlYWQAAAkQAAAANgAAADYLPDiPaGhlYQAACUgAAAAkAAAAJAfCA9FobXR4AAAJbAAAAEAAAABANgAAQGxvY2EAAAmsAAAAIgAAACINfAvMbWF4cAAACdAAAAAgAAAAIAAaAFpuYW1lAAAJ8AAAAYYAAAGGmUoJ+3Bvc3QAAAt4AAAAIAAAACAAAwAAAAMD2QGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6oIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAHgAAAAaABAAAwAKAAEAIOkN6Q/pE+lO6XnpkOnX6drqgv/9//8AAAAAACDpDekP6RPpTul56Y3p1+na6oL//f//AAH/4xb3FvYW8xa5Fo8WfBY2FjQVjQADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAQAAAAABAADQAATACsAPwBDAAABFB4CMzI+AjU0LgIjIg4CASMuASMhIgYHIyIGFREUFjMhMjY1ETQmASIuAjU0PgIzMh4CFRQOAgEjNTMBMCE4TCsrTDghIThMKytMOCECkOAMJDD/ADAkDOAaJiYaA4AaJib+JjtnTS0tTWc7O2dNLS1NZwGFgIABYCtMOCEhOEwrK0w4ISE4TAE1MFBQMCYa/cAaJiYaAkAaJv2ELU1nOztnTS0tTWc7O2dNLQG8QAAJAAAAQAQAA0AAAwAHAAsADwATABcAGwAfACIAABMRIREBIzUzNSM1MzUjNTMBIREhEyM1MzUjNTM1IzUzBRElAAQA/MCAgICAgIACQP4AAgDAgICAgICA/cABAANA/QADAP1AgICAgID9gAKA/YCAgICAgID+gMAAAAAAAwAA/8AEAAPAAAUAGQAtAAAlJxEzFRcDIg4CFRQeAjMyPgI1NC4CAyIuAjU0PgIzMh4CFRQOAgKT04Ct7Wq7i1BQi7tqaruLUFCLu2pQi2k8PGmLUFCLaTw8aYvT0gEb5a4Ck1CLu2pqu4tQUIu7amq7i1D8gDxpi1BQi2k8PGmLUFCLaTwAAAMAQP/AA8ADwAAiADsAVwAAAT4DNTQmJyEOARUUHgIXDgMVFBYXIT4BNTQuAicBND4CNzUuAzUxIRQOAgcVHgMVAy4BPQE0Njc+ATchHgEXHgEdARQGBw4BByEuAQLZNFU9IQIB/IYBAiE9VTQ0VT0hAgEDegECIT1VNP3HHjlTNjZTOR4CwB45UzY2Uzke9DYWFjYdMRP+ZhMxHTYWFjY2TQwB9gxNAcAhXnOGSBAgEBAgEEiGc14hIV5zhkgQIBAQIBBIhnNeIf5ARn9oTRRkFE1of0ZGf2hNFGQUTWh/RgEiH0cYQBhHHxAzHyAyEB9HGEAYRx8feEtMdwAAAAACAAD/wAQAA8AAIQAtAAABIg4CFRQWFwEVFBY7ATUzNTM1MzceATMyPgI1NC4CEyImNTQ2MzIWFRQGAsBCdVcyAwL+eyUbQICAgFMaNh1CdVcyMld1Hig4OCgoODgDwDJXdUIPHQ/+e8AbJUCAgFMJCjJXdUJCdVcy/sA4KCg4OCgoOAADAAD/wAP0A7QAJAApADkAAAEnLgEvAS4BBwUOAR8BHgEXAQczNTM1MzUzNR4BHwEWNjcTNiYBJwEXAQEHBiInASY0PwE2MhcBFhQD6mUTNRJlEzkW/usWDgxGAgMD/psgwICAgAUJBI0YNg+4DgX8mi4BOC3+yQL+LQoaCf7wCQktChoJARAJAoZlEjUTZRMFDrgPNhiNAwcD/pvgQICARwMFAkYMDhYBFRY5/fYuATct/sgBry0JCQEQCRoKLQkJ/vAJGgAAAAIAAP/AAoADgAAZACMAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmJTQ2OwEyFh0BIQJQEHFPgE9xEBQcHBQCIBQcHP5cJhqAGib/AAIAwE9xcU/AHBT+IBQcHBQB4BQcwBomJhrAAAAAAAEAAP/AA8ADgAAjAAABMhYdASM1NCYrASIGHQEzMhYVERQGIyEiJjURNDYzITU0NjMDAE9xgCYagBomEBQcHBT94BQcHBQBkHFPA4BxT8DAGiYmGsAcFP4gFBwcFAHgFBzAT3EAAAAAAgAA/9kEAAOnAAoAFAAAASULAQ0BAyUFAyUBBzcnPwEfAQcXBAD+np6e/p4BADwBPAE8PAEA/gDfKrX6cHD6tSoCMzMBQf6/M/r+oKamAWD6/px2+bAk4+MksPkAAAAAAQAA/8wEAAOAAB0AAAEiDgIHLgMjIg4CFRQeAhc+AzU0LgIC8yhKPzIQEDI/Sig4YkkqZpmzTkqym2kqSWIDgB4yQSIiQTIeKkliOHGdjptwb56QnW04YkkqAAABAAD/wAQAA8AAMwAAASIGByU+ATU0JiclHgEzMjY1NCYjIgYVFBYXBS4BIyIGFRQWMzI2NwUOARUUFjMyNjU0JgNgIjsW/lEBAQEBAa8WOyJCXl5CQl4BAf5RFjsiQl5eQiI7FgGvAQFeQkJeXgEAGhfYBg0GBg0G2BcaXkJCXl5CBg0G2BcaXkJCXhoX2AYNBkJeXkJCXgAAAAABAAAAAAAArk9+d18PPPUACwQAAAAAANQO+gkAAAAA1A76CQAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAACgAUAB4AZgDIAQYBSgHKAgwCcAKmAtoDCgM4A4YAAAABAAAAEABYAAkAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"},function(A,e){A.exports=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjY0IiBoZWlnaHQ9Ijg4IiB2aWV3Qm94PSIwIDAgMjY0IDg4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0aXRsZT5kZWZhdWx0LXNraW4gMjwvdGl0bGU+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Zz48cGF0aCBkPSJNNjcuMDAyIDU5LjV2My43NjhjLTYuMzA3Ljg0LTkuMTg0IDUuNzUtMTAuMDAyIDkuNzMyIDIuMjItMi44MyA1LjU2NC01LjA5OCAxMC4wMDItNS4wOThWNzEuNUw3MyA2NS41ODUgNjcuMDAyIDU5LjV6IiBpZD0iU2hhcGUiIGZpbGw9IiNmZmYiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTMgMjl2LTVoMnYzaDN2MmgtNXpNMTMgMTVoNXYyaC0zdjNoLTJ2LTV6TTMxIDE1djVoLTJ2LTNoLTN2LTJoNXpNMzEgMjloLTV2LTJoM3YtM2gydjV6IiBpZD0iU2hhcGUiLz48L2c+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTYyIDI0djVoLTJ2LTNoLTN2LTJoNXpNNjIgMjBoLTV2LTJoM3YtM2gydjV6TTcwIDIwdi01aDJ2M2gzdjJoLTV6TTcwIDI0aDV2MmgtM3YzaC0ydi01eiIvPjwvZz48cGF0aCBkPSJNMjAuNTg2IDY2bC01LjY1Ni01LjY1NiAxLjQxNC0xLjQxNEwyMiA2NC41ODZsNS42NTYtNS42NTYgMS40MTQgMS40MTRMMjMuNDE0IDY2bDUuNjU2IDUuNjU2LTEuNDE0IDEuNDE0TDIyIDY3LjQxNGwtNS42NTYgNS42NTYtMS40MTQtMS40MTRMMjAuNTg2IDY2eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMTEuNzg1IDY1LjAzTDExMCA2My41bDMtMy41aC0xMHYtMmgxMGwtMy0zLjUgMS43ODUtMS40NjhMMTE3IDU5bC01LjIxNSA2LjAzeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNTIuMjE1IDY1LjAzTDE1NCA2My41bC0zLTMuNWgxMHYtMmgtMTBsMy0zLjUtMS43ODUtMS40NjhMMTQ3IDU5bDUuMjE1IDYuMDN6IiBmaWxsPSIjZmZmIi8+PGc+PHBhdGggaWQ9IlJlY3RhbmdsZS0xMSIgZmlsbD0iI2ZmZiIgZD0iTTE2MC45NTcgMjguNTQzbC0zLjI1LTMuMjUtMS40MTMgMS40MTQgMy4yNSAzLjI1eiIvPjxwYXRoIGQ9Ik0xNTIuNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIGlkPSJPdmFsLTEiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTUwIDIxaDV2MWgtNXoiLz48L2c+PGc+PHBhdGggZD0iTTExNi45NTcgMjguNTQzbC0xLjQxNCAxLjQxNC0zLjI1LTMuMjUgMS40MTQtMS40MTQgMy4yNSAzLjI1eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMDguNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA2IDIxaDV2MWgtNXoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA5LjA0MyAxOS4wMDhsLS4wODUgNS0xLS4wMTcuMDg1LTV6Ii8+PC9nPjwvZz48L2c+PC9zdmc+\"}]);","source":"assets/dist/main.js","raw":"!function(A){function e(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return A[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=A,e.c=t,e.p=\"./\",e(0)}([function(A,e,t){t(17),t(16),t(15);var o=t(7),i=t(4);window.lazy=i({container:document.getElementsByTagName(\"body\")[0]}),window.onload=function(){o.init()}},function(A,e){A.exports=function(){var A=[];return A.toString=function(){for(var A=[],e=0;e<this.length;e++){var t=this[e];t[2]?A.push(\"@media \"+t[2]+\"{\"+t[1]+\"}\"):A.push(t[1])}return A.join(\"\")},A.i=function(e,t){\"string\"==typeof e&&(e=[[null,e,\"\"]]);for(var o={},i=0;i<this.length;i++){var n=this[i][0];\"number\"==typeof n&&(o[n]=!0)}for(i=0;i<e.length;i++){var a=e[i];\"number\"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]=\"(\"+a[2]+\") and (\"+t+\")\"),A.push(a))}},A}},function(A,e,t){function o(A,e){for(var t=0;t<A.length;t++){var o=A[t],i=d[o.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](o.parts[n]);for(;n<o.parts.length;n++)i.parts.push(l(o.parts[n],e))}else{for(var a=[],n=0;n<o.parts.length;n++)a.push(l(o.parts[n],e));d[o.id]={id:o.id,refs:1,parts:a}}}}function i(A){for(var e=[],t={},o=0;o<A.length;o++){var i=A[o],n=i[0],a=i[1],r=i[2],s=i[3],l={css:a,media:r,sourceMap:s};t[n]?t[n].parts.push(l):e.push(t[n]={id:n,parts:[l]})}return e}function n(A,e){var t=M(),o=h[h.length-1];if(\"top\"===A.insertAt)o?o.nextSibling?t.insertBefore(e,o.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),h.push(e);else{if(\"bottom\"!==A.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");t.appendChild(e)}}function a(A){A.parentNode.removeChild(A);var e=h.indexOf(A);e>=0&&h.splice(e,1)}function r(A){var e=document.createElement(\"style\");return e.type=\"text/css\",n(A,e),e}function s(A){var e=document.createElement(\"link\");return e.rel=\"stylesheet\",n(A,e),e}function l(A,e){var t,o,i;if(e.singleton){var n=w++;t=f||(f=r(e)),o=c.bind(null,t,n,!1),i=c.bind(null,t,n,!0)}else A.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(t=s(e),o=p.bind(null,t),i=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),o=u.bind(null,t),i=function(){a(t)});return o(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;o(A=e)}else i()}}function c(A,e,t,o){var i=t?\"\":o.css;if(A.styleSheet)A.styleSheet.cssText=I(e,i);else{var n=document.createTextNode(i),a=A.childNodes;a[e]&&A.removeChild(a[e]),a.length?A.insertBefore(n,a[e]):A.appendChild(n)}}function u(A,e){var t=e.css,o=e.media;if(o&&A.setAttribute(\"media\",o),A.styleSheet)A.styleSheet.cssText=t;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(t))}}function p(A,e){var t=e.css,o=e.sourceMap;o&&(t+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var i=new Blob([t],{type:\"text/css\"}),n=A.href;A.href=URL.createObjectURL(i),n&&URL.revokeObjectURL(n)}var d={},g=function(A){var e;return function(){return\"undefined\"==typeof e&&(e=A.apply(this,arguments)),e}},m=g(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),M=g(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),f=null,w=0,h=[];A.exports=function(A,e){e=e||{},\"undefined\"==typeof e.singleton&&(e.singleton=m()),\"undefined\"==typeof e.insertAt&&(e.insertAt=\"bottom\");var t=i(A);return o(t,e),function(A){for(var n=[],a=0;a<t.length;a++){var r=t[a],s=d[r.id];s.refs--,n.push(s)}if(A){var l=i(A);o(l,e)}for(var a=0;a<n.length;a++){var s=n[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete d[s.id]}}}};var I=function(){var A=[];return function(e,t){return A[e]=t,A.filter(Boolean).join(\"\\n\")}}()},function(A,e){A.exports=\"data:application/vnd.ms-fontobject;base64,8AsAAEwLAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAd35PrgAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIHhQAAALwAAABgY21hcLwxexsAAAEcAAAAlGdhc3AAAAAQAAABsAAAAAhnbHlmjM5e+gAAAbgAAAcMaGVhZAs8OI8AAAjEAAAANmhoZWEHwgPRAAAI/AAAACRobXR4NgAAQAAACSAAAABAbG9jYQ18C8wAAAlgAAAAIm1heHAAGgBaAAAJhAAAACBuYW1lmUoJ+wAACaQAAAGGcG9zdAADAAAAAAssAAAAIAADA9kBkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOqCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAB4AAAAGgAQAAMACgABACDpDekP6RPpTul56ZDp1+na6oL//f//AAAAAAAg6Q3pD+kT6U7peemN6dfp2uqC//3//wAB/+MW9xb2FvMWuRaPFnwWNhY0FY0AAwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAAAAAAQAA4AAEAAhAC0ANAAAATgBMRE4ATEhOAExETgBMSE1ISIGFREUFjMhMjY1ETQmIwcUBiMiJjU0NjMyFhMhNRMBMzcDwPyAA4D8gBomJhoDgBomJhqAOCgoODgoKDhA/QDgAQBA4ANA/QADAEAmGv0AGiYmGgMAGibgKDg4KCg4OP24gAGA/sDAAAAEAAAAAAQAA0AAEwArAD8AQwAAARQeAjMyPgI1NC4CIyIOAgEjLgEjISIGByMiBhURFBYzITI2NRE0JgEiLgI1ND4CMzIeAhUUDgIBIzUzATAhOEwrK0w4ISE4TCsrTDghApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7Z00tLU1nOztnTS0tTWcBhYCAAWArTDghIThMKytMOCEhOEwBNTBQUDAmGv3AGiYmGgJAGib9hC1NZzs7Z00tLU1nOztnTS0BvEAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAMAAP/ABAADwAAFABkALQAAJScRMxUXAyIOAhUUHgIzMj4CNTQuAgMiLgI1ND4CMzIeAhUUDgICk9OAre1qu4tQUIu7amq7i1BQi7tqUItpPDxpi1BQi2k8PGmL09IBG+WuApNQi7tqaruLUFCLu2pqu4tQ/IA8aYtQUItpPDxpi1BQi2k8AAADAED/wAPAA8AAIgA7AFcAAAE+AzU0JichDgEVFB4CFw4DFRQWFyE+ATU0LgInATQ+Ajc1LgM1MSEUDgIHFR4DFQMuAT0BNDY3PgE3IR4BFx4BHQEUBgcOAQchLgEC2TRVPSECAfyGAQIhPVU0NFU9IQIBA3oBAiE9VTT9xx45UzY2UzkeAsAeOVM2NlM5HvQ2FhY2HTET/mYTMR02FhY2Nk0MAfYMTQHAIV5zhkgQIBAQIBBIhnNeISFec4ZIECAQECAQSIZzXiH+QEZ/aE0UZBRNaH9GRn9oTRRkFE1of0YBIh9HGEAYRx8QMx8gMhAfRxhAGEcfH3hLTHcAAAAAAgAA/8AEAAPAACEALQAAASIOAhUUFhcBFRQWOwE1MzUzNTM3HgEzMj4CNTQuAhMiJjU0NjMyFhUUBgLAQnVXMgMC/nslG0CAgIBTGjYdQnVXMjJXdR4oODgoKDg4A8AyV3VCDx0P/nvAGyVAgIBTCQoyV3VCQnVXMv7AOCgoODgoKDgAAwAA/8AD9AO0ACQAKQA5AAABJy4BLwEuAQcFDgEfAR4BFwEHMzUzNTM1MzUeAR8BFjY3EzYmAScBFwEBBwYiJwEmND8BNjIXARYUA+plEzUSZRM5Fv7rFg4MRgIDA/6bIMCAgIAFCQSNGDYPuA4F/JouATgt/skC/i0KGgn+8AkJLQoaCQEQCQKGZRI1E2UTBQ64DzYYjQMHA/6b4ECAgEcDBQJGDA4WARUWOf32LgE3Lf7IAa8tCQkBEAkaCi0JCf7wCRoAAAACAAD/wAKAA4AAGQAjAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiU0NjsBMhYdASECUBBxT4BPcRAUHBwUAiAUHBz+XCYagBom/wACAMBPcXFPwBwU/iAUHBwUAeAUHMAaJiYawAAAAAABAAD/wAPAA4AAIwAAATIWHQEjNTQmKwEiBh0BMzIWFREUBiMhIiY1ETQ2MyE1NDYzAwBPcYAmGoAaJhAUHBwU/eAUHBwUAZBxTwOAcU/AwBomJhrAHBT+IBQcHBQB4BQcwE9xAAAAAAIAAP/ZBAADpwAKABQAAAElCwENAQMlBQMlAQc3Jz8BHwEHFwQA/p6env6eAQA8ATwBPDwBAP4A3yq1+nBw+rUqAjMzAUH+vzP6/qCmpgFg+v6cdvmwJOPjJLD5AAAAAAEAAP/MBAADgAAdAAABIg4CBy4DIyIOAhUUHgIXPgM1NC4CAvMoSj8yEBAyP0ooOGJJKmaZs05KsptpKkliA4AeMkEiIkEyHipJYjhxnY6bcG+ekJ1tOGJJKgAAAQAA/8AEAAPAADMAAAEiBgclPgE1NCYnJR4BMzI2NTQmIyIGFRQWFwUuASMiBhUUFjMyNjcFDgEVFBYzMjY1NCYDYCI7Fv5RAQEBAQGvFjsiQl5eQkJeAQH+URY7IkJeXkIiOxYBrwEBXkJCXl4BABoX2AYNBgYNBtgXGl5CQl5eQgYNBtgXGl5CQl4aF9gGDQZCXl5CQl4AAAAAAQAAAAAAAK5PfndfDzz1AAsEAAAAAADUDvoJAAAAANQO+gkAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAIAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAAAAoAFAAeAGYAyAEGAUoBygIMAnACpgLaAwoDOAOGAAAAAQAAABAAWAAJAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"},function(A,e,t){(function(e){function o(A){r.call(l,A)===-1&&l.push(A)}function i(A){function e(A){var e=t(A);e&&(A.src=e),A.setAttribute(\"data-lzled\",!0),n[r.call(n,A)]=null}function t(e){return\"function\"==typeof A.src?A.src(e):e.getAttribute(A.src)}function i(t){t.onload=null,t.removeAttribute(\"onload\"),t.onerror=null,t.removeAttribute(\"onerror\"),r.call(n,t)===-1&&s(t,A,e)}A=a({offset:333,src:\"data-src\",container:!1},A||{}),\"string\"==typeof A.src&&o(A.src);var n=[];return i}function n(A){var t=\"HTML\"+A+\"Element\";if(t in e!=!1){var o=e[t].prototype.getAttribute;e[t].prototype.getAttribute=function(A){if(\"src\"===A){for(var e,t=0,i=l.length;t<i&&!(e=o.call(this,l[t]));t++);return e||o.call(this,A)}return o.call(this,A)}}}function a(A,e){for(var t in A)void 0===e[t]&&(e[t]=A[t]);return e}function r(A){for(var e=this.length;e--&&this[e]!==A;);return e}A.exports=i;var s=t(14),l=[\"data-src\"];e.lzld=i(),n(\"Image\"),n(\"IFrame\")}).call(e,function(){return this}())},function(A,e,t){var o,i;/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n\t* http://photoswipe.com\n\t* Copyright (c) 2015 Dmitry Semenov; */\n!function(n,a){o=a,i=\"function\"==typeof o?o.call(e,t,e,A):o,!(void 0!==i&&(A.exports=i))}(this,function(){\"use strict\";var A=function(A,e){var t,o,i,n,a,r,s,l,c,u,p,d,g,m,M,f,w,h,I,y=this,x=!1,T=!0,b=!0,N={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(A,e){return A.title?(e.children[0].innerHTML=A.title,!0):(e.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text={{text}}&url={{url}}\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}\"},{id:\"download\",label:\"Download image\",url:\"{{raw_image_url}}\",download:!0}],getImageURLForShare:function(){return A.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return A.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},D=function(A){if(f)return!0;A=A||window.event,M.timeToIdle&&M.mouseUsed&&!c&&Y();for(var t,o,i=A.target||A.srcElement,n=i.getAttribute(\"class\")||\"\",a=0;a<P.length;a++)t=P[a],t.onTap&&n.indexOf(\"pswp__\"+t.name)>-1&&(t.onTap(),o=!0);if(o){A.stopPropagation&&A.stopPropagation(),f=!0;var r=e.features.isOldAndroid?600:30;w=setTimeout(function(){f=!1},r)}},C=function(){return!A.likelyTouchDevice||M.mouseUsed||screen.width>M.fitControlsWidth},E=function(A,t,o){e[(o?\"add\":\"remove\")+\"Class\"](A,\"pswp__\"+t)},v=function(){var A=1===M.getNumItemsFn();A!==m&&(E(o,\"ui--one-slide\",A),m=A)},j=function(){E(s,\"share-modal--hidden\",b)},B=function(){return b=!b,b?(e.removeClass(s,\"pswp__share-modal--fade-in\"),setTimeout(function(){b&&j()},300)):(j(),setTimeout(function(){b||e.addClass(s,\"pswp__share-modal--fade-in\")},30)),b||L(),!1},Q=function(e){e=e||window.event;var t=e.target||e.srcElement;return A.shout(\"shareLinkClick\",e,t),!!t.href&&(!!t.hasAttribute(\"download\")||(window.open(t.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),b||B(),!1))},L=function(){for(var A,e,t,o,i,n=\"\",a=0;a<M.shareButtons.length;a++)A=M.shareButtons[a],t=M.getImageURLForShare(A),o=M.getPageURLForShare(A),i=M.getTextForShare(A),e=A.url.replace(\"{{url}}\",encodeURIComponent(o)).replace(\"{{image_url}}\",encodeURIComponent(t)).replace(\"{{raw_image_url}}\",t).replace(\"{{text}}\",encodeURIComponent(i)),n+='<a href=\"'+e+'\" target=\"_blank\" class=\"pswp__share--'+A.id+'\"'+(A.download?\"download\":\"\")+\">\"+A.label+\"</a>\",M.parseShareButtonOut&&(n=M.parseShareButtonOut(A,n));s.children[0].innerHTML=n,s.children[0].onclick=Q},z=function(A){for(var t=0;t<M.closeElClasses.length;t++)if(e.hasClass(A,\"pswp__\"+M.closeElClasses[t]))return!0},k=0,Y=function(){clearTimeout(I),k=0,c&&y.setIdle(!1)},O=function(A){A=A?A:window.event;var e=A.relatedTarget||A.toElement;e&&\"HTML\"!==e.nodeName||(clearTimeout(I),I=setTimeout(function(){y.setIdle(!0)},M.timeToIdleOutside))},_=function(){M.fullscreenEl&&!e.features.isOldAndroid&&(t||(t=y.getFullscreenAPI()),t?(e.bind(document,t.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(A.template,\"pswp--supports-fs\")):e.removeClass(A.template,\"pswp--supports-fs\"))},U=function(){M.preloaderEl&&(S(!0),u(\"beforeChange\",function(){clearTimeout(g),g=setTimeout(function(){A.currItem&&A.currItem.loading?(!A.allowProgressiveImg()||A.currItem.img&&!A.currItem.img.naturalWidth)&&S(!1):S(!0)},M.loadingIndicatorDelay)}),u(\"imageLoadComplete\",function(e,t){A.currItem===t&&S(!0)}))},S=function(A){d!==A&&(E(p,\"preloader--active\",!A),d=A)},G=function(A){var t=A.vGap;if(C()){var a=M.barsSize;if(M.captionEl&&\"auto\"===a.bottom)if(n||(n=e.createEl(\"pswp__caption pswp__caption--fake\"),n.appendChild(e.createEl(\"pswp__caption__center\")),o.insertBefore(n,i),e.addClass(o,\"pswp__ui--fit\")),M.addCaptionHTMLFn(A,n,!0)){var r=n.clientHeight;t.bottom=parseInt(r,10)||44}else t.bottom=a.top;else t.bottom=\"auto\"===a.bottom?0:a.bottom;t.top=a.top}else t.top=t.bottom=0},F=function(){M.timeToIdle&&u(\"mouseUsed\",function(){e.bind(document,\"mousemove\",Y),e.bind(document,\"mouseout\",O),h=setInterval(function(){k++,2===k&&y.setIdle(!0)},M.timeToIdle/2)})},R=function(){u(\"onVerticalDrag\",function(A){T&&A<.95?y.hideControls():!T&&A>=.95&&y.showControls()});var A;u(\"onPinchClose\",function(e){T&&e<.9?(y.hideControls(),A=!0):A&&!T&&e>.9&&y.showControls()}),u(\"zoomGestureEnded\",function(){A=!1,A&&!T&&y.showControls()})},P=[{name:\"caption\",option:\"captionEl\",onInit:function(A){i=A}},{name:\"share-modal\",option:\"shareEl\",onInit:function(A){s=A},onTap:function(){B()}},{name:\"button--share\",option:\"shareEl\",onInit:function(A){r=A},onTap:function(){B()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:A.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(A){a=A}},{name:\"button--close\",option:\"closeEl\",onTap:A.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:A.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:A.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){t.isFullscreen()?t.exit():t.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(A){p=A}}],Z=function(){var A,t,i,n=function(o){if(o)for(var n=o.length,a=0;a<n;a++){A=o[a],t=A.className;for(var r=0;r<P.length;r++)i=P[r],t.indexOf(\"pswp__\"+i.name)>-1&&(M[i.option]?(e.removeClass(A,\"pswp__element--disabled\"),i.onInit&&i.onInit(A)):e.addClass(A,\"pswp__element--disabled\"))}};n(o.children);var a=e.getChildByClass(o,\"pswp__top-bar\");a&&n(a.children)};y.init=function(){e.extend(A.options,N,!0),M=A.options,o=e.getChildByClass(A.scrollWrap,\"pswp__ui\"),u=A.listen,R(),u(\"beforeChange\",y.update),u(\"doubleTap\",function(e){var t=A.currItem.initialZoomLevel;A.getZoomLevel()!==t?A.zoomTo(t,e,333):A.zoomTo(M.getDoubleTapZoom(!1,A.currItem),e,333)}),u(\"preventDragEvent\",function(A,e,t){var o=A.target||A.srcElement;o&&o.getAttribute(\"class\")&&A.type.indexOf(\"mouse\")>-1&&(o.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(t.prevent=!1)}),u(\"bindEvents\",function(){e.bind(o,\"pswpTap click\",D),e.bind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),A.likelyTouchDevice||e.bind(A.scrollWrap,\"mouseover\",y.onMouseOver)}),u(\"unbindEvents\",function(){b||B(),h&&clearInterval(h),e.unbind(document,\"mouseout\",O),e.unbind(document,\"mousemove\",Y),e.unbind(o,\"pswpTap click\",D),e.unbind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),e.unbind(A.scrollWrap,\"mouseover\",y.onMouseOver),t&&(e.unbind(document,t.eventK,y.updateFullscreen),t.isFullscreen()&&(M.hideAnimationDuration=0,t.exit()),t=null)}),u(\"destroy\",function(){M.captionEl&&(n&&o.removeChild(n),e.removeClass(i,\"pswp__caption--empty\")),s&&(s.children[0].onclick=null),e.removeClass(o,\"pswp__ui--over-close\"),e.addClass(o,\"pswp__ui--hidden\"),y.setIdle(!1)}),M.showAnimationDuration||e.removeClass(o,\"pswp__ui--hidden\"),u(\"initialZoomIn\",function(){M.showAnimationDuration&&e.removeClass(o,\"pswp__ui--hidden\")}),u(\"initialZoomOut\",function(){e.addClass(o,\"pswp__ui--hidden\")}),u(\"parseVerticalMargin\",G),Z(),M.shareEl&&r&&s&&(b=!0),v(),F(),_(),U()},y.setIdle=function(A){c=A,E(o,\"ui--idle\",A)},y.update=function(){T&&A.currItem?(y.updateIndexIndicator(),M.captionEl&&(M.addCaptionHTMLFn(A.currItem,i),E(i,\"caption--empty\",!A.currItem.title)),x=!0):x=!1,b||B(),v()},y.updateFullscreen=function(o){o&&setTimeout(function(){A.setScrollOffset(0,e.getScrollY())},50),e[(t.isFullscreen()?\"add\":\"remove\")+\"Class\"](A.template,\"pswp--fs\")},y.updateIndexIndicator=function(){M.counterEl&&(a.innerHTML=A.getCurrentIndex()+1+M.indexIndicatorSep+M.getNumItemsFn())},y.onGlobalTap=function(t){t=t||window.event;var o=t.target||t.srcElement;if(!f)if(t.detail&&\"mouse\"===t.detail.pointerType){if(z(o))return void A.close();e.hasClass(o,\"pswp__img\")&&(1===A.getZoomLevel()&&A.getZoomLevel()<=A.currItem.fitRatio?M.clickToCloseNonZoomable&&A.close():A.toggleDesktopZoom(t.detail.releasePoint))}else if(M.tapToToggleControls&&(T?y.hideControls():y.showControls()),M.tapToClose&&(e.hasClass(o,\"pswp__img\")||z(o)))return void A.close()},y.onMouseOver=function(A){A=A||window.event;var e=A.target||A.srcElement;E(o,\"ui--over-close\",z(e))},y.hideControls=function(){e.addClass(o,\"pswp__ui--hidden\"),T=!1},y.showControls=function(){T=!0,x||y.update(),e.removeClass(o,\"pswp__ui--hidden\")},y.supportsFullscreen=function(){var A=document;return!!(A.exitFullscreen||A.mozCancelFullScreen||A.webkitExitFullscreen||A.msExitFullscreen)},y.getFullscreenAPI=function(){var e,t=document.documentElement,o=\"fullscreenchange\";return t.requestFullscreen?e={enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:o}:t.mozRequestFullScreen?e={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+o}:t.webkitRequestFullscreen?e={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+o}:t.msRequestFullscreen&&(e={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),e&&(e.enter=function(){return l=M.closeOnScroll,M.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?A.template[this.enterK]():void A.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return M.closeOnScroll=l,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return A})},function(A,e,t){var o,i;/*! PhotoSwipe - v4.1.1 - 2015-12-24\n\t* http://photoswipe.com\n\t* Copyright (c) 2015 Dmitry Semenov; */\n!function(n,a){o=a,i=\"function\"==typeof o?o.call(e,t,e,A):o,!(void 0!==i&&(A.exports=i))}(this,function(){\"use strict\";var A=function(A,e,t,o){var i={features:null,bind:function(A,e,t,o){var i=(o?\"remove\":\"add\")+\"EventListener\";e=e.split(\" \");for(var n=0;n<e.length;n++)e[n]&&A[i](e[n],t,!1)},isArray:function(A){return A instanceof Array},createEl:function(A,e){var t=document.createElement(e||\"div\");return A&&(t.className=A),t},getScrollY:function(){var A=window.pageYOffset;return void 0!==A?A:document.documentElement.scrollTop},unbind:function(A,e,t){i.bind(A,e,t,!0)},removeClass:function(A,e){var t=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");A.className=A.className.replace(t,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},addClass:function(A,e){i.hasClass(A,e)||(A.className+=(A.className?\" \":\"\")+e)},hasClass:function(A,e){return A.className&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(A.className)},getChildByClass:function(A,e){for(var t=A.firstChild;t;){if(i.hasClass(t,e))return t;t=t.nextSibling}},arraySearch:function(A,e,t){for(var o=A.length;o--;)if(A[o][t]===e)return o;return-1},extend:function(A,e,t){for(var o in e)if(e.hasOwnProperty(o)){if(t&&A.hasOwnProperty(o))continue;A[o]=e[o]}},easing:{sine:{out:function(A){return Math.sin(A*(Math.PI/2))},inOut:function(A){return-(Math.cos(Math.PI*A)-1)/2}},cubic:{out:function(A){return--A*A*A+1}}},detectFeatures:function(){if(i.features)return i.features;var A=i.createEl(),e=A.style,t=\"\",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch=\"ontouchstart\"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var n=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10),a>=1&&8>a&&(o.isOldIOSPhone=!0))}var r=n.match(/Android\\s([0-9\\.]*)/),s=r?r[1]:0;s=parseFloat(s),s>=1&&(4.4>s&&(o.isOldAndroid=!0),o.androidVersion=s),o.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,u=[\"transform\",\"perspective\",\"animationName\"],p=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],d=0;4>d;d++){t=p[d];for(var g=0;3>g;g++)l=u[g],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!o[l]&&c in e&&(o[l]=c);t&&!o.raf&&(t=t.toLowerCase(),o.raf=window[t+\"RequestAnimationFrame\"],o.raf&&(o.caf=window[t+\"CancelAnimationFrame\"]||window[t+\"CancelRequestAnimationFrame\"]))}if(!o.raf){var m=0;o.raf=function(A){var e=(new Date).getTime(),t=Math.max(0,16-(e-m)),o=window.setTimeout(function(){A(e+t)},t);return m=e+t,o},o.caf=function(A){clearTimeout(A)}}return o.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(A,e,t,o){e=e.split(\" \");for(var i,n=(o?\"detach\":\"attach\")+\"Event\",a=function(){t.handleEvent.call(t)},r=0;r<e.length;r++)if(i=e[r])if(\"object\"==typeof t&&t.handleEvent){if(o){if(!t[\"oldIE\"+i])return!1}else t[\"oldIE\"+i]=a;A[n](\"on\"+i,t[\"oldIE\"+i])}else A[n](\"on\"+i,t)});var n=this,a=25,r=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(A){return\"A\"===A.tagName},getDoubleTapZoom:function(A,e){return A?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:\"fit\"};i.extend(s,o);var l,c,u,p,d,g,m,M,f,w,h,I,y,x,T,b,N,D,C,E,v,j,B,Q,L,z,k,Y,O,_,U,S,G,F,R,P,Z,H,J,W,V,X,K,q,$,AA,eA,tA,oA,iA,nA,aA,rA,sA,lA,cA,uA=function(){return{x:0,y:0}},pA=uA(),dA=uA(),gA=uA(),mA={},MA=0,fA={},wA=uA(),hA=0,IA=!0,yA=[],xA={},TA=!1,bA=function(A,e){i.extend(n,e.publicMethods),yA.push(A)},NA=function(A){var e=$e();return A>e-1?A-e:0>A?e+A:A},DA={},CA=function(A,e){return DA[A]||(DA[A]=[]),DA[A].push(e)},EA=function(A){var e=DA[A];if(e){var t=Array.prototype.slice.call(arguments);t.shift();for(var o=0;o<e.length;o++)e[o].apply(n,t)}},vA=function(){return(new Date).getTime()},jA=function(A){sA=A,n.bg.style.opacity=A*s.bgOpacity},BA=function(A,e,t,o,i){(!TA||i&&i!==n.currItem)&&(o/=i?i.fitRatio:n.currItem.fitRatio),A[j]=I+e+\"px, \"+t+\"px\"+y+\" scale(\"+o+\")\"},QA=function(A){oA&&(A&&(w>n.currItem.fitRatio?TA||(ut(n.currItem,!1,!0),TA=!0):TA&&(ut(n.currItem),TA=!1)),BA(oA,gA.x,gA.y,w))},LA=function(A){A.container&&BA(A.container.style,A.initialPosition.x,A.initialPosition.y,A.initialZoomLevel,A)},zA=function(A,e){e[j]=I+A+\"px, 0px\"+y},kA=function(A,e){if(!s.loop&&e){var t=p+(wA.x*MA-A)/wA.x,o=Math.round(A-we.x);(0>t&&o>0||t>=$e()-1&&0>o)&&(A=we.x+o*s.mainScrollEndFriction)}we.x=A,zA(A,d)},YA=function(A,e){var t=he[A]-fA[A];return dA[A]+pA[A]+t-t*(e/h)},OA=function(A,e){A.x=e.x,A.y=e.y,e.id&&(A.id=e.id)},_A=function(A){A.x=Math.round(A.x),A.y=Math.round(A.y)},UA=null,SA=function(){UA&&(i.unbind(document,\"mousemove\",SA),i.addClass(A,\"pswp--has_mouse\"),s.mouseUsed=!0,EA(\"mouseUsed\")),UA=setTimeout(function(){UA=null},100)},GA=function(){i.bind(document,\"keydown\",n),U.transform&&i.bind(n.scrollWrap,\"click\",n),s.mouseUsed||i.bind(document,\"mousemove\",SA),i.bind(window,\"resize scroll\",n),EA(\"bindEvents\")},FA=function(){i.unbind(window,\"resize\",n),i.unbind(window,\"scroll\",f.scroll),i.unbind(document,\"keydown\",n),i.unbind(document,\"mousemove\",SA),U.transform&&i.unbind(n.scrollWrap,\"click\",n),H&&i.unbind(window,m,n),EA(\"unbindEvents\")},RA=function(A,e){var t=rt(n.currItem,mA,A);return e&&(tA=t),t},PA=function(A){return A||(A=n.currItem),A.initialZoomLevel},ZA=function(A){return A||(A=n.currItem),A.w>0?s.maxSpreadZoom:1},HA=function(A,e,t,o){return o===n.currItem.initialZoomLevel?(t[A]=n.currItem.initialPosition[A],!0):(t[A]=YA(A,o),t[A]>e.min[A]?(t[A]=e.min[A],!0):t[A]<e.max[A]&&(t[A]=e.max[A],!0))},JA=function(){if(j){var e=U.perspective&&!Q;return I=\"translate\"+(e?\"3d(\":\"(\"),void(y=U.perspective?\", 0px)\":\")\")}j=\"left\",i.addClass(A,\"pswp--ie\"),zA=function(A,e){e.left=A+\"px\"},LA=function(A){var e=A.fitRatio>1?1:A.fitRatio,t=A.container.style,o=e*A.w,i=e*A.h;t.width=o+\"px\",t.height=i+\"px\",t.left=A.initialPosition.x+\"px\",t.top=A.initialPosition.y+\"px\"},QA=function(){if(oA){var A=oA,e=n.currItem,t=e.fitRatio>1?1:e.fitRatio,o=t*e.w,i=t*e.h;A.width=o+\"px\",A.height=i+\"px\",A.left=gA.x+\"px\",A.top=gA.y+\"px\"}}},WA=function(A){var e=\"\";s.escKey&&27===A.keyCode?e=\"close\":s.arrowKeys&&(37===A.keyCode?e=\"prev\":39===A.keyCode&&(e=\"next\")),e&&(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey||(A.preventDefault?A.preventDefault():A.returnValue=!1,n[e]()))},VA=function(A){A&&(V||W||iA||P)&&(A.preventDefault(),A.stopPropagation())},XA=function(){n.setScrollOffset(0,i.getScrollY())},KA={},qA=0,$A=function(A){KA[A]&&(KA[A].raf&&z(KA[A].raf),qA--,delete KA[A])},Ae=function(A){KA[A]&&$A(A),KA[A]||(qA++,KA[A]={})},ee=function(){for(var A in KA)KA.hasOwnProperty(A)&&$A(A)},te=function(A,e,t,o,i,n,a){var r,s=vA();Ae(A);var l=function(){if(KA[A]){if(r=vA()-s,r>=o)return $A(A),n(t),void(a&&a());n((t-e)*i(r/o)+e),KA[A].raf=L(l)}};l()},oe={shout:EA,listen:CA,viewportSize:mA,options:s,isMainScrollAnimating:function(){return iA},getZoomLevel:function(){return w},getCurrentIndex:function(){return p},isDragging:function(){return H},isZooming:function(){return $},setScrollOffset:function(A,e){fA.x=A,_=fA.y=e,EA(\"updateScrollOffset\",fA)},applyZoomPan:function(A,e,t,o){gA.x=e,gA.y=t,w=A,QA(o)},init:function(){if(!l&&!c){var t;n.framework=i,n.template=A,n.bg=i.getChildByClass(A,\"pswp__bg\"),k=A.className,l=!0,U=i.detectFeatures(),L=U.raf,z=U.caf,j=U.transform,O=U.oldIE,n.scrollWrap=i.getChildByClass(A,\"pswp__scroll-wrap\"),n.container=i.getChildByClass(n.scrollWrap,\"pswp__container\"),d=n.container.style,n.itemHolders=b=[{el:n.container.children[0],wrap:0,index:-1},{el:n.container.children[1],wrap:0,index:-1},{el:n.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display=\"none\",JA(),f={resize:n.updateSize,scroll:XA,keydown:WA,click:VA};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),t=0;t<yA.length;t++)n[\"init\"+yA[t]]();if(e){var a=n.ui=new e(n,i);a.init()}EA(\"firstUpdate\"),p=p||s.index||0,(isNaN(p)||0>p||p>=$e())&&(p=0),n.currItem=qe(p),(U.isOldIOSPhone||U.isOldAndroid)&&(IA=!1),A.setAttribute(\"aria-hidden\",\"false\"),s.modal&&(IA?A.style.position=\"fixed\":(A.style.position=\"absolute\",A.style.top=i.getScrollY()+\"px\")),void 0===_&&(EA(\"initialLayout\"),_=Y=i.getScrollY());var u=\"pswp--open \";for(s.mainClass&&(u+=s.mainClass+\" \"),s.showHideOpacity&&(u+=\"pswp--animate_opacity \"),u+=Q?\"pswp--touch\":\"pswp--notouch\",u+=U.animationName?\" pswp--css_animation\":\"\",u+=U.svg?\" pswp--svg\":\"\",i.addClass(A,u),n.updateSize(),g=-1,hA=null,t=0;r>t;t++)zA((t+g)*wA.x,b[t].el.style);O||i.bind(n.scrollWrap,M,n),CA(\"initialZoomInEnd\",function(){n.setContent(b[0],p-1),n.setContent(b[2],p+1),b[0].el.style.display=b[2].el.style.display=\"block\",s.focus&&A.focus(),GA()}),n.setContent(b[1],p),n.updateCurrItem(),EA(\"afterInit\"),IA||(x=setInterval(function(){qA||H||$||w!==n.currItem.initialZoomLevel||n.updateSize()},1e3)),i.addClass(A,\"pswp--visible\")}},close:function(){l&&(l=!1,c=!0,EA(\"close\"),FA(),et(n.currItem,null,!0,n.destroy))},destroy:function(){EA(\"destroy\"),We&&clearTimeout(We),A.setAttribute(\"aria-hidden\",\"true\"),A.className=k,x&&clearInterval(x),i.unbind(n.scrollWrap,M,n),i.unbind(window,\"scroll\",n),be(),ee(),DA=null},panTo:function(A,e,t){t||(A>tA.min.x?A=tA.min.x:A<tA.max.x&&(A=tA.max.x),e>tA.min.y?e=tA.min.y:e<tA.max.y&&(e=tA.max.y)),gA.x=A,gA.y=e,QA()},handleEvent:function(A){A=A||window.event,f[A.type]&&f[A.type](A)},goTo:function(A){A=NA(A);var e=A-p;hA=e,p=A,n.currItem=qe(p),MA-=e,kA(wA.x*MA),ee(),iA=!1,n.updateCurrItem()},next:function(){n.goTo(p+1)},prev:function(){n.goTo(p-1)},updateCurrZoomItem:function(A){if(A&&EA(\"beforeChange\",0),b[1].el.children.length){var e=b[1].el.children[0];oA=i.hasClass(e,\"pswp__zoom-wrap\")?e.style:null}else oA=null;tA=n.currItem.bounds,h=w=n.currItem.initialZoomLevel,gA.x=tA.center.x,gA.y=tA.center.y,A&&EA(\"afterChange\")},invalidateCurrItems:function(){T=!0;for(var A=0;r>A;A++)b[A].item&&(b[A].item.needsUpdate=!0)},updateCurrItem:function(A){if(0!==hA){var e,t=Math.abs(hA);if(!(A&&2>t)){n.currItem=qe(p),TA=!1,EA(\"beforeChange\",hA),t>=r&&(g+=hA+(hA>0?-r:r),t=r);for(var o=0;t>o;o++)hA>0?(e=b.shift(),b[r-1]=e,g++,zA((g+2)*wA.x,e.el.style),n.setContent(e,p-t+o+1+1)):(e=b.pop(),b.unshift(e),g--,zA(g*wA.x,e.el.style),n.setContent(e,p+t-o-1-1));if(oA&&1===Math.abs(hA)){var i=qe(N);i.initialZoomLevel!==w&&(rt(i,mA),ut(i),LA(i))}hA=0,n.updateCurrZoomItem(),N=p,EA(\"afterChange\")}}},updateSize:function(e){if(!IA&&s.modal){var t=i.getScrollY();if(_!==t&&(A.style.top=t+\"px\",_=t),!e&&xA.x===window.innerWidth&&xA.y===window.innerHeight)return;xA.x=window.innerWidth,xA.y=window.innerHeight,A.style.height=xA.y+\"px\"}if(mA.x=n.scrollWrap.clientWidth,mA.y=n.scrollWrap.clientHeight,XA(),wA.x=mA.x+Math.round(mA.x*s.spacing),wA.y=mA.y,kA(wA.x*MA),EA(\"beforeResize\"),void 0!==g){for(var o,a,l,c=0;r>c;c++)o=b[c],zA((c+g)*wA.x,o.el.style),l=p+c-1,s.loop&&$e()>2&&(l=NA(l)),a=qe(l),a&&(T||a.needsUpdate||!a.bounds)?(n.cleanSlide(a),n.setContent(o,l),1===c&&(n.currItem=a,n.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===o.index&&l>=0&&n.setContent(o,l),a&&a.container&&(rt(a,mA),ut(a),LA(a));T=!1}h=w=n.currItem.initialZoomLevel,tA=n.currItem.bounds,tA&&(gA.x=tA.center.x,gA.y=tA.center.y,QA(!0)),EA(\"resize\")},zoomTo:function(A,e,t,o,n){e&&(h=w,he.x=Math.abs(e.x)-gA.x,he.y=Math.abs(e.y)-gA.y,OA(dA,gA));var a=RA(A,!1),r={};HA(\"x\",a,r,A),HA(\"y\",a,r,A);var s=w,l={x:gA.x,y:gA.y};_A(r);var c=function(e){1===e?(w=A,gA.x=r.x,gA.y=r.y):(w=(A-s)*e+s,gA.x=(r.x-l.x)*e+l.x,gA.y=(r.y-l.y)*e+l.y),n&&n(e),QA(1===e)};t?te(\"customZoomTo\",0,1,t,o||i.easing.sine.inOut,c):c(1)}},ie=30,ne=10,ae={},re={},se={},le={},ce={},ue=[],pe={},de=[],ge={},me=0,Me=uA(),fe=0,we=uA(),he=uA(),Ie=uA(),ye=function(A,e){return A.x===e.x&&A.y===e.y},xe=function(A,e){return Math.abs(A.x-e.x)<a&&Math.abs(A.y-e.y)<a},Te=function(A,e){return ge.x=Math.abs(A.x-e.x),ge.y=Math.abs(A.y-e.y),Math.sqrt(ge.x*ge.x+ge.y*ge.y)},be=function(){X&&(z(X),X=null)},Ne=function(){H&&(X=L(Ne),Ge())},De=function(){return!(\"fit\"===s.scaleMode&&w===n.currItem.initialZoomLevel)},Ce=function(A,e){return!(!A||A===document)&&(!(A.getAttribute(\"class\")&&A.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")>-1)&&(e(A)?A:Ce(A.parentNode,e)))},Ee={},ve=function(A,e){return Ee.prevent=!Ce(A.target,s.isClickableElement),EA(\"preventDragEvent\",A,e,Ee),Ee.prevent},je=function(A,e){return e.x=A.pageX,e.y=A.pageY,e.id=A.identifier,e},Be=function(A,e,t){t.x=.5*(A.x+e.x),t.y=.5*(A.y+e.y)},Qe=function(A,e,t){if(A-G>50){var o=de.length>2?de.shift():{};o.x=e,o.y=t,de.push(o),G=A}},Le=function(){var A=gA.y-n.currItem.initialPosition.y;return 1-Math.abs(A/(mA.y/2))},ze={},ke={},Ye=[],Oe=function(A){for(;Ye.length>0;)Ye.pop();return B?(cA=0,ue.forEach(function(A){0===cA?Ye[0]=A:1===cA&&(Ye[1]=A),cA++})):A.type.indexOf(\"touch\")>-1?A.touches&&A.touches.length>0&&(Ye[0]=je(A.touches[0],ze),A.touches.length>1&&(Ye[1]=je(A.touches[1],ke))):(ze.x=A.pageX,ze.y=A.pageY,ze.id=\"\",Ye[0]=ze),Ye},_e=function(A,e){var t,o,i,a,r=0,l=gA[A]+e[A],c=e[A]>0,u=we.x+e.x,p=we.x-pe.x;return t=l>tA.min[A]||l<tA.max[A]?s.panEndFriction:1,l=gA[A]+e[A]*t,!s.allowPanToNext&&w!==n.currItem.initialZoomLevel||(oA?\"h\"!==nA||\"x\"!==A||W||(c?(l>tA.min[A]&&(t=s.panEndFriction,r=tA.min[A]-l,o=tA.min[A]-dA[A]),(0>=o||0>p)&&$e()>1?(a=u,0>p&&u>pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l)):(l<tA.max[A]&&(t=s.panEndFriction,r=l-tA.max[A],o=dA[A]-tA.max[A]),(0>=o||p>0)&&$e()>1?(a=u,p>0&&u<pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l))):a=u,\"x\"!==A)?void(iA||K||w>n.currItem.fitRatio&&(gA[A]+=e[A]*t)):(void 0!==a&&(kA(a,!0),K=a!==pe.x),tA.min.x!==tA.max.x&&(void 0!==i?gA.x=i:K||(gA.x+=e.x*t)),void 0!==a)},Ue=function(A){if(!(\"mousedown\"===A.type&&A.button>0)){if(Ke)return void A.preventDefault();if(!Z||\"mousedown\"!==A.type){if(ve(A,!0)&&A.preventDefault(),EA(\"pointerDown\"),B){var e=i.arraySearch(ue,A.pointerId,\"id\");0>e&&(e=ue.length),ue[e]={x:A.pageX,y:A.pageY,id:A.pointerId}}var t=Oe(A),o=t.length;q=null,ee(),H&&1!==o||(H=aA=!0,i.bind(window,m,n),R=lA=rA=P=K=V=J=W=!1,nA=null,EA(\"firstTouchStart\",t),OA(dA,gA),pA.x=pA.y=0,OA(le,t[0]),OA(ce,le),pe.x=wA.x*MA,de=[{x:le.x,y:le.y}],G=S=vA(),RA(w,!0),be(),Ne()),!$&&o>1&&!iA&&!K&&(h=w,W=!1,$=J=!0,pA.y=pA.x=0,OA(dA,gA),OA(ae,t[0]),OA(re,t[1]),Be(ae,re,Ie),he.x=Math.abs(Ie.x)-gA.x,he.y=Math.abs(Ie.y)-gA.y,AA=eA=Te(ae,re))}}},Se=function(A){if(A.preventDefault(),B){var e=i.arraySearch(ue,A.pointerId,\"id\");if(e>-1){var t=ue[e];t.x=A.pageX,t.y=A.pageY}}if(H){var o=Oe(A);if(nA||V||$)q=o;else if(we.x!==wA.x*MA)nA=\"h\";else{var n=Math.abs(o[0].x-le.x)-Math.abs(o[0].y-le.y);Math.abs(n)>=ne&&(nA=n>0?\"h\":\"v\",q=o)}}},Ge=function(){if(q){var A=q.length;if(0!==A)if(OA(ae,q[0]),se.x=ae.x-le.x,se.y=ae.y-le.y,$&&A>1){if(le.x=ae.x,le.y=ae.y,!se.x&&!se.y&&ye(q[1],re))return;OA(re,q[1]),W||(W=!0,EA(\"zoomGestureStarted\"));var e=Te(ae,re),t=He(e);t>n.currItem.initialZoomLevel+n.currItem.initialZoomLevel/15&&(lA=!0);var o=1,i=PA(),a=ZA();if(i>t)if(s.pinchToClose&&!lA&&h<=n.currItem.initialZoomLevel){var r=i-t,l=1-r/(i/1.2);jA(l),EA(\"onPinchClose\",l),rA=!0}else o=(i-t)/i,o>1&&(o=1),t=i-o*(i/3);else t>a&&(o=(t-a)/(6*i),o>1&&(o=1),t=a+o*i);0>o&&(o=0),AA=e,Be(ae,re,Me),pA.x+=Me.x-Ie.x,pA.y+=Me.y-Ie.y,OA(Ie,Me),gA.x=YA(\"x\",t),gA.y=YA(\"y\",t),R=t>w,w=t,QA()}else{if(!nA)return;if(aA&&(aA=!1,Math.abs(se.x)>=ne&&(se.x-=q[0].x-ce.x),Math.abs(se.y)>=ne&&(se.y-=q[0].y-ce.y)),le.x=ae.x,le.y=ae.y,0===se.x&&0===se.y)return;if(\"v\"===nA&&s.closeOnVerticalDrag&&!De()){pA.y+=se.y,gA.y+=se.y;var c=Le();return P=!0,EA(\"onVerticalDrag\",c),jA(c),void QA()}Qe(vA(),ae.x,ae.y),V=!0,tA=n.currItem.bounds;var u=_e(\"x\",se);u||(_e(\"y\",se),_A(gA),QA())}}},Fe=function(A){if(U.isOldAndroid){if(Z&&\"mouseup\"===A.type)return;A.type.indexOf(\"touch\")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}EA(\"pointerUp\"),ve(A,!1)&&A.preventDefault();var e;if(B){var t=i.arraySearch(ue,A.pointerId,\"id\");if(t>-1)if(e=ue.splice(t,1)[0],navigator.pointerEnabled)e.type=A.pointerType||\"mouse\";else{var o={4:\"mouse\",2:\"touch\",3:\"pen\"};e.type=o[A.pointerType],e.type||(e.type=A.pointerType||\"mouse\")}}var a,r=Oe(A),l=r.length;if(\"mouseup\"===A.type&&(l=0),2===l)return q=null,!0;1===l&&OA(ce,r[0]),0!==l||nA||iA||(e||(\"mouseup\"===A.type?e={x:A.pageX,y:A.pageY,type:\"mouse\"}:A.changedTouches&&A.changedTouches[0]&&(e={x:A.changedTouches[0].pageX,y:A.changedTouches[0].pageY,type:\"touch\"})),EA(\"touchRelease\",A,e));var c=-1;if(0===l&&(H=!1,i.unbind(window,m,n),be(),$?c=0:-1!==fe&&(c=vA()-fe)),fe=1===l?vA():-1,a=-1!==c&&150>c?\"zoom\":\"swipe\",$&&2>l&&($=!1,1===l&&(a=\"zoomPointerUp\"),EA(\"zoomGestureEnded\")),q=null,V||W||iA||P)if(ee(),F||(F=Re()),F.calculateSwipeSpeed(\"x\"),P){var u=Le();if(u<s.verticalDragRange)n.close();else{var p=gA.y,d=sA;te(\"verticalDrag\",0,1,300,i.easing.cubic.out,function(A){gA.y=(n.currItem.initialPosition.y-p)*A+p,jA((1-d)*A+d),QA()}),EA(\"onVerticalDrag\",1)}}else{if((K||iA)&&0===l){var g=Ze(a,F);if(g)return;a=\"zoomPointerUp\"}if(!iA)return\"swipe\"!==a?void Je():void(!K&&w>n.currItem.fitRatio&&Pe(F))}},Re=function(){var A,e,t={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){de.length>1?(A=vA()-G+50,e=de[de.length-2][o]):(A=vA()-S,e=ce[o]),t.lastFlickOffset[o]=le[o]-e,t.lastFlickDist[o]=Math.abs(t.lastFlickOffset[o]),t.lastFlickDist[o]>20?t.lastFlickSpeed[o]=t.lastFlickOffset[o]/A:t.lastFlickSpeed[o]=0,Math.abs(t.lastFlickSpeed[o])<.1&&(t.lastFlickSpeed[o]=0),t.slowDownRatio[o]=.95,t.slowDownRatioReverse[o]=1-t.slowDownRatio[o],t.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(A,e){t.backAnimStarted[A]||(gA[A]>tA.min[A]?t.backAnimDestination[A]=tA.min[A]:gA[A]<tA.max[A]&&(t.backAnimDestination[A]=tA.max[A]),void 0!==t.backAnimDestination[A]&&(t.slowDownRatio[A]=.7,t.slowDownRatioReverse[A]=1-t.slowDownRatio[A],t.speedDecelerationRatioAbs[A]<.05&&(t.lastFlickSpeed[A]=0,t.backAnimStarted[A]=!0,te(\"bounceZoomPan\"+A,gA[A],t.backAnimDestination[A],e||300,i.easing.sine.out,function(e){gA[A]=e,QA()}))))},calculateAnimOffset:function(A){t.backAnimStarted[A]||(t.speedDecelerationRatio[A]=t.speedDecelerationRatio[A]*(t.slowDownRatio[A]+t.slowDownRatioReverse[A]-t.slowDownRatioReverse[A]*t.timeDiff/10),t.speedDecelerationRatioAbs[A]=Math.abs(t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]),t.distanceOffset[A]=t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]*t.timeDiff,gA[A]+=t.distanceOffset[A])},panAnimLoop:function(){return KA.zoomPan&&(KA.zoomPan.raf=L(t.panAnimLoop),t.now=vA(),t.timeDiff=t.now-t.lastNow,t.lastNow=t.now,t.calculateAnimOffset(\"x\"),t.calculateAnimOffset(\"y\"),QA(),t.calculateOverBoundsAnimOffset(\"x\"),t.calculateOverBoundsAnimOffset(\"y\"),t.speedDecelerationRatioAbs.x<.05&&t.speedDecelerationRatioAbs.y<.05)?(gA.x=Math.round(gA.x),gA.y=Math.round(gA.y),QA(),void $A(\"zoomPan\")):void 0}};return t},Pe=function(A){return A.calculateSwipeSpeed(\"y\"),tA=n.currItem.bounds,A.backAnimDestination={},A.backAnimStarted={},Math.abs(A.lastFlickSpeed.x)<=.05&&Math.abs(A.lastFlickSpeed.y)<=.05?(A.speedDecelerationRatioAbs.x=A.speedDecelerationRatioAbs.y=0,A.calculateOverBoundsAnimOffset(\"x\"),A.calculateOverBoundsAnimOffset(\"y\"),!0):(Ae(\"zoomPan\"),A.lastNow=vA(),void A.panAnimLoop())},Ze=function(A,e){var t;iA||(me=p);var o;if(\"swipe\"===A){var a=le.x-ce.x,r=e.lastFlickDist.x<10;a>ie&&(r||e.lastFlickOffset.x>20)?o=-1:-ie>a&&(r||e.lastFlickOffset.x<-20)&&(o=1)}var l;o&&(p+=o,0>p?(p=s.loop?$e()-1:0,l=!0):p>=$e()&&(p=s.loop?0:$e()-1,l=!0),(!l||s.loop)&&(hA+=o,MA-=o,t=!0));var c,u=wA.x*MA,d=Math.abs(u-we.x);return t||u>we.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,me===p&&(t=!1),iA=!0,EA(\"mainScrollAnimStart\"),te(\"mainScroll\",we.x,u,c,i.easing.cubic.out,kA,function(){ee(),iA=!1,me=-1,(t||me!==p)&&n.updateCurrItem(),EA(\"mainScrollAnimComplete\")}),t&&n.updateCurrItem(!0),t},He=function(A){return 1/eA*A*h},Je=function(){var A=w,e=PA(),t=ZA();e>w?A=e:w>t&&(A=t);var o,a=1,r=sA;return rA&&!R&&!lA&&e>w?(n.close(),!0):(rA&&(o=function(A){jA((a-r)*A+r)}),n.zoomTo(A,0,200,i.easing.cubic.out,o),!0)};bA(\"Gestures\",{publicMethods:{initGestures:function(){var A=function(A,e,t,o,i){D=A+e,C=A+t,E=A+o,v=i?A+i:\"\"};B=U.pointerEvent,B&&U.touch&&(U.touch=!1),B?navigator.pointerEnabled?A(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):A(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):U.touch?(A(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),Q=!0):A(\"mouse\",\"down\",\"move\",\"up\"),m=C+\" \"+E+\" \"+v,M=D,B&&!Q&&(Q=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),n.likelyTouchDevice=Q,f[D]=Ue,f[C]=Se,f[E]=Fe,v&&(f[v]=f[E]),U.touch&&(M+=\" mousedown\",m+=\" mousemove mouseup\",f.mousedown=f[D],f.mousemove=f[C],f.mouseup=f[E]),Q||(s.allowPanToNext=!1)}}});var We,Ve,Xe,Ke,qe,$e,At,et=function(e,t,o,a){We&&clearTimeout(We),Ke=!0,Xe=!0;var r;e.initialLayout?(r=e.initialLayout,e.initialLayout=null):r=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var l=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){$A(\"initialZoom\"),o?(n.template.removeAttribute(\"style\"),n.bg.removeAttribute(\"style\")):(jA(1),t&&(t.style.display=\"block\"),i.addClass(A,\"pswp--animated-in\"),EA(\"initialZoom\"+(o?\"OutEnd\":\"InEnd\"))),a&&a(),Ke=!1};if(!l||!r||void 0===r.x)return EA(\"initialZoom\"+(o?\"Out\":\"In\")),w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),A.style.opacity=o?0:1,jA(1),void(l?setTimeout(function(){c()},l):c());var d=function(){var t=u,a=!n.currItem.src||n.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility=\"hidden\"),o||(w=r.w/e.w,gA.x=r.x,gA.y=r.y-Y,n[a?\"template\":\"bg\"].style.opacity=.001,QA()),Ae(\"initialZoom\"),o&&!t&&i.removeClass(A,\"pswp--animated-in\"),a&&(o?i[(t?\"remove\":\"add\")+\"Class\"](A,\"pswp--animate_opacity\"):setTimeout(function(){i.addClass(A,\"pswp--animate_opacity\")},30)),We=setTimeout(function(){if(EA(\"initialZoom\"+(o?\"Out\":\"In\")),o){var n=r.w/e.w,s={x:gA.x,y:gA.y},u=w,p=sA,d=function(e){1===e?(w=n,gA.x=r.x,gA.y=r.y-_):(w=(n-u)*e+u,gA.x=(r.x-s.x)*e+s.x,gA.y=(r.y-_-s.y)*e+s.y),QA(),a?A.style.opacity=1-e:jA(p-e*p)};t?te(\"initialZoom\",0,1,l,i.easing.cubic.out,d,c):(d(1),We=setTimeout(c,l+20))}else w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),jA(1),a?A.style.opacity=1:jA(1),We=setTimeout(c,l+20)},o?25:90)};d()},tt={},ot=[],it={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ve.length}},nt=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},at=function(A,e,t){var o=A.bounds;o.center.x=Math.round((tt.x-e)/2),o.center.y=Math.round((tt.y-t)/2)+A.vGap.top,o.max.x=e>tt.x?Math.round(tt.x-e):o.center.x,o.max.y=t>tt.y?Math.round(tt.y-t)+A.vGap.top:o.center.y,o.min.x=e>tt.x?0:o.center.x,o.min.y=t>tt.y?A.vGap.top:o.center.y},rt=function(A,e,t){if(A.src&&!A.loadError){var o=!t;if(o&&(A.vGap||(A.vGap={top:0,bottom:0}),EA(\"parseVerticalMargin\",A)),tt.x=e.x,tt.y=e.y-A.vGap.top-A.vGap.bottom,o){var i=tt.x/A.w,n=tt.y/A.h;A.fitRatio=n>i?i:n;var a=s.scaleMode;\"orig\"===a?t=1:\"fit\"===a&&(t=A.fitRatio),t>1&&(t=1),A.initialZoomLevel=t,A.bounds||(A.bounds=nt())}if(!t)return;return at(A,A.w*t,A.h*t),o&&t===A.initialZoomLevel&&(A.initialPosition=A.bounds.center),A.bounds}return A.w=A.h=0,A.initialZoomLevel=A.fitRatio=1,A.bounds=nt(),A.initialPosition=A.bounds.center,A.bounds},st=function(A,e,t,o,i,a){e.loadError||o&&(e.imageAppended=!0,ut(e,o,e===n.currItem&&TA),t.appendChild(o),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display=\"none\",e.placeholder=null)},500))},lt=function(A){A.loading=!0,A.loaded=!1;var e=A.img=i.createEl(\"pswp__img\",\"img\"),t=function(){A.loading=!1,A.loaded=!0,A.loadComplete?A.loadComplete(A):A.img=null,e.onload=e.onerror=null,e=null};return e.onload=t,e.onerror=function(){A.loadError=!0,t()},e.src=A.src,e},ct=function(A,e){return A.src&&A.loadError&&A.container?(e&&(A.container.innerHTML=\"\"),A.container.innerHTML=s.errorMsg.replace(\"%url%\",A.src),!0):void 0},ut=function(A,e,t){if(A.src){e||(e=A.container.lastChild);var o=t?A.w:Math.round(A.w*A.fitRatio),i=t?A.h:Math.round(A.h*A.fitRatio);A.placeholder&&!A.loaded&&(A.placeholder.style.width=o+\"px\",A.placeholder.style.height=i+\"px\"),e.style.width=o+\"px\",e.style.height=i+\"px\"}},pt=function(){if(ot.length){for(var A,e=0;e<ot.length;e++)A=ot[e],A.holder.index===A.index&&st(A.index,A.item,A.baseDiv,A.img,!1,A.clearPlaceholder);ot=[]}};bA(\"Controller\",{publicMethods:{lazyLoadItem:function(A){A=NA(A);var e=qe(A);e&&(!e.loaded&&!e.loading||T)&&(EA(\"gettingData\",A,e),e.src&&lt(e))},initController:function(){i.extend(s,it,!0),n.items=Ve=t,qe=n.getItemAt,$e=s.getNumItemsFn,At=s.loop,$e()<3&&(s.loop=!1),CA(\"beforeChange\",function(A){var e,t=s.preload,o=null===A||A>=0,i=Math.min(t[0],$e()),a=Math.min(t[1],$e());for(e=1;(o?a:i)>=e;e++)n.lazyLoadItem(p+e);for(e=1;(o?i:a)>=e;e++)n.lazyLoadItem(p-e)}),CA(\"initialLayout\",function(){n.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),CA(\"mainScrollAnimComplete\",pt),CA(\"initialZoomInEnd\",pt),CA(\"destroy\",function(){for(var A,e=0;e<Ve.length;e++)A=Ve[e],A.container&&(A.container=null),A.placeholder&&(A.placeholder=null),A.img&&(A.img=null),A.preloader&&(A.preloader=null),A.loadError&&(A.loaded=A.loadError=!1);ot=null})},getItemAt:function(A){return A>=0&&void 0!==Ve[A]&&Ve[A]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!Q||s.mouseUsed||screen.width>1200},setContent:function(A,e){s.loop&&(e=NA(e));var t=n.getItemAt(A.index);t&&(t.container=null);var o,a=n.getItemAt(e);if(!a)return void(A.el.innerHTML=\"\");EA(\"gettingData\",e,a),A.index=e,A.item=a;var r=a.container=i.createEl(\"pswp__zoom-wrap\");if(!a.src&&a.html&&(a.html.tagName?r.appendChild(a.html):r.innerHTML=a.html),ct(a),rt(a,mA),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&(o=i.createEl(\"pswp__img\",\"img\"),o.style.opacity=1,o.src=a.src,ut(a,o),st(e,a,r,o,!0));else{if(a.loadComplete=function(t){if(l){if(A&&A.index===e){if(ct(t,!0))return t.loadComplete=t.img=null,rt(t,mA),LA(t),void(A.index===p&&n.updateCurrZoomItem());t.imageAppended?!Ke&&t.placeholder&&(t.placeholder.style.display=\"none\",t.placeholder=null):U.transform&&(iA||Ke)?ot.push({item:t,baseDiv:r,img:t.img,index:e,holder:A,clearPlaceholder:!0}):st(e,t,r,t.img,iA||Ke,!0)}t.loadComplete=null,t.img=null,EA(\"imageLoadComplete\",e,t)}},i.features.transform){var c=\"pswp__img pswp__img--placeholder\";c+=a.msrc?\"\":\" pswp__img--placeholder--blank\";var u=i.createEl(c,a.msrc?\"img\":\"\");a.msrc&&(u.src=a.msrc),ut(a,u),r.appendChild(u),a.placeholder=u}a.loading||lt(a),n.allowProgressiveImg()&&(!Xe&&U.transform?ot.push({item:a,baseDiv:r,img:a.img,index:e,holder:A}):st(e,a,r,a.img,!0,!0))}Xe||e!==p?LA(a):(oA=r.style,et(a,o||a.img)),A.el.innerHTML=\"\",A.el.appendChild(r)},cleanSlide:function(A){A.img&&(A.img.onload=A.img.onerror=null),A.loaded=A.loading=A.img=A.imageAppended=!1}}});var dt,gt={},mt=function(A,e,t){var o=document.createEvent(\"CustomEvent\"),i={origEvent:A,target:A.target,releasePoint:e,pointerType:t||\"touch\"};o.initCustomEvent(\"pswpTap\",!0,!0,i),A.target.dispatchEvent(o)};bA(\"Tap\",{publicMethods:{initTap:function(){CA(\"firstTouchStart\",n.onTapStart),CA(\"touchRelease\",n.onTapRelease),CA(\"destroy\",function(){gt={},dt=null})},onTapStart:function(A){A.length>1&&(clearTimeout(dt),dt=null)},onTapRelease:function(A,e){if(e&&!V&&!J&&!qA){var t=e;if(dt&&(clearTimeout(dt),dt=null,xe(t,gt)))return void EA(\"doubleTap\",t);if(\"mouse\"===e.type)return void mt(A,e,\"mouse\");var o=A.target.tagName.toUpperCase();if(\"BUTTON\"===o||i.hasClass(A.target,\"pswp__single-tap\"))return void mt(A,e);OA(gt,t),dt=setTimeout(function(){mt(A,e),dt=null},300)}}}});var Mt;bA(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){O||(Q?CA(\"mouseUsed\",function(){n.setupDesktopZoom()}):n.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Mt={};var t=\"wheel mousewheel DOMMouseScroll\";CA(\"bindEvents\",function(){i.bind(A,t,n.handleMouseWheel)}),CA(\"unbindEvents\",function(){Mt&&i.unbind(A,t,n.handleMouseWheel)}),n.mouseZoomedIn=!1;var o,a=function(){n.mouseZoomedIn&&(i.removeClass(A,\"pswp--zoomed-in\"),n.mouseZoomedIn=!1),1>w?i.addClass(A,\"pswp--zoom-allowed\"):i.removeClass(A,\"pswp--zoom-allowed\"),r()},r=function(){o&&(i.removeClass(A,\"pswp--dragging\"),o=!1)};CA(\"resize\",a),CA(\"afterChange\",a),CA(\"pointerDown\",function(){n.mouseZoomedIn&&(o=!0,i.addClass(A,\"pswp--dragging\"))}),CA(\"pointerUp\",r),e||a()},handleMouseWheel:function(A){if(w<=n.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||qA||H?A.preventDefault():j&&Math.abs(A.deltaY)>2&&(u=!0,n.close())),!0;if(A.stopPropagation(),Mt.x=0,\"deltaX\"in A)1===A.deltaMode?(Mt.x=18*A.deltaX,Mt.y=18*A.deltaY):(Mt.x=A.deltaX,Mt.y=A.deltaY);else if(\"wheelDelta\"in A)A.wheelDeltaX&&(Mt.x=-.16*A.wheelDeltaX),A.wheelDeltaY?Mt.y=-.16*A.wheelDeltaY:Mt.y=-.16*A.wheelDelta;else{if(!(\"detail\"in A))return;Mt.y=A.detail}RA(w,!0);var e=gA.x-Mt.x,t=gA.y-Mt.y;(s.modal||e<=tA.min.x&&e>=tA.max.x&&t<=tA.min.y&&t>=tA.max.y)&&A.preventDefault(),n.panTo(e,t)},toggleDesktopZoom:function(e){e=e||{x:mA.x/2+fA.x,y:mA.y/2+fA.y};var t=s.getDoubleTapZoom(!0,n.currItem),o=w===t;n.mouseZoomedIn=!o,n.zoomTo(o?n.currItem.initialZoomLevel:t,e,333),i[(o?\"remove\":\"add\")+\"Class\"](A,\"pswp--zoomed-in\")}}});var ft,wt,ht,It,yt,xt,Tt,bt,Nt,Dt,Ct,Et,vt={history:!0,galleryUID:1},jt=function(){return Ct.hash.substring(1)},Bt=function(){ft&&clearTimeout(ft),ht&&clearTimeout(ht)},Qt=function(){var A=jt(),e={};if(A.length<5)return e;var t,o=A.split(\"&\");for(t=0;t<o.length;t++)if(o[t]){var i=o[t].split(\"=\");i.length<2||(e[i[0]]=i[1])}if(s.galleryPIDs){var n=e.pid;for(e.pid=0,t=0;t<Ve.length;t++)if(Ve[t].pid===n){e.pid=t;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Lt=function(){if(ht&&clearTimeout(ht),qA||H)return void(ht=setTimeout(Lt,500));It?clearTimeout(wt):It=!0;var A=p+1,e=qe(p);e.hasOwnProperty(\"pid\")&&(A=e.pid);var t=Tt+\"&gid=\"+s.galleryUID+\"&pid=\"+A;bt||-1===Ct.hash.indexOf(t)&&(Dt=!0);var o=Ct.href.split(\"#\")[0]+\"#\"+t;Et?\"#\"+t!==window.location.hash&&history[bt?\"replaceState\":\"pushState\"](\"\",document.title,o):bt?Ct.replace(o):Ct.hash=t,bt=!0,wt=setTimeout(function(){It=!1},60)};bA(\"History\",{publicMethods:{initHistory:function(){if(i.extend(s,vt,!0),s.history){Ct=window.location,Dt=!1,Nt=!1,bt=!1,Tt=jt(),Et=\"pushState\"in history,Tt.indexOf(\"gid=\")>-1&&(Tt=Tt.split(\"&gid=\")[0],Tt=Tt.split(\"?gid=\")[0]),CA(\"afterChange\",n.updateURL),CA(\"unbindEvents\",function(){i.unbind(window,\"hashchange\",n.onHashChange)});var A=function(){xt=!0,Nt||(Dt?history.back():Tt?Ct.hash=Tt:Et?history.pushState(\"\",document.title,Ct.pathname+Ct.search):Ct.hash=\"\"),Bt()};CA(\"unbindEvents\",function(){u&&A()}),CA(\"destroy\",function(){xt||A()}),CA(\"firstUpdate\",function(){p=Qt().pid});var e=Tt.indexOf(\"pid=\");e>-1&&(Tt=Tt.substring(0,e),\"&\"===Tt.slice(-1)&&(Tt=Tt.slice(0,-1))),setTimeout(function(){l&&i.bind(window,\"hashchange\",n.onHashChange)},40)}},onHashChange:function(){return jt()===Tt?(Nt=!0,void n.close()):void(It||(yt=!0,n.goTo(Qt().pid),yt=!1))},updateURL:function(){Bt(),yt||(bt?ft=setTimeout(Lt,800):Lt())}}}),i.extend(n,oe)};return A})},function(A,e,t){function o(){a(\".photos\"),document.getElementsByClassName(\"albums\").length&&r(\"js-secret-album\")}var i=t(6),n=t(5),a=function(A){for(var e=function(A){for(var e,t,o,i,n=A.getElementsByClassName(\"thumb\"),a=n.length,r=[],s=0;s<a;s++)e=n[s],1===e.nodeType&&(t=e.children[0],o=t.getAttribute(\"data-size\").split(\"x\"),i={src:t.getAttribute(\"href\"),w:parseInt(o[0],10),h:parseInt(o[1],10)},e.children.length>1&&(i.title=e.children[2].innerHTML),\nt.children.length>0&&(i.msrc=t.children[0].getAttribute(\"src\")),i.el=e,r.push(i));return r},t=function p(A,e){return A&&(e(A)?A:p(A.parentNode,e))},o=function(A){A=A||window.event,A.preventDefault?A.preventDefault():A.returnValue=!1;var e=A.target||A.srcElement,o=t(e,function(A){return A.tagName&&\"FIGURE\"===A.tagName.toUpperCase()});if(o){for(var i,n=o.parentNode,a=o.parentNode.childNodes,s=a.length,l=0,c=0;c<s;c++)if(1===a[c].nodeType){if(a[c]===o){i=l;break}l++}return i>=0&&r(i,n),!1}},a=function(){var A=window.location.hash.substring(1),e={};if(A.length<5)return e;for(var t=A.split(\"&\"),o=0;o<t.length;o++)if(t[o]){var i=t[o].split(\"=\");i.length<2||(e[i[0]]=i[1])}return e.gid&&(e.gid=parseInt(e.gid,10)),e},r=function(A,t,o,a){var r,s,l,c=document.querySelectorAll(\".pswp\")[0];if(l=e(t),s={galleryUID:t.getAttribute(\"data-pswp-uid\"),getThumbBoundsFn:function(A){var e=l[A].el.getElementsByTagName(\"img\")[0],t=window.pageYOffset||document.documentElement.scrollTop,o=e.getBoundingClientRect();return{x:o.left,y:o.top+t,w:o.width}}},a)if(s.galleryPIDs){for(var u=0;u<l.length;u++)if(l[u].pid==A){s.index=u;break}}else s.index=parseInt(A,10)-1;else s.index=parseInt(A,10);isNaN(s.index)||(o&&(s.showAnimationDuration=0),r=new i(c,n,l,s),r.init())},s=document.querySelectorAll(A),l=0,c=s.length;l<c;l++)s[l].setAttribute(\"data-pswp-uid\",l+1),s[l].onclick=o;var u=a();u.pid&&u.gid&&r(u.pid,s[u.gid-1],!0,!0)},r=function(A){for(var e=document.getElementsByClassName(A),t=document.getElementsByClassName(\"js-dialog\")[0],o=document.getElementsByClassName(\"js-overlay\")[0],i=document.getElementsByClassName(\"js-modal-yes\")[0],n=document.getElementsByClassName(\"js-input-lock\")[0],a=document.getElementsByClassName(\"js-form\")[0],r=\"\",s=\"\",l=0,c=e.length;l<c;l++)!function(A){e[A].addEventListener(\"click\",function(A){r=this.getAttribute(\"data-href\"),s=this.getAttribute(\"data-tips\"),t.style.display=\"flex\",o.style.display=\"initial\",a.setAttribute(\"action\",r),n.setAttribute(\"placeholder\",s),n.value=\"\",n.focus()})}(l);o.addEventListener(\"click\",function(A){t.style.display=\"none\",o.style.display=\"none\",n.value=\"\"}),i.addEventListener(\"click\",function(A){t.style.display=\"none\",o.style.display=\"none\",console.log(i)}),document.onkeydown=function(A){var e=A||window.event;e&&13===e.keyCode&&\"\"!==n.value&&(window.location.href=r+\"?password=\"+n.value)}};A.exports={init:o}},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp__button{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;-webkit-transition:opacity .2s;transition:opacity .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:none;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(\"+t(12)+\") 0 0 no-repeat;background-size:264px 88px;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:1.1dppx),(min-resolution:105dpi){.pswp--svg .pswp__button,.pswp--svg .pswp__button--arrow--left:before,.pswp--svg .pswp__button--arrow--right:before{background-image:url(\"+t(21)+\")}.pswp--svg .pswp__button--arrow--left,.pswp--svg .pswp__button--arrow--right{background:none}}.pswp__button--close{background-position:0 -44px}.pswp__button--share{background-position:-44px -44px}.pswp__button--fs{display:none}.pswp--supports-fs .pswp__button--fs{display:block}.pswp--fs .pswp__button--fs{background-position:-44px 0}.pswp__button--zoom{display:none;background-position:-88px 0}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__button--zoom{background-position:-132px 0}.pswp--touch .pswp__button--arrow--left,.pswp--touch .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);-webkit-transition:-webkit-transform .25s;transition:transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip a{display:block;padding:8px 12px;font-size:14px;line-height:18px}.pswp__share-tooltip a,.pswp__share-tooltip a:hover{color:#000;text-decoration:none}.pswp__share-tooltip a:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip a:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in .pswp__share-tooltip{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch .pswp__share-tooltip a{padding:16px 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;word-break:break-all;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active .pswp__preloader__icn{background:url(\"+t(13)+\") 0 0 no-repeat}.pswp--css_animation .pswp__preloader--active{opacity:1}.pswp--css_animation .pswp__preloader--active .pswp__preloader__icn{-webkit-animation:clockwise .5s linear infinite;animation:clockwise .5s linear infinite}.pswp--css_animation .pswp__preloader--active .pswp__preloader__donut{-webkit-animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite;animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite}.pswp--css_animation .pswp__preloader__icn{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media screen and (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit .pswp__caption,.pswp__ui--fit .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle .pswp__button--arrow--left,.pswp__ui--idle .pswp__button--arrow--right,.pswp__ui--idle .pswp__top-bar{opacity:0}.pswp__ui--hidden .pswp__button--arrow--left,.pswp__ui--hidden .pswp__button--arrow--right,.pswp__ui--hidden .pswp__caption,.pswp__ui--hidden .pswp__top-bar{opacity:.001}.pswp__ui--one-slide .pswp__button--arrow--left,.pswp__ui--one-slide .pswp__button--arrow--right,.pswp__ui--one-slide .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark .pswp__top-bar{background:none}\",\"\"])},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed .pswp__img{cursor:zoom-in}.pswp--zoomed-in .pswp__img{cursor:-webkit-grab;cursor:grab}.pswp--dragging .pswp__img{cursor:-webkit-grabbing;cursor:grabbing}.pswp__bg{background:#000;opacity:0;transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__bg,.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%}.pswp__scroll-wrap{overflow:hidden}.pswp__container,.pswp__zoom-wrap{-ms-touch-action:none;touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 333ms cubic-bezier(.4,0,.22,1);transition:transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in .pswp__bg,.pswp--animated-in .pswp__zoom-wrap{-webkit-transition:none;transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{right:0;bottom:0;overflow:hidden}.pswp__img,.pswp__item{position:absolute;left:0;top:0}.pswp__img{width:auto;height:auto}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg a{color:#ccc;text-decoration:underline}\",\"\"])},function(A,e,t){e=A.exports=t(1)(),e.push([A.id,\"*{margin:0;padding:0}body{position:relative;background:url(\"+t(11)+\") repeat #dde1e5;font-family:lucida grande,lucida sans unicode,lucida,helvetica,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif}.breadcrumb,body{margin-bottom:30px}.breadcrumb{padding-left:10px;position:fixed;z-index:999;width:100%;background:rgba(27,27,27,.9);height:50px;line-height:50px;left:0;top:0;font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;text-shadow:0 1px #0a0c10}.breadcrumb,.breadcrumb a{color:#159bfd}h1,h2,h3{padding-left:10px;font-weight:300;clear:both}.album-title,.album-title-top{margin:0 0 20px;color:#383838;text-shadow:1px 1px 1px #fff}.des-title{margin:0 0 10px}.des-title,.empty-title{color:#666;text-shadow:1px 1px 1px #fff}.empty-title{margin:100px 10px;text-align:center}.empty-sub-title{text-align:center;color:#888;text-shadow:1px 1px 1px #fff}.icon-unlocked{margin-right:5px}a{color:#333;text-decoration:none}section.info{background-color:#f8f8f8}.exif-p{width:50%;float:left}.exif-p b{margin-right:10px}.layout{color:#333;padding:60px;position:relative;z-index:1}.albums,.photos{justify-content:space-between}.albums,.photos,.thumb{display:flex;flex-wrap:wrap}.thumb{text-align:center;list-style:none;float:left;width:150px;height:120px;margin:10px;padding:8px;background:#fff;position:relative;cursor:pointer;align-items:flex-end;justify-content:center}.thumb:hover{transform:scale(1.1);transition:.3s}.thumb:hover.thumb:after,.thumb:hover.thumb:before{display:none}.bg-lock{position:absolute;width:150px;height:100px;background:rgba(0,0,0,.5);display:flex;align-items:center;flex-wrap:wrap;justify-content:center;color:#fff;font-size:30px}.hide{width:150px;margin:0 10px;padding:0 8px;visibility:hidden}.thumb:before{-webkit-transform:skew(-15deg) rotate(-5deg);transform:skew(-15deg) rotate(-5deg);left:15px}.thumb:after{-webkit-transform:skew(15deg) rotate(5deg);transform:skew(15deg) rotate(5deg);right:15px}.thumb:after,.thumb:before{width:88%;height:20%;content:' ';box-shadow:0 8px 16px rgba(0,0,0,.3);position:absolute;bottom:7px;z-index:-1}.thumb figcaption{width:100%;line-height:32px;max-height:32px;overflow:hidden;font-size:14;word-wrap:break-word}.thumb img{overflow:hidden;margin:auto;height:auto;width:auto;max-width:150px;max-height:100px}.img-wrap{width:150px;height:100px;display:flex;align-items:center;justify-content:center}figure.photo{margin:10px}figure.photo img{max-width:100%}figure.photo figcaption{padding-left:10px}section.info{margin:10px;padding:10px;background-color:#f8f8f8;border-radius:5px;border:1px solid #c3c3c3}section.info h2{padding:5px 5px 10px;margin:0}section.info table{border-spacing:0}section.info table td{padding:5px}section.info table td:first-child{font-weight:700;padding-right:20px}@media screen and (max-width:600px){.layout{padding:10px}.thumb{margin:10px 0}.album-title{margin:50px 0 0;padding:0}.album-title-top,.des-title{padding:0}}@media screen and (max-width:350px){.albums,.photos{justify-content:center}}.dialog{width:280px;height:60px;margin-top:-30px;margin-left:-140px;position:fixed;background:#fff;border-radius:5px;top:50%;left:50%;font-size:14px;z-index:4000;display:flex;justify-content:center;align-items:center;display:none}.input-lock{width:122px;height:31px;padding:6px;outline:none;border:1px solid #a9a9a9;border-radius:0;color:#333;margin-right:-1px}.btn-default{display:inline-block;vertical-align:middle;cursor:pointer;font-size:14px;text-decoration:none;text-align:center;border:1px solid #188eee;background-color:#188eee;color:#fff;padding:5px 20px;line-height:18px}.btn-default:active{color:#fff}.overlay{position:fixed;height:100%;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr='#80000000',endColorstr='#80000000');background-color:rgba(0,0,0,.5);z-index:4000;display:none}.footer,.overlay{width:100%;left:0}.footer{font-size:12px;font-family:Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;text-shadow:0 1px #fff;position:absolute;opacity:.6;text-align:center;padding-top:40px;height:30px;box-sizing:border-box;bottom:0}.footer a{background:transparent;text-decoration:none;color:#08c}@font-face{font-family:icomoon;src:url(\"+t(3)+\");src:url(\"+t(3)+\"#iefix) format('embedded-opentype'),url(\"+t(19)+\") format('truetype'),url(\"+t(20)+\") format('woff'),url(\"+t(18)+'#icomoon) format(\\'svg\\');font-weight:400;font-style:normal}[class*=\" icon-\"],[class^=icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-image:before{content:\"\\\\E90D\"}.icon-camera:before{content:\"\\\\E90F\"}.icon-film:before{content:\"\\\\E913\"}.icon-clock:before{content:\"\\\\E94E\"}.icon-hour-glass:before{content:\"\\\\E979\"}.icon-key:before{content:\"\\\\E98D\"}.icon-key2:before{content:\"\\\\E98E\"}.icon-lock:before{content:\"\\\\E98F\"}.icon-unlocked:before{content:\"\\\\E990\"}.icon-star-empty:before{content:\"\\\\E9D7\"}.icon-heart:before{content:\"\\\\E9DA\"}.icon-share2:before{content:\"\\\\EA82\"}',\"\"])},function(A,e,t){A.exports=t.p+\"img/bg.png\"},function(A,e,t){A.exports=t.p+\"img/default-skin.png\"},function(A,e,t){A.exports=t.p+\"img/preloader.gif\"},function(A,e){(function(e){function t(A,t,o){var i={container:e.document.body,offset:0};void 0!==t&&\"function\"!=typeof t||(o=t,t={});for(var a=i.container=t.container||i.container,r=i.offset=t.offset||i.offset,l=0;l<s.length;l++)if(s[l].container===a)return s[l].isInViewport(A,r,o);return s[s.push(n(a))-1].isInViewport(A,r,o)}function o(A,e,t){A.attachEvent?A.attachEvent(\"on\"+e,t):A.addEventListener(e,t,!1)}function i(A,e,t){var o;return function(){function i(){o=null,t||A.apply(n,a)}var n=this,a=arguments,r=t&&!o;clearTimeout(o),o=setTimeout(i,e),r&&A.apply(n,a)}}function n(A){function t(A,e,t){if(!t)return u(A,e);var o=n(A,e,t);return o.watch(),o}function n(A,e,t){function o(){p.add(A,e,t)}function i(){p.remove(A)}return{watch:o,dispose:i}}function s(A,e,t){u(A,e)&&(p.remove(A),t(A))}function u(t,o){if(!c(e.document.documentElement,t)||!c(e.document.documentElement,A))return!1;if(!t.offsetWidth||!t.offsetHeight)return!1;var i=t.getBoundingClientRect(),n={};if(A===e.document.body)n={top:-o,left:-o,right:e.document.documentElement.clientWidth+o,bottom:e.document.documentElement.clientHeight+o};else{var a=A.getBoundingClientRect();n={top:a.top-o,left:a.left-o,right:a.right+o,bottom:a.bottom+o}}var r=i.right>=n.left&&i.left<=n.right&&i.bottom>=n.top&&i.top<=n.bottom;return r}var p=a(),d=A===e.document.body?e:A,g=i(p.checkAll(s),15);return o(d,\"scroll\",g),d===e&&o(e,\"resize\",g),l&&r(p,A,g),setInterval(g,150),{container:A,isInViewport:t}}function a(){function A(A,e,t){o(A)||n.push([A,e,t])}function e(A){var e=t(A);e!==-1&&n.splice(e,1)}function t(A){for(var e=n.length-1;e>=0;e--)if(n[e][0]===A)return e;return-1}function o(A){return t(A)!==-1}function i(A){return function(){for(var e=n.length-1;e>=0;e--)A.apply(this,n[e])}}var n=[];return{add:A,remove:e,isWatched:o,checkAll:i}}function r(A,e,t){function o(A){A.some(i)===!0&&setTimeout(t,0)}function i(e){var t=r.call([],Array.prototype.slice.call(e.addedNodes),e.target);return a.call(t,A.isWatched).length>0}var n=new MutationObserver(o),a=Array.prototype.filter,r=Array.prototype.concat;n.observe(e,{childList:!0,subtree:!0,attributes:!0})}A.exports=t;var s=[],l=\"function\"==typeof e.MutationObserver,c=e.document.documentElement.compareDocumentPosition?function(A,e){return!!(16&A.compareDocumentPosition(e))}:e.document.documentElement.contains?function(A,e){return A!==e&&!!A.contains&&A.contains(e)}:function(A,e){for(;e=e.parentNode;)if(e===A)return!0;return!1}}).call(e,function(){return this}())},function(A,e,t){var o=t(8);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(9);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(10);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e){A.exports=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+R2VuZXJhdGVkIGJ5IEljb01vb248L21ldGFkYXRhPgo8ZGVmcz4KPGZvbnQgaWQ9Imljb21vb24iIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTBkOyIgZ2x5cGgtbmFtZT0iaW1hZ2UiIGQ9Ik05NTkuODg0IDgzMmMwLjA0MC0wLjAzNCAwLjA4Mi0wLjA3NiAwLjExNi0wLjExNnYtNzY3Ljc3Yy0wLjAzNC0wLjA0MC0wLjA3Ni0wLjA4Mi0wLjExNi0wLjExNmgtODk1Ljc3Yy0wLjA0MCAwLjAzNC0wLjA4MiAwLjA3Ni0wLjExNCAwLjExNnY3NjcuNzcyYzAuMDM0IDAuMDQwIDAuMDc2IDAuMDgyIDAuMTE0IDAuMTE0aDg5NS43N3pNOTYwIDg5NmgtODk2Yy0zNS4yIDAtNjQtMjguOC02NC02NHYtNzY4YzAtMzUuMiAyOC44LTY0IDY0LTY0aDg5NmMzNS4yIDAgNjQgMjguOCA2NCA2NHY3NjhjMCAzNS4yLTI4LjggNjQtNjQgNjR2MHpNODMyIDY3MmMwLTUzLjAyMC00Mi45OC05Ni05Ni05NnMtOTYgNDIuOTgtOTYgOTYgNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTZ6TTg5NiAxMjhoLTc2OHYxMjhsMjI0IDM4NCAyNTYtMzIwaDY0bDIyNCAxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTkwZjsiIGdseXBoLW5hbWU9ImNhbWVyYSIgZD0iTTMwNCAzNTJjMC0xMTQuODc2IDkzLjEyNC0yMDggMjA4LTIwOHMyMDggOTMuMTI0IDIwOCAyMDgtOTMuMTI0IDIwOC0yMDggMjA4LTIwOC05My4xMjQtMjA4LTIwOHpNOTYwIDcwNGgtMjI0Yy0xNiA2NC0zMiAxMjgtOTYgMTI4aC0yNTZjLTY0IDAtODAtNjQtOTYtMTI4aC0yMjRjLTM1LjIgMC02NC0yOC44LTY0LTY0di01NzZjMC0zNS4yIDI4LjgtNjQgNjQtNjRoODk2YzM1LjIgMCA2NCAyOC44IDY0IDY0djU3NmMwIDM1LjItMjguOCA2NC02NCA2NHpNNTEyIDY4Yy0xNTYuODUgMC0yODQgMTI3LjE0OC0yODQgMjg0IDAgMTU2Ljg1IDEyNy4xNSAyODQgMjg0IDI4NCAxNTYuODUyIDAgMjg0LTEyNy4xNSAyODQtMjg0IDAtMTU2Ljg1Mi0xMjcuMTQ2LTI4NC0yODQtMjg0ek05NjAgNTEyaC0xMjh2NjRoMTI4di02NHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTEzOyIgZ2x5cGgtbmFtZT0iZmlsbSIgZD0iTTAgODMydi03NjhoMTAyNHY3NjhoLTEwMjR6TTE5MiAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTc2OCAxMjhoLTUxMnY2NDBoNTEydi02NDB6TTk2MCAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTM4NCA2NDB2LTM4NGwyNTYgMTkyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NGU7IiBnbHlwaC1uYW1lPSJjbG9jayIgZD0iTTY1OC43NDQgMjEwLjc0NGwtMjEwLjc0NCAyMTAuNzQ2djI4Mi41MWgxMjh2LTIyOS40OWwxNzMuMjU2LTE3My4yNTR6TTUxMiA5NjBjLTI4Mi43NyAwLTUxMi0yMjkuMjMtNTEyLTUxMnMyMjkuMjMtNTEyIDUxMi01MTIgNTEyIDIyOS4yMyA1MTIgNTEyLTIyOS4yMyA1MTItNTEyIDUxMnpNNTEyIDY0Yy0yMTIuMDc4IDAtMzg0IDE3MS45MjItMzg0IDM4NHMxNzEuOTIyIDM4NCAzODQgMzg0YzIxMi4wNzggMCAzODQtMTcxLjkyMiAzODQtMzg0cy0xNzEuOTIyLTM4NC0zODQtMzg0eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5Nzk7IiBnbHlwaC1uYW1lPSJob3VyLWdsYXNzIiBkPSJNNzI4Ljk5MiA0NDhjMTM3Ljc1NCA4Ny4zMzQgMjMxLjAwOCAyNTUuMjA4IDIzMS4wMDggNDQ4IDAgMjEuNjc2LTEuMTkyIDQzLjAzNC0zLjQ3OCA2NGgtODg5LjA0MmMtMi4yOS0yMC45NjgtMy40OC00Mi4zMjYtMy40OC02NCAwLTE5Mi43OTIgOTMuMjU0LTM2MC42NjYgMjMxLjAwNi00NDgtMTM3Ljc1Mi04Ny4zMzQtMjMxLjAwNi0yNTUuMjA4LTIzMS4wMDYtNDQ4IDAtMjEuNjc2IDEuMTktNDMuMDM0IDMuNDc4LTY0aDg4OS4wNDJjMi4yODggMjAuOTY2IDMuNDc4IDQyLjMyNCAzLjQ3OCA2NCAwLjAwMiAxOTIuNzkyLTkzLjI1MiAzNjAuNjY2LTIzMS4wMDYgNDQ4ek0xNjAgMGMwIDE4Ni45MTIgODAuMTYyIDM0NS40MTQgMjI0IDM5Ny43MDh2MTAwLjU4NmMtMTQzLjgzOCA1Mi4yOS0yMjQgMjEwLjc5Mi0yMjQgMzk3LjcwNnYwaDcwNGMwLTE4Ni45MTQtODAuMTYyLTM0NS40MTYtMjI0LTM5Ny43MDZ2LTEwMC41ODZjMTQzLjgzOC01Mi4yOTQgMjI0LTIxMC43OTYgMjI0LTM5Ny43MDhoLTcwNHpNNjE5LjYyNiAyOTAuNDA2Yy03MS42NTQgNDAuNjQ0LTc1LjYwOCA5My4zNjgtNzUuNjI2IDEyNS4zNjZ2NjQuMjI4YzAgMzEuOTk0IDMuODA0IDg0LjkxNCA3NS43NDQgMTI1LjY2NCAzOC41MDQgMjIuMzY0IDcxLjgwOCA1Ni4zNDggOTcuMDQ4IDk4LjMzNmgtNDA5LjU4MmMyNS4yNjYtNDIuMDMyIDU4LjYxMi03Ni4wNDIgOTcuMTY2LTk4LjQwNiA3MS42NTQtNDAuNjQ0IDc1LjYwNi05My4zNjYgNzUuNjI2LTEyNS4zNjZ2LTY0LjIyOGMwLTMxLjk5Mi0zLjgwNC04NC45MTQtNzUuNzQ0LTEyNS42NjQtNzIuNjIyLTQyLjE4LTEyNi43MzgtMTI1LjY4NC0xNDMuMDkwLTIyNi4zMzZoNTAxLjY3Yy0xNi4zNjQgMTAwLjcwOC03MC41MyAxODQuMjQ4LTE0My4yMTIgMjI2LjQwNnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOThkOyIgZ2x5cGgtbmFtZT0ia2V5IiBkPSJNNzA0IDk2MGMtMTc2LjczIDAtMzIwLTE0My4yNjgtMzIwLTMyMCAwLTIwLjAyNiAxLjg1OC0zOS42MTYgNS4zNzYtNTguNjI0bC0zODkuMzc2LTM4OS4zNzZ2LTE5MmMwLTM1LjM0NiAyOC42NTQtNjQgNjQtNjRoNjR2NjRoMTI4djEyOGgxMjh2MTI4aDEyOGw4My4wNDIgODMuMDQyYzM0LjAxMC0xMi4zMTYgNzAuNjk2LTE5LjA0MiAxMDguOTU4LTE5LjA0MiAxNzYuNzMgMCAzMjAgMTQzLjI2OCAzMjAgMzIwcy0xNDMuMjcgMzIwLTMyMCAzMjB6TTc5OS44NzQgNjM5Ljg3NGMtNTMuMDIwIDAtOTYgNDIuOTgtOTYgOTZzNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTYtNDIuOTgtOTYtOTYtOTZ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZTsiIGdseXBoLW5hbWU9ImtleTIiIGQ9Ik0xMDAyLjEzMiA2NDUuNzU4bC0xMDEuMTA2IDEwMS4xMDRjLTI0Ljc5MiAyNC43OTQtNjUuMzcgNjUuMzY4LTkwLjE2MiA5MC4xNjRsLTEwMS4xMDYgMTAxLjEwNGMtMjQuNzkyIDI0Ljc5NC02OC45NTQgMjkuMTY2LTk4LjEzIDkuNzE2bC0yNzYuNDM4LTE4NC4yOTJjLTI5LjE3Ni0xOS40NTItNDAuMjE4LTYxLjAyOC0yNC41MzYtOTIuMzlsNzAuNDg2LTE0MC45NzRjMi4xNTQtNC4zMDYgNC42NDYtOC44OTYgNy4zOS0xMy42NmwtMzU2LjUzLTM1Ni41My0zMi0yMjRoMTkydjY0aDEyOHYxMjhoMTI4djEyOGgxMjh2NzEuMTg2YzYuMzk2LTMuODEyIDEyLjUzNC03LjIxNiAxOC4xOTItMTAuMDQ0bDE0MC45Ny03MC40ODhjMzEuMzY2LTE1LjY4MiA3Mi45NC00LjYzOCA5Mi4zOSAyNC41MzhsMTg0LjI5NCAyNzYuNDRjMTkuNDU0IDI5LjE3MiAxNS4wNzggNzMuMzMtOS43MTQgOTguMTI2ek0xNTAuNjI4IDEwNS4zNzRsLTQ1LjI1NCA0NS4yNTQgMzExLjU3MiAzMTEuNTcgNDUuMjU0LTQ1LjI1NC0zMTEuNTcyLTMxMS41N3pNOTE3LjAyMCA1MzYuMjM2bC00NS4yNTYtNDUuMjU2Yy0xMi40NDYtMTIuNDQ0LTMyLjgwOC0xMi40NDQtNDUuMjU0IDBsLTI3MS41MyAyNzEuNTNjLTEyLjQ0NiAxMi40NDQtMTIuNDQ2IDMyLjgxIDAgNDUuMjU0bDQ1LjI1NiA0NS4yNTZjMTIuNDQ2IDEyLjQ0NCAzMi44MDggMTIuNDQ0IDQ1LjI1NCAwbDI3MS41My0yNzEuNTNjMTIuNDQ2LTEyLjQ0NCAxMi40NDYtMzIuODEgMC00NS4yNTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZjsiIGdseXBoLW5hbWU9ImxvY2siIGQ9Ik01OTIgNTEyaC0xNnYxOTJjMCAxMDUuODctODYuMTMgMTkyLTE5MiAxOTJoLTEyOGMtMTA1Ljg3IDAtMTkyLTg2LjEzLTE5Mi0xOTJ2LTE5MmgtMTZjLTI2LjQgMC00OC0yMS42LTQ4LTQ4di00ODBjMC0yNi40IDIxLjYtNDggNDgtNDhoNTQ0YzI2LjQgMCA0OCAyMS42IDQ4IDQ4djQ4MGMwIDI2LjQtMjEuNiA0OC00OCA0OHpNMTkyIDcwNGMwIDM1LjI5IDI4LjcxIDY0IDY0IDY0aDEyOGMzNS4yOSAwIDY0LTI4LjcxIDY0LTY0di0xOTJoLTI1NnYxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk5MDsiIGdseXBoLW5hbWU9InVubG9ja2VkIiBkPSJNNzY4IDg5NmMxMDUuODcgMCAxOTItODYuMTMgMTkyLTE5MnYtMTkyaC0xMjh2MTkyYzAgMzUuMjktMjguNzEgNjQtNjQgNjRoLTEyOGMtMzUuMjkgMC02NC0yOC43MS02NC02NHYtMTkyaDE2YzI2LjQgMCA0OC0yMS42IDQ4LTQ4di00ODBjMC0yNi40LTIxLjYtNDgtNDgtNDhoLTU0NGMtMjYuNCAwLTQ4IDIxLjYtNDggNDh2NDgwYzAgMjYuNCAyMS42IDQ4IDQ4IDQ4aDQwMHYxOTJjMCAxMDUuODcgODYuMTMgMTkyIDE5MiAxOTJoMTI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZDc7IiBnbHlwaC1uYW1lPSJzdGFyLWVtcHR5IiBkPSJNMTAyNCA1NjIuOTVsLTM1My43OCA1MS40MDgtMTU4LjIyIDMyMC41ODItMTU4LjIxNi0zMjAuNTgyLTM1My43ODQtNTEuNDA4IDI1Ni0yNDkuNTM4LTYwLjQzMi0zNTIuMzUyIDMxNi40MzIgMTY2LjM1OCAzMTYuNDMyLTE2Ni4zNTgtNjAuNDM0IDM1Mi4zNTIgMjU2LjAwMiAyNDkuNTM4ek01MTIgMjA2LjUwMmwtMjIzLjQ2Mi0xMTcuNDggNDIuNjc2IDI0OC44My0xODAuNzg2IDE3Ni4yMjIgMjQ5Ljg0IDM2LjMwNCAxMTEuNzMyIDIyNi4zOTYgMTExLjczNi0yMjYuMzk2IDI0OS44MzYtMzYuMzA0LTE4MC43ODgtMTc2LjIyMiA0Mi42NzgtMjQ4LjgzLTIyMy40NjIgMTE3LjQ4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZGE7IiBnbHlwaC1uYW1lPSJoZWFydCIgZD0iTTc1NS4xODggODk2Yy0xMDcuNjMgMC0yMDAuMjU4LTg3LjU1NC0yNDMuMTY0LTE3OS00Mi45MzggOTEuNDQ0LTEzNS41NzggMTc5LTI0My4yMTYgMTc5LTE0OC4zODIgMC0yNjguODA4LTEyMC40NC0yNjguODA4LTI2OC44MzIgMC0zMDEuODQ2IDMwNC41LTM4MC45OTQgNTEyLjAyMi02NzkuNDE4IDE5Ni4xNTQgMjk2LjU3NiA1MTEuOTc4IDM4Ny4yMDYgNTExLjk3OCA2NzkuNDE4IDAgMTQ4LjM5Mi0xMjAuNDMgMjY4LjgzMi0yNjguODEyIDI2OC44MzJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWE4MjsiIGdseXBoLW5hbWU9InNoYXJlMiIgZD0iTTg2NCAyNTZjLTQ1LjE2IDAtODUuOTItMTguNzM4LTExNS4wMTItNDguODNsLTQzMS4wMDQgMjE1LjUwMmMxLjMxNCA4LjI1MiAyLjAxNiAxNi43MDYgMi4wMTYgMjUuMzI4cy0wLjcwMiAxNy4wNzYtMi4wMTYgMjUuMzI2bDQzMS4wMDQgMjE1LjUwMmMyOS4wOTItMzAuMDkwIDY5Ljg1Mi00OC44MjggMTE1LjAxMi00OC44MjggODguMzY2IDAgMTYwIDcxLjYzNCAxNjAgMTYwcy03MS42MzQgMTYwLTE2MCAxNjAtMTYwLTcxLjYzNC0xNjAtMTYwYzAtOC42MjIgMC43MDQtMTcuMDc2IDIuMDE2LTI1LjMyNmwtNDMxLjAwNC0yMTUuNTA0Yy0yOS4wOTIgMzAuMDkwLTY5Ljg1MiA0OC44My0xMTUuMDEyIDQ4LjgzLTg4LjM2NiAwLTE2MC03MS42MzYtMTYwLTE2MCAwLTg4LjM2OCA3MS42MzQtMTYwIDE2MC0xNjAgNDUuMTYgMCA4NS45MiAxOC43MzggMTE1LjAxMiA0OC44MjhsNDMxLjAwNC0yMTUuNTAyYy0xLjMxMi04LjI1LTIuMDE2LTE2LjcwNC0yLjAxNi0yNS4zMjYgMC04OC4zNjggNzEuNjM0LTE2MCAxNjAtMTYwczE2MCA3MS42MzIgMTYwIDE2MGMwIDg4LjM2NC03MS42MzQgMTYwLTE2MCAxNjB6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==\"},function(A,e){A.exports=\"data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SB4UAAAC8AAAAYGNtYXC8MXsbAAABHAAAAJRnYXNwAAAAEAAAAbAAAAAIZ2x5ZozOXvoAAAG4AAAHDGhlYWQLPDiPAAAIxAAAADZoaGVhB8ID0QAACPwAAAAkaG10eDYAAEAAAAkgAAAAQGxvY2ENfAvMAAAJYAAAACJtYXhwABoAWgAACYQAAAAgbmFtZZlKCfsAAAmkAAABhnBvc3QAAwAAAAALLAAAACAAAwPZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADqggPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAeAAAABoAEAADAAoAAQAg6Q3pD+kT6U7peemQ6dfp2uqC//3//wAAAAAAIOkN6Q/pE+lO6XnpjenX6drqgv/9//8AAf/jFvcW9hbzFrkWjxZ8FjYWNBWNAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAABAAAAAAEAANAABMAKwA/AEMAAAEUHgIzMj4CNTQuAiMiDgIBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIi4CNTQ+AjMyHgIVFA4CASM1MwEwIThMKytMOCEhOEwrK0w4IQKQ4AwkMP8AMCQM4BomJhoDgBomJv4mO2dNLS1NZzs7Z00tLU1nAYWAgAFgK0w4ISE4TCsrTDghIThMATUwUFAwJhr9wBomJhoCQBom/YQtTWc7O2dNLS1NZzs7Z00tAbxAAAkAAABABAADQAADAAcACwAPABMAFwAbAB8AIgAAExEhEQEjNTM1IzUzNSM1MwEhESETIzUzNSM1MzUjNTMFESUABAD8wICAgICAgAJA/gACAMCAgICAgID9wAEAA0D9AAMA/UCAgICAgP2AAoD9gICAgICAgP6AwAAAAAADAAD/wAQAA8AABQAZAC0AACUnETMVFwMiDgIVFB4CMzI+AjU0LgIDIi4CNTQ+AjMyHgIVFA4CApPTgK3taruLUFCLu2pqu4tQUIu7alCLaTw8aYtQUItpPDxpi9PSARvlrgKTUIu7amq7i1BQi7tqaruLUPyAPGmLUFCLaTw8aYtQUItpPAAAAwBA/8ADwAPAACIAOwBXAAABPgM1NCYnIQ4BFRQeAhcOAxUUFhchPgE1NC4CJwE0PgI3NS4DNTEhFA4CBxUeAxUDLgE9ATQ2Nz4BNyEeARceAR0BFAYHDgEHIS4BAtk0VT0hAgH8hgECIT1VNDRVPSECAQN6AQIhPVU0/cceOVM2NlM5HgLAHjlTNjZTOR70NhYWNh0xE/5mEzEdNhYWNjZNDAH2DE0BwCFec4ZIECAQECAQSIZzXiEhXnOGSBAgEBAgEEiGc14h/kBGf2hNFGQUTWh/RkZ/aE0UZBRNaH9GASIfRxhAGEcfEDMfIDIQH0cYQBhHHx94S0x3AAAAAAIAAP/ABAADwAAhAC0AAAEiDgIVFBYXARUUFjsBNTM1MzUzNx4BMzI+AjU0LgITIiY1NDYzMhYVFAYCwEJ1VzIDAv57JRtAgICAUxo2HUJ1VzIyV3UeKDg4KCg4OAPAMld1Qg8dD/57wBslQICAUwkKMld1QkJ1VzL+wDgoKDg4KCg4AAMAAP/AA/QDtAAkACkAOQAAAScuAS8BLgEHBQ4BHwEeARcBBzM1MzUzNTM1HgEfARY2NxM2JgEnARcBAQcGIicBJjQ/ATYyFwEWFAPqZRM1EmUTORb+6xYODEYCAwP+myDAgICABQkEjRg2D7gOBfyaLgE4Lf7JAv4tChoJ/vAJCS0KGgkBEAkChmUSNRNlEwUOuA82GI0DBwP+m+BAgIBHAwUCRgwOFgEVFjn99i4BNy3+yAGvLQkJARAJGgotCQn+8AkaAAAAAgAA/8ACgAOAABkAIwAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYlNDY7ATIWHQEhAlAQcU+AT3EQFBwcFAIgFBwc/lwmGoAaJv8AAgDAT3FxT8AcFP4gFBwcFAHgFBzAGiYmGsAAAAAAAQAA/8ADwAOAACMAAAEyFh0BIzU0JisBIgYdATMyFhURFAYjISImNRE0NjMhNTQ2MwMAT3GAJhqAGiYQFBwcFP3gFBwcFAGQcU8DgHFPwMAaJiYawBwU/iAUHBwUAeAUHMBPcQAAAAACAAD/2QQAA6cACgAUAAABJQsBDQEDJQUDJQEHNyc/AR8BBxcEAP6enp7+ngEAPAE8ATw8AQD+AN8qtfpwcPq1KgIzMwFB/r8z+v6gpqYBYPr+nHb5sCTj4ySw+QAAAAABAAD/zAQAA4AAHQAAASIOAgcuAyMiDgIVFB4CFz4DNTQuAgLzKEo/MhAQMj9KKDhiSSpmmbNOSrKbaSpJYgOAHjJBIiJBMh4qSWI4cZ2Om3BvnpCdbThiSSoAAAEAAP/ABAADwAAzAAABIgYHJT4BNTQmJyUeATMyNjU0JiMiBhUUFhcFLgEjIgYVFBYzMjY3BQ4BFRQWMzI2NTQmA2AiOxb+UQEBAQEBrxY7IkJeXkJCXgEB/lEWOyJCXl5CIjsWAa8BAV5CQl5eAQAaF9gGDQYGDQbYFxpeQkJeXkIGDQbYFxpeQkJeGhfYBg0GQl5eQkJeAAAAAAEAAAAAAACuT353Xw889QALBAAAAAAA1A76CQAAAADUDvoJAAD/wAQAA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAACAAAABAAAAAQAAAAEAAAABAAAAAQAAEAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAAKABQAHgBmAMgBBgFKAcoCDAJwAqYC2gMKAzgDhgAAAAEAAAAQAFgACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n},function(A,e){A.exports=\"data:application/font-woff;base64,d09GRgABAAAAAAuYAAsAAAAAC0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIHhWNtYXAAAAFoAAAAlAAAAJS8MXsbZ2FzcAAAAfwAAAAIAAAACAAAABBnbHlmAAACBAAABwwAAAcMjM5e+mhlYWQAAAkQAAAANgAAADYLPDiPaGhlYQAACUgAAAAkAAAAJAfCA9FobXR4AAAJbAAAAEAAAABANgAAQGxvY2EAAAmsAAAAIgAAACINfAvMbWF4cAAACdAAAAAgAAAAIAAaAFpuYW1lAAAJ8AAAAYYAAAGGmUoJ+3Bvc3QAAAt4AAAAIAAAACAAAwAAAAMD2QGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6oIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAHgAAAAaABAAAwAKAAEAIOkN6Q/pE+lO6XnpkOnX6drqgv/9//8AAAAAACDpDekP6RPpTul56Y3p1+na6oL//f//AAH/4xb3FvYW8xa5Fo8WfBY2FjQVjQADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAQAAAAABAADQAATACsAPwBDAAABFB4CMzI+AjU0LgIjIg4CASMuASMhIgYHIyIGFREUFjMhMjY1ETQmASIuAjU0PgIzMh4CFRQOAgEjNTMBMCE4TCsrTDghIThMKytMOCECkOAMJDD/ADAkDOAaJiYaA4AaJib+JjtnTS0tTWc7O2dNLS1NZwGFgIABYCtMOCEhOEwrK0w4ISE4TAE1MFBQMCYa/cAaJiYaAkAaJv2ELU1nOztnTS0tTWc7O2dNLQG8QAAJAAAAQAQAA0AAAwAHAAsADwATABcAGwAfACIAABMRIREBIzUzNSM1MzUjNTMBIREhEyM1MzUjNTM1IzUzBRElAAQA/MCAgICAgIACQP4AAgDAgICAgICA/cABAANA/QADAP1AgICAgID9gAKA/YCAgICAgID+gMAAAAAAAwAA/8AEAAPAAAUAGQAtAAAlJxEzFRcDIg4CFRQeAjMyPgI1NC4CAyIuAjU0PgIzMh4CFRQOAgKT04Ct7Wq7i1BQi7tqaruLUFCLu2pQi2k8PGmLUFCLaTw8aYvT0gEb5a4Ck1CLu2pqu4tQUIu7amq7i1D8gDxpi1BQi2k8PGmLUFCLaTwAAAMAQP/AA8ADwAAiADsAVwAAAT4DNTQmJyEOARUUHgIXDgMVFBYXIT4BNTQuAicBND4CNzUuAzUxIRQOAgcVHgMVAy4BPQE0Njc+ATchHgEXHgEdARQGBw4BByEuAQLZNFU9IQIB/IYBAiE9VTQ0VT0hAgEDegECIT1VNP3HHjlTNjZTOR4CwB45UzY2Uzke9DYWFjYdMRP+ZhMxHTYWFjY2TQwB9gxNAcAhXnOGSBAgEBAgEEiGc14hIV5zhkgQIBAQIBBIhnNeIf5ARn9oTRRkFE1of0ZGf2hNFGQUTWh/RgEiH0cYQBhHHxAzHyAyEB9HGEAYRx8feEtMdwAAAAACAAD/wAQAA8AAIQAtAAABIg4CFRQWFwEVFBY7ATUzNTM1MzceATMyPgI1NC4CEyImNTQ2MzIWFRQGAsBCdVcyAwL+eyUbQICAgFMaNh1CdVcyMld1Hig4OCgoODgDwDJXdUIPHQ/+e8AbJUCAgFMJCjJXdUJCdVcy/sA4KCg4OCgoOAADAAD/wAP0A7QAJAApADkAAAEnLgEvAS4BBwUOAR8BHgEXAQczNTM1MzUzNR4BHwEWNjcTNiYBJwEXAQEHBiInASY0PwE2MhcBFhQD6mUTNRJlEzkW/usWDgxGAgMD/psgwICAgAUJBI0YNg+4DgX8mi4BOC3+yQL+LQoaCf7wCQktChoJARAJAoZlEjUTZRMFDrgPNhiNAwcD/pvgQICARwMFAkYMDhYBFRY5/fYuATct/sgBry0JCQEQCRoKLQkJ/vAJGgAAAAIAAP/AAoADgAAZACMAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmJTQ2OwEyFh0BIQJQEHFPgE9xEBQcHBQCIBQcHP5cJhqAGib/AAIAwE9xcU/AHBT+IBQcHBQB4BQcwBomJhrAAAAAAAEAAP/AA8ADgAAjAAABMhYdASM1NCYrASIGHQEzMhYVERQGIyEiJjURNDYzITU0NjMDAE9xgCYagBomEBQcHBT94BQcHBQBkHFPA4BxT8DAGiYmGsAcFP4gFBwcFAHgFBzAT3EAAAAAAgAA/9kEAAOnAAoAFAAAASULAQ0BAyUFAyUBBzcnPwEfAQcXBAD+np6e/p4BADwBPAE8PAEA/gDfKrX6cHD6tSoCMzMBQf6/M/r+oKamAWD6/px2+bAk4+MksPkAAAAAAQAA/8wEAAOAAB0AAAEiDgIHLgMjIg4CFRQeAhc+AzU0LgIC8yhKPzIQEDI/Sig4YkkqZpmzTkqym2kqSWIDgB4yQSIiQTIeKkliOHGdjptwb56QnW04YkkqAAABAAD/wAQAA8AAMwAAASIGByU+ATU0JiclHgEzMjY1NCYjIgYVFBYXBS4BIyIGFRQWMzI2NwUOARUUFjMyNjU0JgNgIjsW/lEBAQEBAa8WOyJCXl5CQl4BAf5RFjsiQl5eQiI7FgGvAQFeQkJeXgEAGhfYBg0GBg0G2BcaXkJCXl5CBg0G2BcaXkJCXhoX2AYNBkJeXkJCXgAAAAABAAAAAAAArk9+d18PPPUACwQAAAAAANQO+gkAAAAA1A76CQAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAACgAUAB4AZgDIAQYBSgHKAgwCcAKmAtoDCgM4A4YAAAABAAAAEABYAAkAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"},function(A,e){A.exports=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjY0IiBoZWlnaHQ9Ijg4IiB2aWV3Qm94PSIwIDAgMjY0IDg4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0aXRsZT5kZWZhdWx0LXNraW4gMjwvdGl0bGU+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Zz48cGF0aCBkPSJNNjcuMDAyIDU5LjV2My43NjhjLTYuMzA3Ljg0LTkuMTg0IDUuNzUtMTAuMDAyIDkuNzMyIDIuMjItMi44MyA1LjU2NC01LjA5OCAxMC4wMDItNS4wOThWNzEuNUw3MyA2NS41ODUgNjcuMDAyIDU5LjV6IiBpZD0iU2hhcGUiIGZpbGw9IiNmZmYiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTMgMjl2LTVoMnYzaDN2MmgtNXpNMTMgMTVoNXYyaC0zdjNoLTJ2LTV6TTMxIDE1djVoLTJ2LTNoLTN2LTJoNXpNMzEgMjloLTV2LTJoM3YtM2gydjV6IiBpZD0iU2hhcGUiLz48L2c+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTYyIDI0djVoLTJ2LTNoLTN2LTJoNXpNNjIgMjBoLTV2LTJoM3YtM2gydjV6TTcwIDIwdi01aDJ2M2gzdjJoLTV6TTcwIDI0aDV2MmgtM3YzaC0ydi01eiIvPjwvZz48cGF0aCBkPSJNMjAuNTg2IDY2bC01LjY1Ni01LjY1NiAxLjQxNC0xLjQxNEwyMiA2NC41ODZsNS42NTYtNS42NTYgMS40MTQgMS40MTRMMjMuNDE0IDY2bDUuNjU2IDUuNjU2LTEuNDE0IDEuNDE0TDIyIDY3LjQxNGwtNS42NTYgNS42NTYtMS40MTQtMS40MTRMMjAuNTg2IDY2eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMTEuNzg1IDY1LjAzTDExMCA2My41bDMtMy41aC0xMHYtMmgxMGwtMy0zLjUgMS43ODUtMS40NjhMMTE3IDU5bC01LjIxNSA2LjAzeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNTIuMjE1IDY1LjAzTDE1NCA2My41bC0zLTMuNWgxMHYtMmgtMTBsMy0zLjUtMS43ODUtMS40NjhMMTQ3IDU5bDUuMjE1IDYuMDN6IiBmaWxsPSIjZmZmIi8+PGc+PHBhdGggaWQ9IlJlY3RhbmdsZS0xMSIgZmlsbD0iI2ZmZiIgZD0iTTE2MC45NTcgMjguNTQzbC0zLjI1LTMuMjUtMS40MTMgMS40MTQgMy4yNSAzLjI1eiIvPjxwYXRoIGQ9Ik0xNTIuNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIGlkPSJPdmFsLTEiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTUwIDIxaDV2MWgtNXoiLz48L2c+PGc+PHBhdGggZD0iTTExNi45NTcgMjguNTQzbC0xLjQxNCAxLjQxNC0zLjI1LTMuMjUgMS40MTQtMS40MTQgMy4yNSAzLjI1eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMDguNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA2IDIxaDV2MWgtNXoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA5LjA0MyAxOS4wMDhsLS4wODUgNS0xLS4wMTcuMDg1LTV6Ii8+PC9nPjwvZz48L2c+PC9zdmc+\"}]);","date":"2017-07-31T09:38:38.663Z","updated":"2017-07-31T03:26:45.603Z","path":"assets/dist/main.js","layout":"false","title":"","comments":1,"_id":"cj63dx7uf000jzwv3bfqvzrpj","content":"!function(A){function e(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return A[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=A,e.c=t,e.p=\"./\",e(0)}([function(A,e,t){t(17),t(16),t(15);var o=t(7),i=t(4);window.lazy=i({container:document.getElementsByTagName(\"body\")[0]}),window.onload=function(){o.init()}},function(A,e){A.exports=function(){var A=[];return A.toString=function(){for(var A=[],e=0;e<this.length;e++){var t=\"this[e];t[2]?A.push(\"@media\" \"+t[2]+\"{\"+t[1]+\"}\"):a.push(t[1])}return=\"\" a.join(\"\")},a.i=\"function(e,t){\"string\"==typeof\" e&&(e=\"[[null,e,\"\"]]);for(var\" o=\"{},i=0;i<this.length;i++){var\" n=\"this[i][0];\"number\"==typeof\" n&&(o[n]=\"!0)}for(i=0;i<e.length;i++){var\" a=\"e[i];\"number\"==typeof\" a[0]&&o[a[0]]||(t&&!a[2]?a[2]=\"t:t&&(a[2]=\"(\"+a[2]+\")\" and=\"\" (\"+t+\")\"),a.push(a))}},a}},function(a,e,t){function=\"\" o(a,e){for(var=\"\" i(a){for(var=\"\" e=\"[],t={},o=0;o<A.length;o++){var\" i=\"A[o],n=i[0],a=i[1],r=i[2],s=i[3],l={css:a,media:r,sourceMap:s};t[n]?t[n].parts.push(l):e.push(t[n]={id:n,parts:[l]})}return\" e}function=\"\" n(a,e){var=\"\" new=\"\" error(\"invalid=\"\" value=\"\" for=\"\" parameter=\"\" 'insertat'.=\"\" must=\"\" be=\"\" 'top'=\"\" or=\"\" 'bottom'.\");t.appendchild(e)}}function=\"\" a(a){a.parentnode.removechild(a);var=\"\">=0&&h.splice(e,1)}function r(A){var e=document.createElement(\"style\");return e.type=\"text/css\",n(A,e),e}function s(A){var e=document.createElement(\"link\");return e.rel=\"stylesheet\",n(A,e),e}function l(A,e){var t,o,i;if(e.singleton){var n=w++;t=f||(f=r(e)),o=c.bind(null,t,n,!1),i=c.bind(null,t,n,!0)}else A.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(t=s(e),o=p.bind(null,t),i=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),o=u.bind(null,t),i=function(){a(t)});return o(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;o(A=e)}else i()}}function c(A,e,t,o){var i=t?\"\":o.css;if(A.styleSheet)A.styleSheet.cssText=I(e,i);else{var n=document.createTextNode(i),a=A.childNodes;a[e]&&A.removeChild(a[e]),a.length?A.insertBefore(n,a[e]):A.appendChild(n)}}function u(A,e){var t=e.css,o=e.media;if(o&&A.setAttribute(\"media\",o),A.styleSheet)A.styleSheet.cssText=t;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(t))}}function p(A,e){var t=e.css,o=e.sourceMap;o&&(t+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var i=new Blob([t],{type:\"text/css\"}),n=A.href;A.href=URL.createObjectURL(i),n&&URL.revokeObjectURL(n)}var d={},g=function(A){var e;return function(){return\"undefined\"==typeof e&&(e=A.apply(this,arguments)),e}},m=g(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),M=g(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),f=null,w=0,h=[];A.exports=function(A,e){e=e||{},\"undefined\"==typeof e.singleton&&(e.singleton=m()),\"undefined\"==typeof e.insertAt&&(e.insertAt=\"bottom\");var t=i(A);return o(t,e),function(A){for(var n=[],a=0;a<t.length;a++){var 0=\"==e[t]&&(e[t]=A[t]);return\" 2015=\"\" r=\"t[a],s=d[r.id];s.refs--,n.push(s)}if(A){var\" l=\"i(A);o(l,e)}for(var\" a=\"0;a<n.length;a++){var\" s=\"n[a];if(0===s.refs){for(var\" c=\"0;c<s.parts.length;c++)s.parts[c]();delete\" d[s.id]}}}};var=\"\" i=\"function(){var\" function(e,t){return=\"\" a[e]=\"t,A.filter(Boolean).join(\"\\n\")}}()},function(A,e){A.exports=\"data:application/vnd.ms-fontobject;base64,8AsAAEwLAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAd35PrgAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIHhQAAALwAAABgY21hcLwxexsAAAEcAAAAlGdhc3AAAAAQAAABsAAAAAhnbHlmjM5e+gAAAbgAAAcMaGVhZAs8OI8AAAjEAAAANmhoZWEHwgPRAAAI/AAAACRobXR4NgAAQAAACSAAAABAbG9jYQ18C8wAAAlgAAAAIm1heHAAGgBaAAAJhAAAACBuYW1lmUoJ+wAACaQAAAGGcG9zdAADAAAAAAssAAAAIAADA9kBkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOqCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAB4AAAAGgAQAAMACgABACDpDekP6RPpTul56ZDp1+na6oL//f//AAAAAAAg6Q3pD+kT6U7peemN6dfp2uqC//3//wAB/+MW9xb2FvMWuRaPFnwWNhY0FY0AAwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAAAAAAQAA4AAEAAhAC0ANAAAATgBMRE4ATEhOAExETgBMSE1ISIGFREUFjMhMjY1ETQmIwcUBiMiJjU0NjMyFhMhNRMBMzcDwPyAA4D8gBomJhoDgBomJhqAOCgoODgoKDhA/QDgAQBA4ANA/QADAEAmGv0AGiYmGgMAGibgKDg4KCg4OP24gAGA/sDAAAAEAAAAAAQAA0AAEwArAD8AQwAAARQeAjMyPgI1NC4CIyIOAgEjLgEjISIGByMiBhURFBYzITI2NRE0JgEiLgI1ND4CMzIeAhUUDgIBIzUzATAhOEwrK0w4ISE4TCsrTDghApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7Z00tLU1nOztnTS0tTWcBhYCAAWArTDghIThMKytMOCEhOEwBNTBQUDAmGv3AGiYmGgJAGib9hC1NZzs7Z00tLU1nOztnTS0BvEAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAMAAP/ABAADwAAFABkALQAAJScRMxUXAyIOAhUUHgIzMj4CNTQuAgMiLgI1ND4CMzIeAhUUDgICk9OAre1qu4tQUIu7amq7i1BQi7tqUItpPDxpi1BQi2k8PGmL09IBG+WuApNQi7tqaruLUFCLu2pqu4tQ/IA8aYtQUItpPDxpi1BQi2k8AAADAED/wAPAA8AAIgA7AFcAAAE+AzU0JichDgEVFB4CFw4DFRQWFyE+ATU0LgInATQ+Ajc1LgM1MSEUDgIHFR4DFQMuAT0BNDY3PgE3IR4BFx4BHQEUBgcOAQchLgEC2TRVPSECAfyGAQIhPVU0NFU9IQIBA3oBAiE9VTT9xx45UzY2UzkeAsAeOVM2NlM5HvQ2FhY2HTET/mYTMR02FhY2Nk0MAfYMTQHAIV5zhkgQIBAQIBBIhnNeISFec4ZIECAQECAQSIZzXiH+QEZ/aE0UZBRNaH9GRn9oTRRkFE1of0YBIh9HGEAYRx8QMx8gMhAfRxhAGEcfH3hLTHcAAAAAAgAA/8AEAAPAACEALQAAASIOAhUUFhcBFRQWOwE1MzUzNTM3HgEzMj4CNTQuAhMiJjU0NjMyFhUUBgLAQnVXMgMC/nslG0CAgIBTGjYdQnVXMjJXdR4oODgoKDg4A8AyV3VCDx0P/nvAGyVAgIBTCQoyV3VCQnVXMv7AOCgoODgoKDgAAwAA/8AD9AO0ACQAKQA5AAABJy4BLwEuAQcFDgEfAR4BFwEHMzUzNTM1MzUeAR8BFjY3EzYmAScBFwEBBwYiJwEmND8BNjIXARYUA+plEzUSZRM5Fv7rFg4MRgIDA/6bIMCAgIAFCQSNGDYPuA4F/JouATgt/skC/i0KGgn+8AkJLQoaCQEQCQKGZRI1E2UTBQ64DzYYjQMHA/6b4ECAgEcDBQJGDA4WARUWOf32LgE3Lf7IAa8tCQkBEAkaCi0JCf7wCRoAAAACAAD/wAKAA4AAGQAjAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiU0NjsBMhYdASECUBBxT4BPcRAUHBwUAiAUHBz+XCYagBom/wACAMBPcXFPwBwU/iAUHBwUAeAUHMAaJiYawAAAAAABAAD/wAPAA4AAIwAAATIWHQEjNTQmKwEiBh0BMzIWFREUBiMhIiY1ETQ2MyE1NDYzAwBPcYAmGoAaJhAUHBwU/eAUHBwUAZBxTwOAcU/AwBomJhrAHBT+IBQcHBQB4BQcwE9xAAAAAAIAAP/ZBAADpwAKABQAAAElCwENAQMlBQMlAQc3Jz8BHwEHFwQA/p6env6eAQA8ATwBPDwBAP4A3yq1+nBw+rUqAjMzAUH+vzP6/qCmpgFg+v6cdvmwJOPjJLD5AAAAAAEAAP/MBAADgAAdAAABIg4CBy4DIyIOAhUUHgIXPgM1NC4CAvMoSj8yEBAyP0ooOGJJKmaZs05KsptpKkliA4AeMkEiIkEyHipJYjhxnY6bcG+ekJ1tOGJJKgAAAQAA/8AEAAPAADMAAAEiBgclPgE1NCYnJR4BMzI2NTQmIyIGFRQWFwUuASMiBhUUFjMyNjcFDgEVFBYzMjY1NCYDYCI7Fv5RAQEBAQGvFjsiQl5eQkJeAQH+URY7IkJeXkIiOxYBrwEBXkJCXl4BABoX2AYNBgYNBtgXGl5CQl5eQgYNBtgXGl5CQl4aF9gGDQZCXl5CQl4AAAAAAQAAAAAAAK5PfndfDzz1AAsEAAAAAADUDvoJAAAAANQO+gkAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAIAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAAAAoAFAAeAGYAyAEGAUoBygIMAnACpgLaAwoDOAOGAAAAAQAAABAAWAAJAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"},function(A,e,t){(function(e){function\" o(a){r.call(l,a)=\"==-1&&l.push(A)}function\" i(a){function=\"\" e(a){var=\"\" e=\"t(A);e&&(A.src=e),A.setAttribute(\"data-lzled\",!0),n[r.call(n,A)]=null}function\" t(e){return\"function\"=\"=typeof\" a.src?a.src(e):e.getattribute(a.src)}function=\"\" i(t){t.onload=\"null,t.removeAttribute(\"onload\"),t.onerror=null,t.removeAttribute(\"onerror\"),r.call(n,t)===-1&&s(t,A,e)}A=a({offset:333,src:\"data-src\",container:!1},A||{}),\"string\"==typeof\" a.src&&o(a.src);var=\"\" n=\"[];return\" i}function=\"\" n(a){var=\"\" t=\"HTML\" +a+\"element\";if(t=\"\" in=\"\" e!=\"!1){var\" o=\"e[t].prototype.getAttribute;e[t].prototype.getAttribute=function(A){if(\"src\"===A){for(var\" e,t=\"0,i=l.length;t<i&&!(e=o.call(this,l[t]));t++);return\" e||o.call(this,a)}return=\"\" o.call(this,a)}}}function=\"\" a(a,e){for(var=\"\" a)void=\"\" e}function=\"\" r(a){for(var=\"\" e}a.exports=\"i;var\" this}())},function(a,e,t){var=\"\" o,i;=\"\" *!=\"\" photoswipe=\"\" default ui=\"\" -=\"\" 4.1.1=\"\" 2015-12-24=\"\" *=\"\" http:=\"\" photoswipe.com=\"\" copyright=\"\" (c)=\"\" dmitry=\"\" semenov;=\"\" !function(n,a){o=\"a,i=\"function\"==typeof\" o?o.call(e,t,e,a):o,!(void=\"\" 0!=\"=i&&(A.exports=i))}(this,function(){\"use\" strict\";var=\"\" t,o,i,n,a,r,s,l,c,u,p,d,g,m,m,f,w,h,i,y=\"this,x=!1,T=!0,b=!0,N={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(A,e){return\" a.title?(e.children[0].innerhtml=\"A.title,!0):(e.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share\" on=\"\" facebook\",url:\"https:=\"\" www.facebook.com=\"\" sharer=\"\" sharer.php?u=\"},{id:\" twitter\",label:\"tweet\",url:\"https:=\"\" twitter.com=\"\" intent=\"\" tweet?text=\"&url=\"},{id:\"pinterest\",label:\"Pin\" it\",url:\"http:=\"\" www.pinterest.com=\"\" pin=\"\" create=\"\" button=\"\" ?url=\"&media=&description=\"},{id:\"download\",label:\"Download\" image\",url:\"\",download:!0}],getimageurlforshare:function(){return=\"\" a.curritem.src||\"\"},getpageurlforshare:function(){return=\"\" window.location.href},gettextforshare:function(){return=\"\" a.curritem.title||\"\"},indexindicatorsep:\"=\"\" \",fitcontrolswidth:1200},d=\"function(A){if(f)return!0;A=A||window.event,M.timeToIdle&&M.mouseUsed&&!c&&Y();for(var\" t,o,i=\"A.target||A.srcElement,n=i.getAttribute(\"class\")||\"\",a=0;a<P.length;a++)t=P[a],t.onTap&&n.indexOf(\"pswp__\"+t.name)\">-1&&(t.onTap(),o=!0);if(o){A.stopPropagation&&A.stopPropagation(),f=!0;var r=e.features.isOldAndroid?600:30;w=setTimeout(function(){f=!1},r)}},C=function(){return!A.likelyTouchDevice||M.mouseUsed||screen.width>M.fitControlsWidth},E=function(A,t,o){e[(o?\"add\":\"remove\")+\"Class\"](A,\"pswp__\"+t)},v=function(){var A=1===M.getNumItemsFn();A!==m&&(E(o,\"ui--one-slide\",A),m=A)},j=function(){E(s,\"share-modal--hidden\",b)},B=function(){return b=!b,b?(e.removeClass(s,\"pswp__share-modal--fade-in\"),setTimeout(function(){b&&j()},300)):(j(),setTimeout(function(){b||e.addClass(s,\"pswp__share-modal--fade-in\")},30)),b||L(),!1},Q=function(e){e=e||window.event;var t=e.target||e.srcElement;return A.shout(\"shareLinkClick\",e,t),!!t.href&&(!!t.hasAttribute(\"download\")||(window.open(t.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),b||B(),!1))},L=function(){for(var A,e,t,o,i,n=\"\",a=0;a<m.sharebuttons.length;a++)a=m.sharebuttons[a],t=m.getimageurlforshare(a),o=m.getpageurlforshare(a),i=m.gettextforshare(a),e=a.url.replace(\"\",encodeuricomponent(o)).replace(\"\",encodeuricomponent(t)).replace(\"\",t).replace(\"\",encodeuricomponent(i)),n+='<a href=\"'+e+'\" target=\"_blank\" class=\"pswp__share--'+A.id+'\" '+(a.download?\"download\":\"\")+\"=\"\">\"+A.label+\"\",M.parseShareButtonOut&&(n=M.parseShareButtonOut(A,n));s.children[0].innerHTML=n,s.children[0].onclick=Q},z=function(A){for(var t=0;t<m.closeelclasses.length;t++)if(e.hasclass(a,\"pswp__\"+m.closeelclasses[t]))return!0},k=0,y=function(){cleartimeout(i),k=0,c&&y.setidle(!1)},o=function(a){a=a?a:window.event;var e=\"A.relatedTarget||A.toElement;e&&\"HTML\"!==e.nodeName||(clearTimeout(I),I=setTimeout(function(){y.setIdle(!0)},M.timeToIdleOutside))},_=function(){M.fullscreenEl&&!e.features.isOldAndroid&&(t||(t=y.getFullscreenAPI()),t?(e.bind(document,t.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(A.template,\"pswp--supports-fs\")):e.removeClass(A.template,\"pswp--supports-fs\"))},U=function(){M.preloaderEl&&(S(!0),u(\"beforeChange\",function(){clearTimeout(g),g=setTimeout(function(){A.currItem&&A.currItem.loading?(!A.allowProgressiveImg()||A.currItem.img&&!A.currItem.img.naturalWidth)&&S(!1):S(!0)},M.loadingIndicatorDelay)}),u(\"imageLoadComplete\",function(e,t){A.currItem===t&&S(!0)}))},S=function(A){d!==A&&(E(p,\"preloader--active\",!A),d=A)},G=function(A){var\" t=\"A.vGap;if(C()){var\" a=\"M.barsSize;if(M.captionEl&&\"auto\"===a.bottom)if(n||(n=e.createEl(\"pswp__caption\" pswp__caption--fake\"),n.appendchild(e.createel(\"pswp__caption__center\")),o.insertbefore(n,i),e.addclass(o,\"pswp__ui--fit\")),m.addcaptionhtmlfn(a,n,!0)){var=\"\" r=\"n.clientHeight;t.bottom=parseInt(r,10)||44}else\" t.bottom=\"a.top;else\" ==\"=a.bottom?0:a.bottom;t.top=a.top}else\" t.top=\"t.bottom=0},F=function(){M.timeToIdle&&u(\"mouseUsed\",function(){e.bind(document,\"mousemove\",Y),e.bind(document,\"mouseout\",O),h=setInterval(function(){k++,2===k&&y.setIdle(!0)},M.timeToIdle/2)})},R=function(){u(\"onVerticalDrag\",function(A){T&&A<.95?y.hideControls():!T&&A\">=.95&&y.showControls()});var A;u(\"onPinchClose\",function(e){T&&e<.9?(y.hidecontrols(),a=!0):a&&!t&&e>.9&&y.showControls()}),u(\"zoomGestureEnded\",function(){A=!1,A&&!T&&y.showControls()})},P=[{name:\"caption\",option:\"captionEl\",onInit:function(A){i=A}},{name:\"share-modal\",option:\"shareEl\",onInit:function(A){s=A},onTap:function(){B()}},{name:\"button--share\",option:\"shareEl\",onInit:function(A){r=A},onTap:function(){B()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:A.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(A){a=A}},{name:\"button--close\",option:\"closeEl\",onTap:A.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:A.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:A.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){t.isFullscreen()?t.exit():t.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(A){p=A}}],Z=function(){var A,t,i,n=function(o){if(o)for(var n=o.length,a=0;a<n;a++){a=o[a],t=a.classname;for(var r=\"0;r<P.length;r++)i=P[r],t.indexOf(\"pswp__\"+i.name)\">-1&&(M[i.option]?(e.removeClass(A,\"pswp__element--disabled\"),i.onInit&&i.onInit(A)):e.addClass(A,\"pswp__element--disabled\"))}};n(o.children);var a=e.getChildByClass(o,\"pswp__top-bar\");a&&n(a.children)};y.init=function(){e.extend(A.options,N,!0),M=A.options,o=e.getChildByClass(A.scrollWrap,\"pswp__ui\"),u=A.listen,R(),u(\"beforeChange\",y.update),u(\"doubleTap\",function(e){var t=A.currItem.initialZoomLevel;A.getZoomLevel()!==t?A.zoomTo(t,e,333):A.zoomTo(M.getDoubleTapZoom(!1,A.currItem),e,333)}),u(\"preventDragEvent\",function(A,e,t){var o=A.target||A.srcElement;o&&o.getAttribute(\"class\")&&A.type.indexOf(\"mouse\")>-1&&(o.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(t.prevent=!1)}),u(\"bindEvents\",function(){e.bind(o,\"pswpTap click\",D),e.bind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),A.likelyTouchDevice||e.bind(A.scrollWrap,\"mouseover\",y.onMouseOver)}),u(\"unbindEvents\",function(){b||B(),h&&clearInterval(h),e.unbind(document,\"mouseout\",O),e.unbind(document,\"mousemove\",Y),e.unbind(o,\"pswpTap click\",D),e.unbind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),e.unbind(A.scrollWrap,\"mouseover\",y.onMouseOver),t&&(e.unbind(document,t.eventK,y.updateFullscreen),t.isFullscreen()&&(M.hideAnimationDuration=0,t.exit()),t=null)}),u(\"destroy\",function(){M.captionEl&&(n&&o.removeChild(n),e.removeClass(i,\"pswp__caption--empty\")),s&&(s.children[0].onclick=null),e.removeClass(o,\"pswp__ui--over-close\"),e.addClass(o,\"pswp__ui--hidden\"),y.setIdle(!1)}),M.showAnimationDuration||e.removeClass(o,\"pswp__ui--hidden\"),u(\"initialZoomIn\",function(){M.showAnimationDuration&&e.removeClass(o,\"pswp__ui--hidden\")}),u(\"initialZoomOut\",function(){e.addClass(o,\"pswp__ui--hidden\")}),u(\"parseVerticalMargin\",G),Z(),M.shareEl&&r&&s&&(b=!0),v(),F(),_(),U()},y.setIdle=function(A){c=A,E(o,\"ui--idle\",A)},y.update=function(){T&&A.currItem?(y.updateIndexIndicator(),M.captionEl&&(M.addCaptionHTMLFn(A.currItem,i),E(i,\"caption--empty\",!A.currItem.title)),x=!0):x=!1,b||B(),v()},y.updateFullscreen=function(o){o&&setTimeout(function(){A.setScrollOffset(0,e.getScrollY())},50),e[(t.isFullscreen()?\"add\":\"remove\")+\"Class\"](A.template,\"pswp--fs\")},y.updateIndexIndicator=function(){M.counterEl&&(a.innerHTML=A.getCurrentIndex()+1+M.indexIndicatorSep+M.getNumItemsFn())},y.onGlobalTap=function(t){t=t||window.event;var o=t.target||t.srcElement;if(!f)if(t.detail&&\"mouse\"===t.detail.pointerType){if(z(o))return void A.close();e.hasClass(o,\"pswp__img\")&&(1===A.getZoomLevel()&&A.getZoomLevel()<=a.curritem.fitratio?m.clicktoclosenonzoomable&&a.close():a.toggledesktopzoom(t.detail.releasepoint))}else 2015=\"\" if(m.taptotogglecontrols&&(t?y.hidecontrols():y.showcontrols()),m.taptoclose&&(e.hasclass(o,\"pswp__img\")||z(o)))return=\"\" void=\"\" a.close()},y.onmouseover=\"function(A){A=A||window.event;var\" e=\"A.target||A.srcElement;E(o,\"ui--over-close\",z(e))},y.hideControls=function(){e.addClass(o,\"pswp__ui--hidden\"),T=!1},y.showControls=function(){T=!0,x||y.update(),e.removeClass(o,\"pswp__ui--hidden\")},y.supportsFullscreen=function(){var\" a=\"document;return!!(A.exitFullscreen||A.mozCancelFullScreen||A.webkitExitFullscreen||A.msExitFullscreen)},y.getFullscreenAPI=function(){var\" e,t=\"document.documentElement,o=\"fullscreenchange\";return\" t.requestfullscreen?e=\"{enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:o}:t.mozRequestFullScreen?e={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+o}:t.webkitRequestFullscreen?e={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+o}:t.msRequestFullscreen&&(e={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),e&&(e.enter=function(){return\" l=\"M.closeOnScroll,M.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?A.template[this.enterK]():void\" a.template[this.enterk](element.allow_keyboard_input)},e.exit=\"function(){return\" m.closeonscroll=\"l,document[this.exitK]()},e.isFullscreen=function(){return\" document[this.elementk]}),e}};return=\"\" a})},function(a,e,t){var=\"\" o,i;=\"\" *!=\"\" photoswipe=\"\" -=\"\" v4.1.1=\"\" 2015-12-24=\"\" *=\"\" http:=\"\" photoswipe.com=\"\" copyright=\"\" (c)=\"\" dmitry=\"\" semenov;=\"\" !function(n,a){o=\"a,i=\"function\"==typeof\" o?o.call(e,t,e,a):o,!(void=\"\" 0!=\"=i&&(A.exports=i))}(this,function(){\"use\" strict\";var=\"\" i=\"{features:null,bind:function(A,e,t,o){var\" \");for(var=\"\" n=\"0;n<e.length;n++)e[n]&&A[i](e[n],t,!1)},isArray:function(A){return\" instanceof=\"\" array},createel:function(a,e){var=\"\" t=\"document.createElement(e||\"div\");return\" a&&(t.classname=\"A),t},getScrollY:function(){var\" regexp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");a.classname=\"A.className.replace(t,\"\" \").replace(=\"\" ^\\s\\s*=\"\" ,\"\").replace(=\"\" \\s\\s*$=\"\" ,\"\")},addclass:function(a,e){i.hasclass(a,e)||(a.classname+=\"(A.className?\"\" \":\"\")+e)},hasclass:function(a,e){return=\"\" a.classname&&new=\"\" regexp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(a.classname)},getchildbyclass:function(a,e){for(var=\"\" t;t=\"t.nextSibling}},arraySearch:function(A,e,t){for(var\" o=\"A.length;o--;)if(A[o][t]===e)return\" o;return-1},extend:function(a,e,t){for(var=\"\" in=\"\" e)if(e.hasownproperty(o)){if(t&&a.hasownproperty(o))continue;a[o]=\"e[o]}},easing:{sine:{out:function(A){return\" math.sin(a*(math.pi=\"\" 2))},inout:function(a){return-(math.cos(math.pi*a)-1)=\"\" 2}},cubic:{out:function(a){return--a*a*a+1}}},detectfeatures:function(){if(i.features)return=\"\" i.features;var=\"\" window,window.requestanimationframe&&(o.raf=\"window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var\" (\\d+)_(\\d+)_?(\\d+)?=\"\" );a&&a.length=\"\">0&&(a=parseInt(a[1],10),a>=1&&8>a&&(o.isOldIOSPhone=!0))}var r=n.match(/Android\\s([0-9\\.]*)/),s=r?r[1]:0;s=parseFloat(s),s>=1&&(4.4>s&&(o.isOldAndroid=!0),o.androidVersion=s),o.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,u=[\"transform\",\"perspective\",\"animationName\"],p=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],d=0;4>d;d++){t=p[d];for(var g=0;3>g;g++)l=u[g],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!o[l]&&c in e&&(o[l]=c);t&&!o.raf&&(t=t.toLowerCase(),o.raf=window[t+\"RequestAnimationFrame\"],o.raf&&(o.caf=window[t+\"CancelAnimationFrame\"]||window[t+\"CancelRequestAnimationFrame\"]))}if(!o.raf){var m=0;o.raf=function(A){var e=(new Date).getTime(),t=Math.max(0,16-(e-m)),o=window.setTimeout(function(){A(e+t)},t);return m=e+t,o},o.caf=function(A){clearTimeout(A)}}return o.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(A,e,t,o){e=e.split(\" \");for(var i,n=(o?\"detach\":\"attach\")+\"Event\",a=function(){t.handleEvent.call(t)},r=0;r<e.length;r++)if(i=e[r])if(\"object\"==typeof t&&t.handleevent){if(o){if(!t[\"oldie\"+i])return!1}else=\"\" t[\"oldie\"+i]=\"a;A[n](\"on\"+i,t[\"oldIE\"+i])}else\" a[n](\"on\"+i,t)});var=\"\" n=\"this,a=25,r=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(A){return\"A\"===A.tagName},getDoubleTapZoom:function(A,e){return\" a?1:e.initialzoomlevel<.7?1:1.33},maxspreadzoom:1.33,modal:!0,scalemode:\"fit\"};i.extend(s,o);var=\"\" l,c,u,p,d,g,m,m,f,w,h,i,y,x,t,b,n,d,c,e,v,j,b,q,l,z,k,y,o,_,u,s,g,f,r,p,z,h,j,w,v,x,k,q,$,aa,ea,ta,oa,ia,na,aa,ra,sa,la,ca,ua=\"function(){return{x:0,y:0}},pA=uA(),dA=uA(),gA=uA(),mA={},MA=0,fA={},wA=uA(),hA=0,IA=!0,yA=[],xA={},TA=!1,bA=function(A,e){i.extend(n,e.publicMethods),yA.push(A)},NA=function(A){var\" e=\"$e();return\" a=\"\">e-1?A-e:0>A?e+A:A},DA={},CA=function(A,e){return DA[A]||(DA[A]=[]),DA[A].push(e)},EA=function(A){var e=DA[A];if(e){var t=Array.prototype.slice.call(arguments);t.shift();for(var o=0;o<e.length;o++)e[o].apply(n,t)}},va=function(){return(new date).gettime()},ja=\"function(A){sA=A,n.bg.style.opacity=A*s.bgOpacity},BA=function(A,e,t,o,i){(!TA||i&&i!==n.currItem)&&(o/=i?i.fitRatio:n.currItem.fitRatio),A[j]=I+e+\"px,\" \"+t+\"px\"+y+\"=\"\" scale(\"+o+\")\"},qa=\"function(A){oA&&(A&&(w\">n.currItem.fitRatio?TA||(ut(n.currItem,!1,!0),TA=!0):TA&&(ut(n.currItem),TA=!1)),BA(oA,gA.x,gA.y,w))},LA=function(A){A.container&&BA(A.container.style,A.initialPosition.x,A.initialPosition.y,A.initialZoomLevel,A)},zA=function(A,e){e[j]=I+A+\"px, 0px\"+y},kA=function(A,e){if(!s.loop&&e){var t=p+(wA.x*MA-A)/wA.x,o=Math.round(A-we.x);(0>t&&o>0||t>=$e()-1&&0>o)&&(A=we.x+o*s.mainScrollEndFriction)}we.x=A,zA(A,d)},YA=function(A,e){var t=he[A]-fA[A];return dA[A]+pA[A]+t-t*(e/h)},OA=function(A,e){A.x=e.x,A.y=e.y,e.id&&(A.id=e.id)},_A=function(A){A.x=Math.round(A.x),A.y=Math.round(A.y)},UA=null,SA=function(){UA&&(i.unbind(document,\"mousemove\",SA),i.addClass(A,\"pswp--has_mouse\"),s.mouseUsed=!0,EA(\"mouseUsed\")),UA=setTimeout(function(){UA=null},100)},GA=function(){i.bind(document,\"keydown\",n),U.transform&&i.bind(n.scrollWrap,\"click\",n),s.mouseUsed||i.bind(document,\"mousemove\",SA),i.bind(window,\"resize scroll\",n),EA(\"bindEvents\")},FA=function(){i.unbind(window,\"resize\",n),i.unbind(window,\"scroll\",f.scroll),i.unbind(document,\"keydown\",n),i.unbind(document,\"mousemove\",SA),U.transform&&i.unbind(n.scrollWrap,\"click\",n),H&&i.unbind(window,m,n),EA(\"unbindEvents\")},RA=function(A,e){var t=rt(n.currItem,mA,A);return e&&(tA=t),t},PA=function(A){return A||(A=n.currItem),A.initialZoomLevel},ZA=function(A){return A||(A=n.currItem),A.w>0?s.maxSpreadZoom:1},HA=function(A,e,t,o){return o===n.currItem.initialZoomLevel?(t[A]=n.currItem.initialPosition[A],!0):(t[A]=YA(A,o),t[A]>e.min[A]?(t[A]=e.min[A],!0):t[A]<e.max[a]&&(t[a]=e.max[a],!0))},ja=function(){if(j){var e=\"U.perspective&&!Q;return\" i=\"translate\" +(e?\"3d(\":\"(\"),void(y=\"U.perspective?\",\" 0px)\":\")\")}j=\"left\" ,i.addclass(a,\"pswp--ie\"),za=\"function(A,e){e.left=A+\"px\"},LA=function(A){var\">1?1:A.fitRatio,t=A.container.style,o=e*A.w,i=e*A.h;t.width=o+\"px\",t.height=i+\"px\",t.left=A.initialPosition.x+\"px\",t.top=A.initialPosition.y+\"px\"},QA=function(){if(oA){var A=oA,e=n.currItem,t=e.fitRatio>1?1:e.fitRatio,o=t*e.w,i=t*e.h;A.width=o+\"px\",A.height=i+\"px\",A.left=gA.x+\"px\",A.top=gA.y+\"px\"}}},WA=function(A){var e=\"\";s.escKey&&27===A.keyCode?e=\"close\":s.arrowKeys&&(37===A.keyCode?e=\"prev\":39===A.keyCode&&(e=\"next\")),e&&(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey||(A.preventDefault?A.preventDefault():A.returnValue=!1,n[e]()))},VA=function(A){A&&(V||W||iA||P)&&(A.preventDefault(),A.stopPropagation())},XA=function(){n.setScrollOffset(0,i.getScrollY())},KA={},qA=0,$A=function(A){KA[A]&&(KA[A].raf&&z(KA[A].raf),qA--,delete KA[A])},Ae=function(A){KA[A]&&$A(A),KA[A]||(qA++,KA[A]={})},ee=function(){for(var A in KA)KA.hasOwnProperty(A)&&$A(A)},te=function(A,e,t,o,i,n,a){var r,s=vA();Ae(A);var l=function(){if(KA[A]){if(r=vA()-s,r>=o)return $A(A),n(t),void(a&&a());n((t-e)*i(r/o)+e),KA[A].raf=L(l)}};l()},oe={shout:EA,listen:CA,viewportSize:mA,options:s,isMainScrollAnimating:function(){return iA},getZoomLevel:function(){return w},getCurrentIndex:function(){return p},isDragging:function(){return H},isZooming:function(){return $},setScrollOffset:function(A,e){fA.x=A,_=fA.y=e,EA(\"updateScrollOffset\",fA)},applyZoomPan:function(A,e,t,o){gA.x=e,gA.y=t,w=A,QA(o)},init:function(){if(!l&&!c){var t;n.framework=i,n.template=A,n.bg=i.getChildByClass(A,\"pswp__bg\"),k=A.className,l=!0,U=i.detectFeatures(),L=U.raf,z=U.caf,j=U.transform,O=U.oldIE,n.scrollWrap=i.getChildByClass(A,\"pswp__scroll-wrap\"),n.container=i.getChildByClass(n.scrollWrap,\"pswp__container\"),d=n.container.style,n.itemHolders=b=[{el:n.container.children[0],wrap:0,index:-1},{el:n.container.children[1],wrap:0,index:-1},{el:n.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display=\"none\",JA(),f={resize:n.updateSize,scroll:XA,keydown:WA,click:VA};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),t=0;t<ya.length;t++)n[\"init\"+ya[t]]();if(e){var a=\"n.ui=new\" e(n,i);a.init()}ea(\"firstupdate\"),p=\"p||s.index||0,(isNaN(p)||0\">p||p>=$e())&&(p=0),n.currItem=qe(p),(U.isOldIOSPhone||U.isOldAndroid)&&(IA=!1),A.setAttribute(\"aria-hidden\",\"false\"),s.modal&&(IA?A.style.position=\"fixed\":(A.style.position=\"absolute\",A.style.top=i.getScrollY()+\"px\")),void 0===_&&(EA(\"initialLayout\"),_=Y=i.getScrollY());var u=\"pswp--open \";for(s.mainClass&&(u+=s.mainClass+\" \"),s.showHideOpacity&&(u+=\"pswp--animate_opacity \"),u+=Q?\"pswp--touch\":\"pswp--notouch\",u+=U.animationName?\" pswp--css_animation\":\"\",u+=U.svg?\" pswp--svg\":\"\",i.addClass(A,u),n.updateSize(),g=-1,hA=null,t=0;r>t;t++)zA((t+g)*wA.x,b[t].el.style);O||i.bind(n.scrollWrap,M,n),CA(\"initialZoomInEnd\",function(){n.setContent(b[0],p-1),n.setContent(b[2],p+1),b[0].el.style.display=b[2].el.style.display=\"block\",s.focus&&A.focus(),GA()}),n.setContent(b[1],p),n.updateCurrItem(),EA(\"afterInit\"),IA||(x=setInterval(function(){qA||H||$||w!==n.currItem.initialZoomLevel||n.updateSize()},1e3)),i.addClass(A,\"pswp--visible\")}},close:function(){l&&(l=!1,c=!0,EA(\"close\"),FA(),et(n.currItem,null,!0,n.destroy))},destroy:function(){EA(\"destroy\"),We&&clearTimeout(We),A.setAttribute(\"aria-hidden\",\"true\"),A.className=k,x&&clearInterval(x),i.unbind(n.scrollWrap,M,n),i.unbind(window,\"scroll\",n),be(),ee(),DA=null},panTo:function(A,e,t){t||(A>tA.min.x?A=tA.min.x:A<ta.max.x&&(a=ta.max.x),e>tA.min.y?e=tA.min.y:e<ta.max.y&&(e=ta.max.y)),ga.x=a,ga.y=e,qa()},handleevent:function(a){a=a||window.event,f[a.type]&&f[a.type](a)},goto:function(a){a=na(a);var e=\"A-p;hA=e,p=A,n.currItem=qe(p),MA-=e,kA(wA.x*MA),ee(),iA=!1,n.updateCurrItem()},next:function(){n.goTo(p+1)},prev:function(){n.goTo(p-1)},updateCurrZoomItem:function(A){if(A&&EA(\"beforeChange\",0),b[1].el.children.length){var\" oa=\"null;tA=n.currItem.bounds,h=w=n.currItem.initialZoomLevel,gA.x=tA.center.x,gA.y=tA.center.y,A&&EA(\"afterChange\")},invalidateCurrItems:function(){T=!0;for(var\" a=\"0;r\">A;A++)b[A].item&&(b[A].item.needsUpdate=!0)},updateCurrItem:function(A){if(0!==hA){var e,t=Math.abs(hA);if(!(A&&2>t)){n.currItem=qe(p),TA=!1,EA(\"beforeChange\",hA),t>=r&&(g+=hA+(hA>0?-r:r),t=r);for(var o=0;t>o;o++)hA>0?(e=b.shift(),b[r-1]=e,g++,zA((g+2)*wA.x,e.el.style),n.setContent(e,p-t+o+1+1)):(e=b.pop(),b.unshift(e),g--,zA(g*wA.x,e.el.style),n.setContent(e,p+t-o-1-1));if(oA&&1===Math.abs(hA)){var i=qe(N);i.initialZoomLevel!==w&&(rt(i,mA),ut(i),LA(i))}hA=0,n.updateCurrZoomItem(),N=p,EA(\"afterChange\")}}},updateSize:function(e){if(!IA&&s.modal){var t=i.getScrollY();if(_!==t&&(A.style.top=t+\"px\",_=t),!e&&xA.x===window.innerWidth&&xA.y===window.innerHeight)return;xA.x=window.innerWidth,xA.y=window.innerHeight,A.style.height=xA.y+\"px\"}if(mA.x=n.scrollWrap.clientWidth,mA.y=n.scrollWrap.clientHeight,XA(),wA.x=mA.x+Math.round(mA.x*s.spacing),wA.y=mA.y,kA(wA.x*MA),EA(\"beforeResize\"),void 0!==g){for(var o,a,l,c=0;r>c;c++)o=b[c],zA((c+g)*wA.x,o.el.style),l=p+c-1,s.loop&&$e()>2&&(l=NA(l)),a=qe(l),a&&(T||a.needsUpdate||!a.bounds)?(n.cleanSlide(a),n.setContent(o,l),1===c&&(n.currItem=a,n.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===o.index&&l>=0&&n.setContent(o,l),a&&a.container&&(rt(a,mA),ut(a),LA(a));T=!1}h=w=n.currItem.initialZoomLevel,tA=n.currItem.bounds,tA&&(gA.x=tA.center.x,gA.y=tA.center.y,QA(!0)),EA(\"resize\")},zoomTo:function(A,e,t,o,n){e&&(h=w,he.x=Math.abs(e.x)-gA.x,he.y=Math.abs(e.y)-gA.y,OA(dA,gA));var a=RA(A,!1),r={};HA(\"x\",a,r,A),HA(\"y\",a,r,A);var s=w,l={x:gA.x,y:gA.y};_A(r);var c=function(e){1===e?(w=A,gA.x=r.x,gA.y=r.y):(w=(A-s)*e+s,gA.x=(r.x-l.x)*e+l.x,gA.y=(r.y-l.y)*e+l.y),n&&n(e),QA(1===e)};t?te(\"customZoomTo\",0,1,t,o||i.easing.sine.inOut,c):c(1)}},ie=30,ne=10,ae={},re={},se={},le={},ce={},ue=[],pe={},de=[],ge={},me=0,Me=uA(),fe=0,we=uA(),he=uA(),Ie=uA(),ye=function(A,e){return A.x===e.x&&A.y===e.y},xe=function(A,e){return Math.abs(A.x-e.x)<a&&math.abs(a.y-e.y)<a},te=function(a,e){return ge.x=\"Math.abs(A.x-e.x),ge.y=Math.abs(A.y-e.y),Math.sqrt(ge.x*ge.x+ge.y*ge.y)},be=function(){X&&(z(X),X=null)},Ne=function(){H&&(X=L(Ne),Ge())},De=function(){return!(\"fit\"===s.scaleMode&&w===n.currItem.initialZoomLevel)},Ce=function(A,e){return!(!A||A===document)&&(!(A.getAttribute(\"class\")&&A.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")\">-1)&&(e(A)?A:Ce(A.parentNode,e)))},Ee={},ve=function(A,e){return Ee.prevent=!Ce(A.target,s.isClickableElement),EA(\"preventDragEvent\",A,e,Ee),Ee.prevent},je=function(A,e){return e.x=A.pageX,e.y=A.pageY,e.id=A.identifier,e},Be=function(A,e,t){t.x=.5*(A.x+e.x),t.y=.5*(A.y+e.y)},Qe=function(A,e,t){if(A-G>50){var o=de.length>2?de.shift():{};o.x=e,o.y=t,de.push(o),G=A}},Le=function(){var A=gA.y-n.currItem.initialPosition.y;return 1-Math.abs(A/(mA.y/2))},ze={},ke={},Ye=[],Oe=function(A){for(;Ye.length>0;)Ye.pop();return B?(cA=0,ue.forEach(function(A){0===cA?Ye[0]=A:1===cA&&(Ye[1]=A),cA++})):A.type.indexOf(\"touch\")>-1?A.touches&&A.touches.length>0&&(Ye[0]=je(A.touches[0],ze),A.touches.length>1&&(Ye[1]=je(A.touches[1],ke))):(ze.x=A.pageX,ze.y=A.pageY,ze.id=\"\",Ye[0]=ze),Ye},_e=function(A,e){var t,o,i,a,r=0,l=gA[A]+e[A],c=e[A]>0,u=we.x+e.x,p=we.x-pe.x;return t=l>tA.min[A]||l<ta.max[a]?s.panendfriction:1,l=ga[a]+e[a]*t,!s.allowpantonext&&w!==n.curritem.initialzoomlevel||(oa?\"h\"!==na||\"x\"!==a||w||(c?(l>tA.min[A]&&(t=s.panEndFriction,r=tA.min[A]-l,o=tA.min[A]-dA[A]),(0>=o||0>p)&&$e()>1?(a=u,0>p&&u>pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l)):(l<ta.max[a]&&(t=s.panendfriction,r=l-ta.max[a],o=da[a]-ta.max[a]),(0>=o||p>0)&&$e()>1?(a=u,p>0&&u<pe.x&&(a=pe.x)):ta.min.x!==ta.max.x&&(i=l))):a=u,\"x\"!==a)?void(ia||k||w>n.currItem.fitRatio&&(gA[A]+=e[A]*t)):(void 0!==a&&(kA(a,!0),K=a!==pe.x),tA.min.x!==tA.max.x&&(void 0!==i?gA.x=i:K||(gA.x+=e.x*t)),void 0!==a)},Ue=function(A){if(!(\"mousedown\"===A.type&&A.button>0)){if(Ke)return void A.preventDefault();if(!Z||\"mousedown\"!==A.type){if(ve(A,!0)&&A.preventDefault(),EA(\"pointerDown\"),B){var e=i.arraySearch(ue,A.pointerId,\"id\");0>e&&(e=ue.length),ue[e]={x:A.pageX,y:A.pageY,id:A.pointerId}}var t=Oe(A),o=t.length;q=null,ee(),H&&1!==o||(H=aA=!0,i.bind(window,m,n),R=lA=rA=P=K=V=J=W=!1,nA=null,EA(\"firstTouchStart\",t),OA(dA,gA),pA.x=pA.y=0,OA(le,t[0]),OA(ce,le),pe.x=wA.x*MA,de=[{x:le.x,y:le.y}],G=S=vA(),RA(w,!0),be(),Ne()),!$&&o>1&&!iA&&!K&&(h=w,W=!1,$=J=!0,pA.y=pA.x=0,OA(dA,gA),OA(ae,t[0]),OA(re,t[1]),Be(ae,re,Ie),he.x=Math.abs(Ie.x)-gA.x,he.y=Math.abs(Ie.y)-gA.y,AA=eA=Te(ae,re))}}},Se=function(A){if(A.preventDefault(),B){var e=i.arraySearch(ue,A.pointerId,\"id\");if(e>-1){var t=ue[e];t.x=A.pageX,t.y=A.pageY}}if(H){var o=Oe(A);if(nA||V||$)q=o;else if(we.x!==wA.x*MA)nA=\"h\";else{var n=Math.abs(o[0].x-le.x)-Math.abs(o[0].y-le.y);Math.abs(n)>=ne&&(nA=n>0?\"h\":\"v\",q=o)}}},Ge=function(){if(q){var A=q.length;if(0!==A)if(OA(ae,q[0]),se.x=ae.x-le.x,se.y=ae.y-le.y,$&&A>1){if(le.x=ae.x,le.y=ae.y,!se.x&&!se.y&&ye(q[1],re))return;OA(re,q[1]),W||(W=!0,EA(\"zoomGestureStarted\"));var e=Te(ae,re),t=He(e);t>n.currItem.initialZoomLevel+n.currItem.initialZoomLevel/15&&(lA=!0);var o=1,i=PA(),a=ZA();if(i>t)if(s.pinchToClose&&!lA&&h<=n.curritem.initialzoomlevel){var r=\"i-t,l=1-r/(i/1.2);jA(l),EA(\"onPinchClose\",l),rA=!0}else\" o=\"(i-t)/i,o\">1&&(o=1),t=i-o*(i/3);else t>a&&(o=(t-a)/(6*i),o>1&&(o=1),t=a+o*i);0>o&&(o=0),AA=e,Be(ae,re,Me),pA.x+=Me.x-Ie.x,pA.y+=Me.y-Ie.y,OA(Ie,Me),gA.x=YA(\"x\",t),gA.y=YA(\"y\",t),R=t>w,w=t,QA()}else{if(!nA)return;if(aA&&(aA=!1,Math.abs(se.x)>=ne&&(se.x-=q[0].x-ce.x),Math.abs(se.y)>=ne&&(se.y-=q[0].y-ce.y)),le.x=ae.x,le.y=ae.y,0===se.x&&0===se.y)return;if(\"v\"===nA&&s.closeOnVerticalDrag&&!De()){pA.y+=se.y,gA.y+=se.y;var c=Le();return P=!0,EA(\"onVerticalDrag\",c),jA(c),void QA()}Qe(vA(),ae.x,ae.y),V=!0,tA=n.currItem.bounds;var u=_e(\"x\",se);u||(_e(\"y\",se),_A(gA),QA())}}},Fe=function(A){if(U.isOldAndroid){if(Z&&\"mouseup\"===A.type)return;A.type.indexOf(\"touch\")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}EA(\"pointerUp\"),ve(A,!1)&&A.preventDefault();var e;if(B){var t=i.arraySearch(ue,A.pointerId,\"id\");if(t>-1)if(e=ue.splice(t,1)[0],navigator.pointerEnabled)e.type=A.pointerType||\"mouse\";else{var o={4:\"mouse\",2:\"touch\",3:\"pen\"};e.type=o[A.pointerType],e.type||(e.type=A.pointerType||\"mouse\")}}var a,r=Oe(A),l=r.length;if(\"mouseup\"===A.type&&(l=0),2===l)return q=null,!0;1===l&&OA(ce,r[0]),0!==l||nA||iA||(e||(\"mouseup\"===A.type?e={x:A.pageX,y:A.pageY,type:\"mouse\"}:A.changedTouches&&A.changedTouches[0]&&(e={x:A.changedTouches[0].pageX,y:A.changedTouches[0].pageY,type:\"touch\"})),EA(\"touchRelease\",A,e));var c=-1;if(0===l&&(H=!1,i.unbind(window,m,n),be(),$?c=0:-1!==fe&&(c=vA()-fe)),fe=1===l?vA():-1,a=-1!==c&&150>c?\"zoom\":\"swipe\",$&&2>l&&($=!1,1===l&&(a=\"zoomPointerUp\"),EA(\"zoomGestureEnded\")),q=null,V||W||iA||P)if(ee(),F||(F=Re()),F.calculateSwipeSpeed(\"x\"),P){var u=Le();if(u<s.verticaldragrange)n.close();else{var p=\"gA.y,d=sA;te(\"verticalDrag\",0,1,300,i.easing.cubic.out,function(A){gA.y=(n.currItem.initialPosition.y-p)*A+p,jA((1-d)*A+d),QA()}),EA(\"onVerticalDrag\",1)}}else{if((K||iA)&&0===l){var\" g=\"Ze(a,F);if(g)return;a=\"zoomPointerUp\"}if(!iA)return\"swipe\"!==a?void\" je():void(!k&&w=\"\">n.currItem.fitRatio&&Pe(F))}},Re=function(){var A,e,t={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){de.length>1?(A=vA()-G+50,e=de[de.length-2][o]):(A=vA()-S,e=ce[o]),t.lastFlickOffset[o]=le[o]-e,t.lastFlickDist[o]=Math.abs(t.lastFlickOffset[o]),t.lastFlickDist[o]>20?t.lastFlickSpeed[o]=t.lastFlickOffset[o]/A:t.lastFlickSpeed[o]=0,Math.abs(t.lastFlickSpeed[o])<.1&&(t.lastflickspeed[o]=0),t.slowdownratio[o]=.95,t.slowdownratioreverse[o]=1-t.slowdownratio[o],t.speeddecelerationratio[o]=1},calculateoverboundsanimoffset:function(a,e){t.backanimstarted[a]||(ga[a]>tA.min[A]?t.backAnimDestination[A]=tA.min[A]:gA[A]<ta.max[a]&&(t.backanimdestination[a]=ta.max[a]),void 0!=\"=t.backAnimDestination[A]&&(t.slowDownRatio[A]=.7,t.slowDownRatioReverse[A]=1-t.slowDownRatio[A],t.speedDecelerationRatioAbs[A]<.05&&(t.lastFlickSpeed[A]=0,t.backAnimStarted[A]=!0,te(\"bounceZoomPan\"+A,gA[A],t.backAnimDestination[A],e||300,i.easing.sine.out,function(e){gA[A]=e,QA()}))))},calculateAnimOffset:function(A){t.backAnimStarted[A]||(t.speedDecelerationRatio[A]=t.speedDecelerationRatio[A]*(t.slowDownRatio[A]+t.slowDownRatioReverse[A]-t.slowDownRatioReverse[A]*t.timeDiff/10),t.speedDecelerationRatioAbs[A]=Math.abs(t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]),t.distanceOffset[A]=t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]*t.timeDiff,gA[A]+=t.distanceOffset[A])},panAnimLoop:function(){return\" ka.zoompan&&(ka.zoompan.raf=\"L(t.panAnimLoop),t.now=vA(),t.timeDiff=t.now-t.lastNow,t.lastNow=t.now,t.calculateAnimOffset(\"x\"),t.calculateAnimOffset(\"y\"),QA(),t.calculateOverBoundsAnimOffset(\"x\"),t.calculateOverBoundsAnimOffset(\"y\"),t.speedDecelerationRatioAbs.x<.05&&t.speedDecelerationRatioAbs.y<.05)?(gA.x=Math.round(gA.x),gA.y=Math.round(gA.y),QA(),void\" $a(\"zoompan\")):void=\"\" 0}};return=\"\" t},pe=\"function(A){return\" a.calculateswipespeed(\"y\"),ta=\"n.currItem.bounds,A.backAnimDestination={},A.backAnimStarted={},Math.abs(A.lastFlickSpeed.x)<=.05&&Math.abs(A.lastFlickSpeed.y)<=.05?(A.speedDecelerationRatioAbs.x=A.speedDecelerationRatioAbs.y=0,A.calculateOverBoundsAnimOffset(\"x\"),A.calculateOverBoundsAnimOffset(\"y\"),!0):(Ae(\"zoomPan\"),A.lastNow=vA(),void\" a.pananimloop())},ze=\"function(A,e){var\" t;ia||(me=\"p);var\" o;if(\"swipe\"=\"==A){var\" a=\"le.x-ce.x,r=e.lastFlickDist.x<10;a\">ie&&(r||e.lastFlickOffset.x>20)?o=-1:-ie>a&&(r||e.lastFlickOffset.x<-20)&&(o=1)}var l;o&&(p+=\"o,0\">p?(p=s.loop?$e()-1:0,l=!0):p>=$e()&&(p=s.loop?0:$e()-1,l=!0),(!l||s.loop)&&(hA+=o,MA-=o,t=!0));var c,u=wA.x*MA,d=Math.abs(u-we.x);return t||u>we.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,me===p&&(t=!1),iA=!0,EA(\"mainScrollAnimStart\"),te(\"mainScroll\",we.x,u,c,i.easing.cubic.out,kA,function(){ee(),iA=!1,me=-1,(t||me!==p)&&n.updateCurrItem(),EA(\"mainScrollAnimComplete\")}),t&&n.updateCurrItem(!0),t},He=function(A){return 1/eA*A*h},Je=function(){var A=w,e=PA(),t=ZA();e>w?A=e:w>t&&(A=t);var o,a=1,r=sA;return rA&&!R&&!lA&&e>w?(n.close(),!0):(rA&&(o=function(A){jA((a-r)*A+r)}),n.zoomTo(A,0,200,i.easing.cubic.out,o),!0)};bA(\"Gestures\",{publicMethods:{initGestures:function(){var A=function(A,e,t,o,i){D=A+e,C=A+t,E=A+o,v=i?A+i:\"\"};B=U.pointerEvent,B&&U.touch&&(U.touch=!1),B?navigator.pointerEnabled?A(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):A(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):U.touch?(A(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),Q=!0):A(\"mouse\",\"down\",\"move\",\"up\"),m=C+\" \"+E+\" \"+v,M=D,B&&!Q&&(Q=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),n.likelyTouchDevice=Q,f[D]=Ue,f[C]=Se,f[E]=Fe,v&&(f[v]=f[E]),U.touch&&(M+=\" mousedown\",m+=\" mousemove mouseup\",f.mousedown=f[D],f.mousemove=f[C],f.mouseup=f[E]),Q||(s.allowPanToNext=!1)}}});var We,Ve,Xe,Ke,qe,$e,At,et=function(e,t,o,a){We&&clearTimeout(We),Ke=!0,Xe=!0;var r;e.initialLayout?(r=e.initialLayout,e.initialLayout=null):r=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var l=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){$A(\"initialZoom\"),o?(n.template.removeAttribute(\"style\"),n.bg.removeAttribute(\"style\")):(jA(1),t&&(t.style.display=\"block\"),i.addClass(A,\"pswp--animated-in\"),EA(\"initialZoom\"+(o?\"OutEnd\":\"InEnd\"))),a&&a(),Ke=!1};if(!l||!r||void 0===r.x)return EA(\"initialZoom\"+(o?\"Out\":\"In\")),w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),A.style.opacity=o?0:1,jA(1),void(l?setTimeout(function(){c()},l):c());var d=function(){var t=u,a=!n.currItem.src||n.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility=\"hidden\"),o||(w=r.w/e.w,gA.x=r.x,gA.y=r.y-Y,n[a?\"template\":\"bg\"].style.opacity=.001,QA()),Ae(\"initialZoom\"),o&&!t&&i.removeClass(A,\"pswp--animated-in\"),a&&(o?i[(t?\"remove\":\"add\")+\"Class\"](A,\"pswp--animate_opacity\"):setTimeout(function(){i.addClass(A,\"pswp--animate_opacity\")},30)),We=setTimeout(function(){if(EA(\"initialZoom\"+(o?\"Out\":\"In\")),o){var n=r.w/e.w,s={x:gA.x,y:gA.y},u=w,p=sA,d=function(e){1===e?(w=n,gA.x=r.x,gA.y=r.y-_):(w=(n-u)*e+u,gA.x=(r.x-s.x)*e+s.x,gA.y=(r.y-_-s.y)*e+s.y),QA(),a?A.style.opacity=1-e:jA(p-e*p)};t?te(\"initialZoom\",0,1,l,i.easing.cubic.out,d,c):(d(1),We=setTimeout(c,l+20))}else w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),jA(1),a?A.style.opacity=1:jA(1),We=setTimeout(c,l+20)},o?25:90)};d()},tt={},ot=[],it={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ve.length}},nt=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},at=function(A,e,t){var o=A.bounds;o.center.x=Math.round((tt.x-e)/2),o.center.y=Math.round((tt.y-t)/2)+A.vGap.top,o.max.x=e>tt.x?Math.round(tt.x-e):o.center.x,o.max.y=t>tt.y?Math.round(tt.y-t)+A.vGap.top:o.center.y,o.min.x=e>tt.x?0:o.center.x,o.min.y=t>tt.y?A.vGap.top:o.center.y},rt=function(A,e,t){if(A.src&&!A.loadError){var o=!t;if(o&&(A.vGap||(A.vGap={top:0,bottom:0}),EA(\"parseVerticalMargin\",A)),tt.x=e.x,tt.y=e.y-A.vGap.top-A.vGap.bottom,o){var i=tt.x/A.w,n=tt.y/A.h;A.fitRatio=n>i?i:n;var a=s.scaleMode;\"orig\"===a?t=1:\"fit\"===a&&(t=A.fitRatio),t>1&&(t=1),A.initialZoomLevel=t,A.bounds||(A.bounds=nt())}if(!t)return;return at(A,A.w*t,A.h*t),o&&t===A.initialZoomLevel&&(A.initialPosition=A.bounds.center),A.bounds}return A.w=A.h=0,A.initialZoomLevel=A.fitRatio=1,A.bounds=nt(),A.initialPosition=A.bounds.center,A.bounds},st=function(A,e,t,o,i,a){e.loadError||o&&(e.imageAppended=!0,ut(e,o,e===n.currItem&&TA),t.appendChild(o),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display=\"none\",e.placeholder=null)},500))},lt=function(A){A.loading=!0,A.loaded=!1;var e=A.img=i.createEl(\"pswp__img\",\"img\"),t=function(){A.loading=!1,A.loaded=!0,A.loadComplete?A.loadComplete(A):A.img=null,e.onload=e.onerror=null,e=null};return e.onload=t,e.onerror=function(){A.loadError=!0,t()},e.src=A.src,e},ct=function(A,e){return A.src&&A.loadError&&A.container?(e&&(A.container.innerHTML=\"\"),A.container.innerHTML=s.errorMsg.replace(\"%url%\",A.src),!0):void 0},ut=function(A,e,t){if(A.src){e||(e=A.container.lastChild);var o=t?A.w:Math.round(A.w*A.fitRatio),i=t?A.h:Math.round(A.h*A.fitRatio);A.placeholder&&!A.loaded&&(A.placeholder.style.width=o+\"px\",A.placeholder.style.height=i+\"px\"),e.style.width=o+\"px\",e.style.height=i+\"px\"}},pt=function(){if(ot.length){for(var A,e=0;e<ot.length;e++)a=ot[e],a.holder.index===a.index&&st(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);ot=[]}};ba(\"controller\",{publicmethods:{lazyloaditem:function(a){a=na(a);var e=\"qe(A);e&&(!e.loaded&&!e.loading||T)&&(EA(\"gettingData\",A,e),e.src&&lt(e))},initController:function(){i.extend(s,it,!0),n.items=Ve=t,qe=n.getItemAt,$e=s.getNumItemsFn,At=s.loop,$e()<3&&(s.loop=!1),CA(\"beforeChange\",function(A){var\" e,t=\"s.preload,o=null===A||A\">=0,i=Math.min(t[0],$e()),a=Math.min(t[1],$e());for(e=1;(o?a:i)>=e;e++)n.lazyLoadItem(p+e);for(e=1;(o?i:a)>=e;e++)n.lazyLoadItem(p-e)}),CA(\"initialLayout\",function(){n.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),CA(\"mainScrollAnimComplete\",pt),CA(\"initialZoomInEnd\",pt),CA(\"destroy\",function(){for(var A,e=0;e<ve.length;e++)a=ve[e],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);ot=null})},getitemat:function(a){return a=\"\">=0&&void 0!==Ve[A]&&Ve[A]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!Q||s.mouseUsed||screen.width>1200},setContent:function(A,e){s.loop&&(e=NA(e));var t=n.getItemAt(A.index);t&&(t.container=null);var o,a=n.getItemAt(e);if(!a)return void(A.el.innerHTML=\"\");EA(\"gettingData\",e,a),A.index=e,A.item=a;var r=a.container=i.createEl(\"pswp__zoom-wrap\");if(!a.src&&a.html&&(a.html.tagName?r.appendChild(a.html):r.innerHTML=a.html),ct(a),rt(a,mA),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&(o=i.createEl(\"pswp__img\",\"img\"),o.style.opacity=1,o.src=a.src,ut(a,o),st(e,a,r,o,!0));else{if(a.loadComplete=function(t){if(l){if(A&&A.index===e){if(ct(t,!0))return t.loadComplete=t.img=null,rt(t,mA),LA(t),void(A.index===p&&n.updateCurrZoomItem());t.imageAppended?!Ke&&t.placeholder&&(t.placeholder.style.display=\"none\",t.placeholder=null):U.transform&&(iA||Ke)?ot.push({item:t,baseDiv:r,img:t.img,index:e,holder:A,clearPlaceholder:!0}):st(e,t,r,t.img,iA||Ke,!0)}t.loadComplete=null,t.img=null,EA(\"imageLoadComplete\",e,t)}},i.features.transform){var c=\"pswp__img pswp__img--placeholder\";c+=a.msrc?\"\":\" pswp__img--placeholder--blank\";var u=i.createEl(c,a.msrc?\"img\":\"\");a.msrc&&(u.src=a.msrc),ut(a,u),r.appendChild(u),a.placeholder=u}a.loading||lt(a),n.allowProgressiveImg()&&(!Xe&&U.transform?ot.push({item:a,baseDiv:r,img:a.img,index:e,holder:A}):st(e,a,r,a.img,!0,!0))}Xe||e!==p?LA(a):(oA=r.style,et(a,o||a.img)),A.el.innerHTML=\"\",A.el.appendChild(r)},cleanSlide:function(A){A.img&&(A.img.onload=A.img.onerror=null),A.loaded=A.loading=A.img=A.imageAppended=!1}}});var dt,gt={},mt=function(A,e,t){var o=document.createEvent(\"CustomEvent\"),i={origEvent:A,target:A.target,releasePoint:e,pointerType:t||\"touch\"};o.initCustomEvent(\"pswpTap\",!0,!0,i),A.target.dispatchEvent(o)};bA(\"Tap\",{publicMethods:{initTap:function(){CA(\"firstTouchStart\",n.onTapStart),CA(\"touchRelease\",n.onTapRelease),CA(\"destroy\",function(){gt={},dt=null})},onTapStart:function(A){A.length>1&&(clearTimeout(dt),dt=null)},onTapRelease:function(A,e){if(e&&!V&&!J&&!qA){var t=e;if(dt&&(clearTimeout(dt),dt=null,xe(t,gt)))return void EA(\"doubleTap\",t);if(\"mouse\"===e.type)return void mt(A,e,\"mouse\");var o=A.target.tagName.toUpperCase();if(\"BUTTON\"===o||i.hasClass(A.target,\"pswp__single-tap\"))return void mt(A,e);OA(gt,t),dt=setTimeout(function(){mt(A,e),dt=null},300)}}}});var Mt;bA(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){O||(Q?CA(\"mouseUsed\",function(){n.setupDesktopZoom()}):n.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Mt={};var t=\"wheel mousewheel DOMMouseScroll\";CA(\"bindEvents\",function(){i.bind(A,t,n.handleMouseWheel)}),CA(\"unbindEvents\",function(){Mt&&i.unbind(A,t,n.handleMouseWheel)}),n.mouseZoomedIn=!1;var o,a=function(){n.mouseZoomedIn&&(i.removeClass(A,\"pswp--zoomed-in\"),n.mouseZoomedIn=!1),1>w?i.addClass(A,\"pswp--zoom-allowed\"):i.removeClass(A,\"pswp--zoom-allowed\"),r()},r=function(){o&&(i.removeClass(A,\"pswp--dragging\"),o=!1)};CA(\"resize\",a),CA(\"afterChange\",a),CA(\"pointerDown\",function(){n.mouseZoomedIn&&(o=!0,i.addClass(A,\"pswp--dragging\"))}),CA(\"pointerUp\",r),e||a()},handleMouseWheel:function(A){if(w<=n.curritem.fitratio)return s.modal&&(!s.closeonscroll||qa||h?a.preventdefault():j&&math.abs(a.deltay)=\"\">2&&(u=!0,n.close())),!0;if(A.stopPropagation(),Mt.x=0,\"deltaX\"in A)1===A.deltaMode?(Mt.x=18*A.deltaX,Mt.y=18*A.deltaY):(Mt.x=A.deltaX,Mt.y=A.deltaY);else if(\"wheelDelta\"in A)A.wheelDeltaX&&(Mt.x=-.16*A.wheelDeltaX),A.wheelDeltaY?Mt.y=-.16*A.wheelDeltaY:Mt.y=-.16*A.wheelDelta;else{if(!(\"detail\"in A))return;Mt.y=A.detail}RA(w,!0);var e=gA.x-Mt.x,t=gA.y-Mt.y;(s.modal||e<=ta.min.x&&e>=tA.max.x&&t<=ta.min.y&&t>=tA.max.y)&&A.preventDefault(),n.panTo(e,t)},toggleDesktopZoom:function(e){e=e||{x:mA.x/2+fA.x,y:mA.y/2+fA.y};var t=s.getDoubleTapZoom(!0,n.currItem),o=w===t;n.mouseZoomedIn=!o,n.zoomTo(o?n.currItem.initialZoomLevel:t,e,333),i[(o?\"remove\":\"add\")+\"Class\"](A,\"pswp--zoomed-in\")}}});var ft,wt,ht,It,yt,xt,Tt,bt,Nt,Dt,Ct,Et,vt={history:!0,galleryUID:1},jt=function(){return Ct.hash.substring(1)},Bt=function(){ft&&clearTimeout(ft),ht&&clearTimeout(ht)},Qt=function(){var A=jt(),e={};if(A.length<5)return e;var=\"\" t,o=\"A.split(\"&\");for(t=0;t<o.length;t++)if(o[t]){var\" i=\"o[t].split(\"=\");i.length<2||(e[i[0]]=i[1])}if(s.galleryPIDs){var\" n=\"e.pid;for(e.pid=0,t=0;t<Ve.length;t++)if(Ve[t].pid===n){e.pid=t;break}}else\" e.pid=\"parseInt(e.pid,10)-1;return\" e.pid<0&&(e.pid=\"0),e},Lt=function(){if(ht&&clearTimeout(ht),qA||H)return\" void(ht=\"setTimeout(Lt,500));It?clearTimeout(wt):It=!0;var\" a=\"p+1,e=qe(p);e.hasOwnProperty(\"pid\")&&(A=e.pid);var\" t=\"Tt+\"&gid=\"+s.galleryUID+\"&pid=\"+A;bt||-1===Ct.hash.indexOf(t)&&(Dt=!0);var\" o=\"Ct.href.split(\"#\")[0]+\"#\"+t;Et?\"#\"+t!==window.location.hash&&history[bt?\"replaceState\":\"pushState\"](\"\",document.title,o):bt?Ct.replace(o):Ct.hash=t,bt=!0,wt=setTimeout(function(){It=!1},60)};bA(\"History\",{publicMethods:{initHistory:function(){if(i.extend(s,vt,!0),s.history){Ct=window.location,Dt=!1,Nt=!1,bt=!1,Tt=jt(),Et=\"pushState\"in\" history,tt.indexof(\"gid=\")>-1&&(Tt=Tt.split(\" &gid=\")[0],Tt=Tt.split(\" ?gid=\")[0]),CA(\" afterchange\",n.updateurl),ca(\"unbindevents\",function(){i.unbind(window,\"hashchange\",n.onhashchange)});var=\"\" e=\"Tt.indexOf(\"pid=\");e\">-1&&(Tt=Tt.substring(0,e),\"&\"===Tt.slice(-1)&&(Tt=Tt.slice(0,-1))),setTimeout(function(){l&&i.bind(window,\"hashchange\",n.onHashChange)},40)}},onHashChange:function(){return jt()===Tt?(Nt=!0,void n.close()):void(It||(yt=!0,n.goTo(Qt().pid),yt=!1))},updateURL:function(){Bt(),yt||(bt?ft=setTimeout(Lt,800):Lt())}}}),i.extend(n,oe)};return A})},function(A,e,t){function o(){a(\".photos\"),document.getElementsByClassName(\"albums\").length&&r(\"js-secret-album\")}var i=t(6),n=t(5),a=function(A){for(var e=function(A){for(var e,t,o,i,n=A.getElementsByClassName(\"thumb\"),a=n.length,r=[],s=0;s<a;s++)e=n[s],1===e.nodetype&&(t=e.children[0],o=t.getattribute(\"data-size\").split(\"x\"),i={src:t.getattribute(\"href\"),w:parseint(o[0],10),h:parseint(o[1],10)},e.children.length>1&&(i.title=e.children[2].innerHTML),\nt.children.length>0&&(i.msrc=t.children[0].getAttribute(\"src\")),i.el=e,r.push(i));return r},t=function p(A,e){return A&&(e(A)?A:p(A.parentNode,e))},o=function(A){A=A||window.event,A.preventDefault?A.preventDefault():A.returnValue=!1;var e=A.target||A.srcElement,o=t(e,function(A){return A.tagName&&\"FIGURE\"===A.tagName.toUpperCase()});if(o){for(var i,n=o.parentNode,a=o.parentNode.childNodes,s=a.length,l=0,c=0;c<s;c++)if(1===a[c].nodetype){if(a[c]===o){i=l;break}l++}return i=\"\">=0&&r(i,n),!1}},a=function(){var A=window.location.hash.substring(1),e={};if(A.length<5)return 0=\"\" e;for(var=\"\" t=\"A.split(\"&\"),o=0;o<t.length;o++)if(t[o]){var\" i=\"t[o].split(\"=\");i.length<2||(e[i[0]]=i[1])}return\" e.gid&&(e.gid=\"parseInt(e.gid,10)),e},r=function(A,t,o,a){var\" r,s,l,c=\"document.querySelectorAll(\".pswp\")[0];if(l=e(t),s={galleryUID:t.getAttribute(\"data-pswp-uid\"),getThumbBoundsFn:function(A){var\" e=\"l[A].el.getElementsByTagName(\"img\")[0],t=window.pageYOffset||document.documentElement.scrollTop,o=e.getBoundingClientRect();return{x:o.left,y:o.top+t,w:o.width}}},a)if(s.galleryPIDs){for(var\" u=\"0;u<l.length;u++)if(l[u].pid==A){s.index=u;break}}else\" s.index=\"parseInt(A,10)-1;else\" i(c,n,l,s),r.init())},s=\"document.querySelectorAll(A),l=0,c=s.length;l<c;l++)s[l].setAttribute(\"data-pswp-uid\",l+1),s[l].onclick=o;var\" photoswipe=\"\" default ui=\"\" css=\"\" by=\"\" dmitry=\"\" semenov=\"\" |=\"\" photoswipe.com=\"\" mit=\"\" license=\"\" *=\"\" .pswp__button{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;-webkit-transition:opacity=\"\" .2s;transition:opacity=\"\" .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:none;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close=\"\" .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(\"+t(12)+\")=\"\" no-repeat;background-size:264px=\"\" 88px;width:44px;height:44px}@media=\"\" (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:1.1dppx),(min-resolution:105dpi){.pswp--svg=\"\" .pswp__button,.pswp--svg=\"\" .pswp__button--arrow--left:before,.pswp--svg=\"\" .pswp__button--arrow--right:before{background-image:url(\"+t(21)+\")}.pswp--svg=\"\" .pswp__button--arrow--left,.pswp--svg=\"\" .pswp__button--arrow--right{background:none}}.pswp__button--close{background-position:0=\"\" -44px}.pswp__button--share{background-position:-44px=\"\" -44px}.pswp__button--fs{display:none}.pswp--supports-fs=\"\" .pswp__button--fs{display:block}.pswp--fs=\"\" .pswp__button--fs{background-position:-44px=\"\" 0}.pswp__button--zoom{display:none;background-position:-88px=\"\" 0}.pswp--zoom-allowed=\"\" .pswp__button--zoom{display:block}.pswp--zoomed-in=\"\" .pswp__button--zoom{background-position:-132px=\"\" 0}.pswp--touch=\"\" .pswp__button--arrow--left,.pswp--touch=\"\" .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px=\"\" -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px=\"\" -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;-webkit-transition:opacity=\"\" .25s=\"\" ease-out;transition:opacity=\"\" ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0=\"\" 2px=\"\" 5px=\"\" rgba(0,0,0,.25);-webkit-transform:translatey(6px);transform:translatey(6px);-webkit-transition:-webkit-transform=\"\" .25s;transition:transform=\"\" .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip=\"\" a{display:block;padding:8px=\"\" 12px;font-size:14px;line-height:18px}.pswp__share-tooltip=\"\" a,.pswp__share-tooltip=\"\" a:hover{color:#000;text-decoration:none}.pswp__share-tooltip=\"\" a:first-child{border-radius:2px=\"\" 0}.pswp__share-tooltip=\"\" a:last-child{border-radius:0=\"\" 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in=\"\" .pswp__share-tooltip{-webkit-transform:translatey(0);transform:translatey(0)}.pswp--touch=\"\" .pswp__share-tooltip=\"\" a{padding:16px=\"\" 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px=\"\" solid=\"\" transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0=\"\" 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption=\"\" small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0=\"\" auto;font-size:13px;padding:10px;line-height:20px;word-break:break-all;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;-webkit-transition:opacity=\"\" ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active=\"\" .pswp__preloader__icn{background:url(\"+t(13)+\")=\"\" no-repeat}.pswp--css_animation=\"\" .pswp__preloader--active{opacity:1}.pswp--css_animation=\"\" .pswp__preloader--active=\"\" .pswp__preloader__icn{-webkit-animation:clockwise=\"\" .5s=\"\" linear=\"\" infinite;animation:clockwise=\"\" infinite}.pswp--css_animation=\"\" .pswp__preloader__donut{-webkit-animation:donut-rotate=\"\" 1s=\"\" cubic-bezier(.4,0,.22,1)=\"\" infinite;animation:donut-rotate=\"\" .pswp__preloader__icn{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation=\"\" .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation=\"\" .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px=\"\" #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media=\"\" screen=\"\" and=\"\" (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes=\"\" clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes=\"\" clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes=\"\" donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes=\"\" donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse=\"\" .pswp__button--arrow--left,.pswp--has_mouse=\"\" .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;-webkit-transition:opacity=\"\" 333ms=\"\" cubic-bezier(.4,0,.22,1);transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--has_mouse=\"\" .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit=\"\" .pswp__caption,.pswp__ui--fit=\"\" .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle=\"\" .pswp__button--arrow--left,.pswp__ui--idle=\"\" .pswp__button--arrow--right,.pswp__ui--idle=\"\" .pswp__top-bar{opacity:0}.pswp__ui--hidden=\"\" .pswp__button--arrow--left,.pswp__ui--hidden=\"\" .pswp__button--arrow--right,.pswp__ui--hidden=\"\" .pswp__caption,.pswp__ui--hidden=\"\" .pswp__top-bar{opacity:.001}.pswp__ui--one-slide=\"\" .pswp__button--arrow--left,.pswp__ui--one-slide=\"\" .pswp__button--arrow--right,.pswp__ui--one-slide=\"\" .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark=\"\" .pswp__top-bar{background:none}\",\"\"])},function(a,e,t){e=\"A.exports=t(1)(),e.push([A.id,\"/*!\" main=\"\" .pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp=\"\" *{box-sizing:border-box}.pswp=\"\" img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;-webkit-transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed=\"\" .pswp__img{cursor:zoom-in}.pswp--zoomed-in=\"\" .pswp__img{cursor:-webkit-grab;cursor:grab}.pswp--dragging=\"\" .pswp__img{cursor:-webkit-grabbing;cursor:grabbing}.pswp__bg{background:#000;opacity:0;transform:translatez(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__bg,.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%}.pswp__scroll-wrap{overflow:hidden}.pswp__container,.pswp__zoom-wrap{-ms-touch-action:none;touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left=\"\" top;transform-origin:left=\"\" top;-webkit-transition:-webkit-transform=\"\" cubic-bezier(.4,0,.22,1);transition:transform=\"\" cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;-webkit-transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--animated-in=\"\" .pswp__bg,.pswp--animated-in=\"\" .pswp__zoom-wrap{-webkit-transition:none;transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{right:0;bottom:0;overflow:hidden}.pswp__img,.pswp__item{position:absolute;left:0;top:0}.pswp__img{width:auto;height:auto}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie=\"\" .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg=\"\" a{color:#ccc;text-decoration:underline}\",\"\"])},function(a,e,t){e=\"A.exports=t(1)(),e.push([A.id,\"*{margin:0;padding:0}body{position:relative;background:url(\"+t(11)+\")\" repeat=\"\" #dde1e5;font-family:lucida=\"\" grande,lucida=\"\" sans=\"\" unicode,lucida,helvetica,hiragino=\"\" gb,microsoft=\"\" yahei,wenquanyi=\"\" micro=\"\" hei,sans-serif}.breadcrumb,body{margin-bottom:30px}.breadcrumb{padding-left:10px;position:fixed;z-index:999;width:100%;background:rgba(27,27,27,.9);height:50px;line-height:50px;left:0;top:0;font-family:menlo,monaco,andale=\"\" mono,lucida=\"\" console,courier=\"\" new,monospace;text-shadow:0=\"\" 1px=\"\" #0a0c10}.breadcrumb,.breadcrumb=\"\" a{color:#159bfd}h1,h2,h3{padding-left:10px;font-weight:300;clear:both}.album-title,.album-title-top{margin:0=\"\" 20px;color:#383838;text-shadow:1px=\"\" #fff}.des-title{margin:0=\"\" 10px}.des-title,.empty-title{color:#666;text-shadow:1px=\"\" #fff}.empty-title{margin:100px=\"\" 10px;text-align:center}.empty-sub-title{text-align:center;color:#888;text-shadow:1px=\"\" #fff}.icon-unlocked{margin-right:5px}a{color:#333;text-decoration:none}section.info{background-color:#f8f8f8}.exif-p{width:50%;float:left}.exif-p=\"\" b{margin-right:10px}.layout{color:#333;padding:60px;position:relative;z-index:1}.albums,.photos{justify-content:space-between}.albums,.photos,.thumb{display:flex;flex-wrap:wrap}.thumb{text-align:center;list-style:none;float:left;width:150px;height:120px;margin:10px;padding:8px;background:#fff;position:relative;cursor:pointer;align-items:flex-end;justify-content:center}.thumb:hover{transform:scale(1.1);transition:.3s}.thumb:hover.thumb:after,.thumb:hover.thumb:before{display:none}.bg-lock{position:absolute;width:150px;height:100px;background:rgba(0,0,0,.5);display:flex;align-items:center;flex-wrap:wrap;justify-content:center;color:#fff;font-size:30px}.hide{width:150px;margin:0=\"\" 10px;padding:0=\"\" 8px;visibility:hidden}.thumb:before{-webkit-transform:skew(-15deg)=\"\" rotate(-5deg);transform:skew(-15deg)=\"\" rotate(-5deg);left:15px}.thumb:after{-webkit-transform:skew(15deg)=\"\" rotate(5deg);transform:skew(15deg)=\"\" rotate(5deg);right:15px}.thumb:after,.thumb:before{width:88%;height:20%;content:'=\"\" ';box-shadow:0=\"\" 8px=\"\" 16px=\"\" rgba(0,0,0,.3);position:absolute;bottom:7px;z-index:-1}.thumb=\"\" figcaption{width:100%;line-height:32px;max-height:32px;overflow:hidden;font-size:14;word-wrap:break-word}.thumb=\"\" img{overflow:hidden;margin:auto;height:auto;width:auto;max-width:150px;max-height:100px}.img-wrap{width:150px;height:100px;display:flex;align-items:center;justify-content:center}figure.photo{margin:10px}figure.photo=\"\" img{max-width:100%}figure.photo=\"\" figcaption{padding-left:10px}section.info{margin:10px;padding:10px;background-color:#f8f8f8;border-radius:5px;border:1px=\"\" #c3c3c3}section.info=\"\" h2{padding:5px=\"\" 10px;margin:0}section.info=\"\" table{border-spacing:0}section.info=\"\" table=\"\" td{padding:5px}section.info=\"\" td:first-child{font-weight:700;padding-right:20px}@media=\"\" (max-width:600px){.layout{padding:10px}.thumb{margin:10px=\"\" 0}.album-title{margin:50px=\"\" 0;padding:0}.album-title-top,.des-title{padding:0}}@media=\"\" (max-width:350px){.albums,.photos{justify-content:center}}.dialog{width:280px;height:60px;margin-top:-30px;margin-left:-140px;position:fixed;background:#fff;border-radius:5px;top:50%;left:50%;font-size:14px;z-index:4000;display:flex;justify-content:center;align-items:center;display:none}.input-lock{width:122px;height:31px;padding:6px;outline:none;border:1px=\"\" #a9a9a9;border-radius:0;color:#333;margin-right:-1px}.btn-default{display:inline-block;vertical-align:middle;cursor:pointer;font-size:14px;text-decoration:none;text-align:center;border:1px=\"\" #188eee;background-color:#188eee;color:#fff;padding:5px=\"\" 20px;line-height:18px}.btn-default:active{color:#fff}.overlay{position:fixed;height:100%;top:0;filter:progid:dximagetransform.microsoft.gradient(enabled=\"true\" ,startcolorstr=\"#80000000\" ,endcolorstr=\"#80000000\" );background-color:rgba(0,0,0,.5);z-index:4000;display:none}.footer,.overlay{width:100%;left:0}.footer{font-size:12px;font-family:menlo,monaco,andale=\"\" #fff;position:absolute;opacity:.6;text-align:center;padding-top:40px;height:30px;box-sizing:border-box;bottom:0}.footer=\"\" a{background:transparent;text-decoration:none;color:#08c}@font-face{font-family:icomoon;src:url(\"+t(3)+\");src:url(\"+t(3)+\"#iefix)=\"\" format('embedded-opentype'),url(\"+t(19)+\")=\"\" format('truetype'),url(\"+t(20)+\")=\"\" format('woff'),url(\"+t(18)+'#icomoon)=\"\" format(\\'svg\\');font-weight:400;font-style:normal}[class*=\" icon-\" ],[class^=\"icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-image:before{content:\"\\\\E90D\"}.icon-camera:before{content:\"\\\\E90F\"}.icon-film:before{content:\"\\\\E913\"}.icon-clock:before{content:\"\\\\E94E\"}.icon-hour-glass:before{content:\"\\\\E979\"}.icon-key:before{content:\"\\\\E98D\"}.icon-key2:before{content:\"\\\\E98E\"}.icon-lock:before{content:\"\\\\E98F\"}.icon-unlocked:before{content:\"\\\\E990\"}.icon-star-empty:before{content:\"\\\\E9D7\"}.icon-heart:before{content:\"\\\\E9DA\"}.icon-share2:before{content:\"\\\\EA82\"}',\"\"])},function(A,e,t){A.exports=t.p+\"img/bg.png\"},function(A,e,t){A.exports=t.p+\"img/default-skin.png\"},function(A,e,t){A.exports=t.p+\"img/preloader.gif\"},function(A,e){(function(e){function\" t(a,t,o){var=\"\" 0!=\"=t&&\"function\"!=typeof\" t||(o=\"t,t={});for(var\" a=\"i.container=t.container||i.container,r=i.offset=t.offset||i.offset,l=0;l<s.length;l++)if(s[l].container===a)return\" s[l].isinviewport(a,r,o);return=\"\" s[s.push(n(a))-1].isinviewport(a,r,o)}function=\"\" o(a,e,t){a.attachevent?a.attachevent(\"on\"+e,t):a.addeventlistener(e,t,!1)}function=\"\" i(a,e,t){var=\"\" o;return=\"\" function(){function=\"\" i(){o=\"null,t||A.apply(n,a)}var\" n=\"this,a=arguments,r=t&&!o;clearTimeout(o),o=setTimeout(i,e),r&&A.apply(n,a)}}function\" n(a){function=\"\" t(a,e,t){if(!t)return=\"\" u(a,e);var=\"\" o=\"n(A,e,t);return\" o.watch(),o}function=\"\" n(a,e,t){function=\"\" o(){p.add(a,e,t)}function=\"\" i(){p.remove(a)}return{watch:o,dispose:i}}function=\"\" s(a,e,t){u(a,e)&&(p.remove(a),t(a))}function=\"\" u(t,o){if(!c(e.document.documentelement,t)||!c(e.document.documentelement,a))return!1;if(!t.offsetwidth||!t.offsetheight)return!1;var=\"\" r=\"i.right\">=n.left&&i.left<=n.right&&i.bottom>=n.top&&i.top<=n.bottom;return r}var=\"\" p=\"a(),d=A===e.document.body?e:A,g=i(p.checkAll(s),15);return\" o(d,\"scroll\",g),d=\"==e&&o(e,\"resize\",g),l&&r(p,A,g),setInterval(g,150),{container:A,isInViewport:t}}function\" a(){function=\"\" a(a,e,t){o(a)||n.push([a,e,t])}function=\"\" e(a){var=\"\" e=\"t(A);e!==-1&&n.splice(e,1)}function\" t(a){for(var=\"\">=0;e--)if(n[e][0]===A)return e;return-1}function o(A){return t(A)!==-1}function i(A){return function(){for(var e=n.length-1;e>=0;e--)A.apply(this,n[e])}}var n=[];return{add:A,remove:e,isWatched:o,checkAll:i}}function r(A,e,t){function o(A){A.some(i)===!0&&setTimeout(t,0)}function i(e){var t=r.call([],Array.prototype.slice.call(e.addedNodes),e.target);return a.call(t,A.isWatched).length>0}var n=new MutationObserver(o),a=Array.prototype.filter,r=Array.prototype.concat;n.observe(e,{childList:!0,subtree:!0,attributes:!0})}A.exports=t;var s=[],l=\"function\"==typeof e.MutationObserver,c=e.document.documentElement.compareDocumentPosition?function(A,e){return!!(16&A.compareDocumentPosition(e))}:e.document.documentElement.contains?function(A,e){return A!==e&&!!A.contains&&A.contains(e)}:function(A,e){for(;e=e.parentNode;)if(e===A)return!0;return!1}}).call(e,function(){return this}())},function(A,e,t){var o=t(8);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(9);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(10);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e){A.exports=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+R2VuZXJhdGVkIGJ5IEljb01vb248L21ldGFkYXRhPgo8ZGVmcz4KPGZvbnQgaWQ9Imljb21vb24iIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTBkOyIgZ2x5cGgtbmFtZT0iaW1hZ2UiIGQ9Ik05NTkuODg0IDgzMmMwLjA0MC0wLjAzNCAwLjA4Mi0wLjA3NiAwLjExNi0wLjExNnYtNzY3Ljc3Yy0wLjAzNC0wLjA0MC0wLjA3Ni0wLjA4Mi0wLjExNi0wLjExNmgtODk1Ljc3Yy0wLjA0MCAwLjAzNC0wLjA4MiAwLjA3Ni0wLjExNCAwLjExNnY3NjcuNzcyYzAuMDM0IDAuMDQwIDAuMDc2IDAuMDgyIDAuMTE0IDAuMTE0aDg5NS43N3pNOTYwIDg5NmgtODk2Yy0zNS4yIDAtNjQtMjguOC02NC02NHYtNzY4YzAtMzUuMiAyOC44LTY0IDY0LTY0aDg5NmMzNS4yIDAgNjQgMjguOCA2NCA2NHY3NjhjMCAzNS4yLTI4LjggNjQtNjQgNjR2MHpNODMyIDY3MmMwLTUzLjAyMC00Mi45OC05Ni05Ni05NnMtOTYgNDIuOTgtOTYgOTYgNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTZ6TTg5NiAxMjhoLTc2OHYxMjhsMjI0IDM4NCAyNTYtMzIwaDY0bDIyNCAxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTkwZjsiIGdseXBoLW5hbWU9ImNhbWVyYSIgZD0iTTMwNCAzNTJjMC0xMTQuODc2IDkzLjEyNC0yMDggMjA4LTIwOHMyMDggOTMuMTI0IDIwOCAyMDgtOTMuMTI0IDIwOC0yMDggMjA4LTIwOC05My4xMjQtMjA4LTIwOHpNOTYwIDcwNGgtMjI0Yy0xNiA2NC0zMiAxMjgtOTYgMTI4aC0yNTZjLTY0IDAtODAtNjQtOTYtMTI4aC0yMjRjLTM1LjIgMC02NC0yOC44LTY0LTY0di01NzZjMC0zNS4yIDI4LjgtNjQgNjQtNjRoODk2YzM1LjIgMCA2NCAyOC44IDY0IDY0djU3NmMwIDM1LjItMjguOCA2NC02NCA2NHpNNTEyIDY4Yy0xNTYuODUgMC0yODQgMTI3LjE0OC0yODQgMjg0IDAgMTU2Ljg1IDEyNy4xNSAyODQgMjg0IDI4NCAxNTYuODUyIDAgMjg0LTEyNy4xNSAyODQtMjg0IDAtMTU2Ljg1Mi0xMjcuMTQ2LTI4NC0yODQtMjg0ek05NjAgNTEyaC0xMjh2NjRoMTI4di02NHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTEzOyIgZ2x5cGgtbmFtZT0iZmlsbSIgZD0iTTAgODMydi03NjhoMTAyNHY3NjhoLTEwMjR6TTE5MiAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTc2OCAxMjhoLTUxMnY2NDBoNTEydi02NDB6TTk2MCAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTM4NCA2NDB2LTM4NGwyNTYgMTkyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NGU7IiBnbHlwaC1uYW1lPSJjbG9jayIgZD0iTTY1OC43NDQgMjEwLjc0NGwtMjEwLjc0NCAyMTAuNzQ2djI4Mi41MWgxMjh2LTIyOS40OWwxNzMuMjU2LTE3My4yNTR6TTUxMiA5NjBjLTI4Mi43NyAwLTUxMi0yMjkuMjMtNTEyLTUxMnMyMjkuMjMtNTEyIDUxMi01MTIgNTEyIDIyOS4yMyA1MTIgNTEyLTIyOS4yMyA1MTItNTEyIDUxMnpNNTEyIDY0Yy0yMTIuMDc4IDAtMzg0IDE3MS45MjItMzg0IDM4NHMxNzEuOTIyIDM4NCAzODQgMzg0YzIxMi4wNzggMCAzODQtMTcxLjkyMiAzODQtMzg0cy0xNzEuOTIyLTM4NC0zODQtMzg0eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5Nzk7IiBnbHlwaC1uYW1lPSJob3VyLWdsYXNzIiBkPSJNNzI4Ljk5MiA0NDhjMTM3Ljc1NCA4Ny4zMzQgMjMxLjAwOCAyNTUuMjA4IDIzMS4wMDggNDQ4IDAgMjEuNjc2LTEuMTkyIDQzLjAzNC0zLjQ3OCA2NGgtODg5LjA0MmMtMi4yOS0yMC45NjgtMy40OC00Mi4zMjYtMy40OC02NCAwLTE5Mi43OTIgOTMuMjU0LTM2MC42NjYgMjMxLjAwNi00NDgtMTM3Ljc1Mi04Ny4zMzQtMjMxLjAwNi0yNTUuMjA4LTIzMS4wMDYtNDQ4IDAtMjEuNjc2IDEuMTktNDMuMDM0IDMuNDc4LTY0aDg4OS4wNDJjMi4yODggMjAuOTY2IDMuNDc4IDQyLjMyNCAzLjQ3OCA2NCAwLjAwMiAxOTIuNzkyLTkzLjI1MiAzNjAuNjY2LTIzMS4wMDYgNDQ4ek0xNjAgMGMwIDE4Ni45MTIgODAuMTYyIDM0NS40MTQgMjI0IDM5Ny43MDh2MTAwLjU4NmMtMTQzLjgzOCA1Mi4yOS0yMjQgMjEwLjc5Mi0yMjQgMzk3LjcwNnYwaDcwNGMwLTE4Ni45MTQtODAuMTYyLTM0NS40MTYtMjI0LTM5Ny43MDZ2LTEwMC41ODZjMTQzLjgzOC01Mi4yOTQgMjI0LTIxMC43OTYgMjI0LTM5Ny43MDhoLTcwNHpNNjE5LjYyNiAyOTAuNDA2Yy03MS42NTQgNDAuNjQ0LTc1LjYwOCA5My4zNjgtNzUuNjI2IDEyNS4zNjZ2NjQuMjI4YzAgMzEuOTk0IDMuODA0IDg0LjkxNCA3NS43NDQgMTI1LjY2NCAzOC41MDQgMjIuMzY0IDcxLjgwOCA1Ni4zNDggOTcuMDQ4IDk4LjMzNmgtNDA5LjU4MmMyNS4yNjYtNDIuMDMyIDU4LjYxMi03Ni4wNDIgOTcuMTY2LTk4LjQwNiA3MS42NTQtNDAuNjQ0IDc1LjYwNi05My4zNjYgNzUuNjI2LTEyNS4zNjZ2LTY0LjIyOGMwLTMxLjk5Mi0zLjgwNC04NC45MTQtNzUuNzQ0LTEyNS42NjQtNzIuNjIyLTQyLjE4LTEyNi43MzgtMTI1LjY4NC0xNDMuMDkwLTIyNi4zMzZoNTAxLjY3Yy0xNi4zNjQgMTAwLjcwOC03MC41MyAxODQuMjQ4LTE0My4yMTIgMjI2LjQwNnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOThkOyIgZ2x5cGgtbmFtZT0ia2V5IiBkPSJNNzA0IDk2MGMtMTc2LjczIDAtMzIwLTE0My4yNjgtMzIwLTMyMCAwLTIwLjAyNiAxLjg1OC0zOS42MTYgNS4zNzYtNTguNjI0bC0zODkuMzc2LTM4OS4zNzZ2LTE5MmMwLTM1LjM0NiAyOC42NTQtNjQgNjQtNjRoNjR2NjRoMTI4djEyOGgxMjh2MTI4aDEyOGw4My4wNDIgODMuMDQyYzM0LjAxMC0xMi4zMTYgNzAuNjk2LTE5LjA0MiAxMDguOTU4LTE5LjA0MiAxNzYuNzMgMCAzMjAgMTQzLjI2OCAzMjAgMzIwcy0xNDMuMjcgMzIwLTMyMCAzMjB6TTc5OS44NzQgNjM5Ljg3NGMtNTMuMDIwIDAtOTYgNDIuOTgtOTYgOTZzNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTYtNDIuOTgtOTYtOTYtOTZ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZTsiIGdseXBoLW5hbWU9ImtleTIiIGQ9Ik0xMDAyLjEzMiA2NDUuNzU4bC0xMDEuMTA2IDEwMS4xMDRjLTI0Ljc5MiAyNC43OTQtNjUuMzcgNjUuMzY4LTkwLjE2MiA5MC4xNjRsLTEwMS4xMDYgMTAxLjEwNGMtMjQuNzkyIDI0Ljc5NC02OC45NTQgMjkuMTY2LTk4LjEzIDkuNzE2bC0yNzYuNDM4LTE4NC4yOTJjLTI5LjE3Ni0xOS40NTItNDAuMjE4LTYxLjAyOC0yNC41MzYtOTIuMzlsNzAuNDg2LTE0MC45NzRjMi4xNTQtNC4zMDYgNC42NDYtOC44OTYgNy4zOS0xMy42NmwtMzU2LjUzLTM1Ni41My0zMi0yMjRoMTkydjY0aDEyOHYxMjhoMTI4djEyOGgxMjh2NzEuMTg2YzYuMzk2LTMuODEyIDEyLjUzNC03LjIxNiAxOC4xOTItMTAuMDQ0bDE0MC45Ny03MC40ODhjMzEuMzY2LTE1LjY4MiA3Mi45NC00LjYzOCA5Mi4zOSAyNC41MzhsMTg0LjI5NCAyNzYuNDRjMTkuNDU0IDI5LjE3MiAxNS4wNzggNzMuMzMtOS43MTQgOTguMTI2ek0xNTAuNjI4IDEwNS4zNzRsLTQ1LjI1NCA0NS4yNTQgMzExLjU3MiAzMTEuNTcgNDUuMjU0LTQ1LjI1NC0zMTEuNTcyLTMxMS41N3pNOTE3LjAyMCA1MzYuMjM2bC00NS4yNTYtNDUuMjU2Yy0xMi40NDYtMTIuNDQ0LTMyLjgwOC0xMi40NDQtNDUuMjU0IDBsLTI3MS41MyAyNzEuNTNjLTEyLjQ0NiAxMi40NDQtMTIuNDQ2IDMyLjgxIDAgNDUuMjU0bDQ1LjI1NiA0NS4yNTZjMTIuNDQ2IDEyLjQ0NCAzMi44MDggMTIuNDQ0IDQ1LjI1NCAwbDI3MS41My0yNzEuNTNjMTIuNDQ2LTEyLjQ0NCAxMi40NDYtMzIuODEgMC00NS4yNTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZjsiIGdseXBoLW5hbWU9ImxvY2siIGQ9Ik01OTIgNTEyaC0xNnYxOTJjMCAxMDUuODctODYuMTMgMTkyLTE5MiAxOTJoLTEyOGMtMTA1Ljg3IDAtMTkyLTg2LjEzLTE5Mi0xOTJ2LTE5MmgtMTZjLTI2LjQgMC00OC0yMS42LTQ4LTQ4di00ODBjMC0yNi40IDIxLjYtNDggNDgtNDhoNTQ0YzI2LjQgMCA0OCAyMS42IDQ4IDQ4djQ4MGMwIDI2LjQtMjEuNiA0OC00OCA0OHpNMTkyIDcwNGMwIDM1LjI5IDI4LjcxIDY0IDY0IDY0aDEyOGMzNS4yOSAwIDY0LTI4LjcxIDY0LTY0di0xOTJoLTI1NnYxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk5MDsiIGdseXBoLW5hbWU9InVubG9ja2VkIiBkPSJNNzY4IDg5NmMxMDUuODcgMCAxOTItODYuMTMgMTkyLTE5MnYtMTkyaC0xMjh2MTkyYzAgMzUuMjktMjguNzEgNjQtNjQgNjRoLTEyOGMtMzUuMjkgMC02NC0yOC43MS02NC02NHYtMTkyaDE2YzI2LjQgMCA0OC0yMS42IDQ4LTQ4di00ODBjMC0yNi40LTIxLjYtNDgtNDgtNDhoLTU0NGMtMjYuNCAwLTQ4IDIxLjYtNDggNDh2NDgwYzAgMjYuNCAyMS42IDQ4IDQ4IDQ4aDQwMHYxOTJjMCAxMDUuODcgODYuMTMgMTkyIDE5MiAxOTJoMTI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZDc7IiBnbHlwaC1uYW1lPSJzdGFyLWVtcHR5IiBkPSJNMTAyNCA1NjIuOTVsLTM1My43OCA1MS40MDgtMTU4LjIyIDMyMC41ODItMTU4LjIxNi0zMjAuNTgyLTM1My43ODQtNTEuNDA4IDI1Ni0yNDkuNTM4LTYwLjQzMi0zNTIuMzUyIDMxNi40MzIgMTY2LjM1OCAzMTYuNDMyLTE2Ni4zNTgtNjAuNDM0IDM1Mi4zNTIgMjU2LjAwMiAyNDkuNTM4ek01MTIgMjA2LjUwMmwtMjIzLjQ2Mi0xMTcuNDggNDIuNjc2IDI0OC44My0xODAuNzg2IDE3Ni4yMjIgMjQ5Ljg0IDM2LjMwNCAxMTEuNzMyIDIyNi4zOTYgMTExLjczNi0yMjYuMzk2IDI0OS44MzYtMzYuMzA0LTE4MC43ODgtMTc2LjIyMiA0Mi42NzgtMjQ4LjgzLTIyMy40NjIgMTE3LjQ4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZGE7IiBnbHlwaC1uYW1lPSJoZWFydCIgZD0iTTc1NS4xODggODk2Yy0xMDcuNjMgMC0yMDAuMjU4LTg3LjU1NC0yNDMuMTY0LTE3OS00Mi45MzggOTEuNDQ0LTEzNS41NzggMTc5LTI0My4yMTYgMTc5LTE0OC4zODIgMC0yNjguODA4LTEyMC40NC0yNjguODA4LTI2OC44MzIgMC0zMDEuODQ2IDMwNC41LTM4MC45OTQgNTEyLjAyMi02NzkuNDE4IDE5Ni4xNTQgMjk2LjU3NiA1MTEuOTc4IDM4Ny4yMDYgNTExLjk3OCA2NzkuNDE4IDAgMTQ4LjM5Mi0xMjAuNDMgMjY4LjgzMi0yNjguODEyIDI2OC44MzJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWE4MjsiIGdseXBoLW5hbWU9InNoYXJlMiIgZD0iTTg2NCAyNTZjLTQ1LjE2IDAtODUuOTItMTguNzM4LTExNS4wMTItNDguODNsLTQzMS4wMDQgMjE1LjUwMmMxLjMxNCA4LjI1MiAyLjAxNiAxNi43MDYgMi4wMTYgMjUuMzI4cy0wLjcwMiAxNy4wNzYtMi4wMTYgMjUuMzI2bDQzMS4wMDQgMjE1LjUwMmMyOS4wOTItMzAuMDkwIDY5Ljg1Mi00OC44MjggMTE1LjAxMi00OC44MjggODguMzY2IDAgMTYwIDcxLjYzNCAxNjAgMTYwcy03MS42MzQgMTYwLTE2MCAxNjAtMTYwLTcxLjYzNC0xNjAtMTYwYzAtOC42MjIgMC43MDQtMTcuMDc2IDIuMDE2LTI1LjMyNmwtNDMxLjAwNC0yMTUuNTA0Yy0yOS4wOTIgMzAuMDkwLTY5Ljg1MiA0OC44My0xMTUuMDEyIDQ4LjgzLTg4LjM2NiAwLTE2MC03MS42MzYtMTYwLTE2MCAwLTg4LjM2OCA3MS42MzQtMTYwIDE2MC0xNjAgNDUuMTYgMCA4NS45MiAxOC43MzggMTE1LjAxMiA0OC44MjhsNDMxLjAwNC0yMTUuNTAyYy0xLjMxMi04LjI1LTIuMDE2LTE2LjcwNC0yLjAxNi0yNS4zMjYgMC04OC4zNjggNzEuNjM0LTE2MCAxNjAtMTYwczE2MCA3MS42MzIgMTYwIDE2MGMwIDg4LjM2NC03MS42MzQgMTYwLTE2MCAxNjB6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==\"},function(A,e){A.exports=\"data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SB4UAAAC8AAAAYGNtYXC8MXsbAAABHAAAAJRnYXNwAAAAEAAAAbAAAAAIZ2x5ZozOXvoAAAG4AAAHDGhlYWQLPDiPAAAIxAAAADZoaGVhB8ID0QAACPwAAAAkaG10eDYAAEAAAAkgAAAAQGxvY2ENfAvMAAAJYAAAACJtYXhwABoAWgAACYQAAAAgbmFtZZlKCfsAAAmkAAABhnBvc3QAAwAAAAALLAAAACAAAwPZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADqggPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAeAAAABoAEAADAAoAAQAg6Q3pD+kT6U7peemQ6dfp2uqC//3//wAAAAAAIOkN6Q/pE+lO6XnpjenX6drqgv/9//8AAf/jFvcW9hbzFrkWjxZ8FjYWNBWNAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAABAAAAAAEAANAABMAKwA/AEMAAAEUHgIzMj4CNTQuAiMiDgIBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIi4CNTQ+AjMyHgIVFA4CASM1MwEwIThMKytMOCEhOEwrK0w4IQKQ4AwkMP8AMCQM4BomJhoDgBomJv4mO2dNLS1NZzs7Z00tLU1nAYWAgAFgK0w4ISE4TCsrTDghIThMATUwUFAwJhr9wBomJhoCQBom/YQtTWc7O2dNLS1NZzs7Z00tAbxAAAkAAABABAADQAADAAcACwAPABMAFwAbAB8AIgAAExEhEQEjNTM1IzUzNSM1MwEhESETIzUzNSM1MzUjNTMFESUABAD8wICAgICAgAJA/gACAMCAgICAgID9wAEAA0D9AAMA/UCAgICAgP2AAoD9gICAgICAgP6AwAAAAAADAAD/wAQAA8AABQAZAC0AACUnETMVFwMiDgIVFB4CMzI+AjU0LgIDIi4CNTQ+AjMyHgIVFA4CApPTgK3taruLUFCLu2pqu4tQUIu7alCLaTw8aYtQUItpPDxpi9PSARvlrgKTUIu7amq7i1BQi7tqaruLUPyAPGmLUFCLaTw8aYtQUItpPAAAAwBA/8ADwAPAACIAOwBXAAABPgM1NCYnIQ4BFRQeAhcOAxUUFhchPgE1NC4CJwE0PgI3NS4DNTEhFA4CBxUeAxUDLgE9ATQ2Nz4BNyEeARceAR0BFAYHDgEHIS4BAtk0VT0hAgH8hgECIT1VNDRVPSECAQN6AQIhPVU0/cceOVM2NlM5HgLAHjlTNjZTOR70NhYWNh0xE/5mEzEdNhYWNjZNDAH2DE0BwCFec4ZIECAQECAQSIZzXiEhXnOGSBAgEBAgEEiGc14h/kBGf2hNFGQUTWh/RkZ/aE0UZBRNaH9GASIfRxhAGEcfEDMfIDIQH0cYQBhHHx94S0x3AAAAAAIAAP/ABAADwAAhAC0AAAEiDgIVFBYXARUUFjsBNTM1MzUzNx4BMzI+AjU0LgITIiY1NDYzMhYVFAYCwEJ1VzIDAv57JRtAgICAUxo2HUJ1VzIyV3UeKDg4KCg4OAPAMld1Qg8dD/57wBslQICAUwkKMld1QkJ1VzL+wDgoKDg4KCg4AAMAAP/AA/QDtAAkACkAOQAAAScuAS8BLgEHBQ4BHwEeARcBBzM1MzUzNTM1HgEfARY2NxM2JgEnARcBAQcGIicBJjQ/ATYyFwEWFAPqZRM1EmUTORb+6xYODEYCAwP+myDAgICABQkEjRg2D7gOBfyaLgE4Lf7JAv4tChoJ/vAJCS0KGgkBEAkChmUSNRNlEwUOuA82GI0DBwP+m+BAgIBHAwUCRgwOFgEVFjn99i4BNy3+yAGvLQkJARAJGgotCQn+8AkaAAAAAgAA/8ACgAOAABkAIwAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYlNDY7ATIWHQEhAlAQcU+AT3EQFBwcFAIgFBwc/lwmGoAaJv8AAgDAT3FxT8AcFP4gFBwcFAHgFBzAGiYmGsAAAAAAAQAA/8ADwAOAACMAAAEyFh0BIzU0JisBIgYdATMyFhURFAYjISImNRE0NjMhNTQ2MwMAT3GAJhqAGiYQFBwcFP3gFBwcFAGQcU8DgHFPwMAaJiYawBwU/iAUHBwUAeAUHMBPcQAAAAACAAD/2QQAA6cACgAUAAABJQsBDQEDJQUDJQEHNyc/AR8BBxcEAP6enp7+ngEAPAE8ATw8AQD+AN8qtfpwcPq1KgIzMwFB/r8z+v6gpqYBYPr+nHb5sCTj4ySw+QAAAAABAAD/zAQAA4AAHQAAASIOAgcuAyMiDgIVFB4CFz4DNTQuAgLzKEo/MhAQMj9KKDhiSSpmmbNOSrKbaSpJYgOAHjJBIiJBMh4qSWI4cZ2Om3BvnpCdbThiSSoAAAEAAP/ABAADwAAzAAABIgYHJT4BNTQmJyUeATMyNjU0JiMiBhUUFhcFLgEjIgYVFBYzMjY3BQ4BFRQWMzI2NTQmA2AiOxb+UQEBAQEBrxY7IkJeXkJCXgEB/lEWOyJCXl5CIjsWAa8BAV5CQl5eAQAaF9gGDQYGDQbYFxpeQkJeXkIGDQbYFxpeQkJeGhfYBg0GQl5eQkJeAAAAAAEAAAAAAACuT353Xw889QALBAAAAAAA1A76CQAAAADUDvoJAAD/wAQAA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAACAAAABAAAAAQAAAAEAAAABAAAAAQAAEAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAAKABQAHgBmAMgBBgFKAcoCDAJwAqYC2gMKAzgDhgAAAAEAAAAQAFgACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n},function(A,e){A.exports=\"data:application/font-woff;base64,d09GRgABAAAAAAuYAAsAAAAAC0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIHhWNtYXAAAAFoAAAAlAAAAJS8MXsbZ2FzcAAAAfwAAAAIAAAACAAAABBnbHlmAAACBAAABwwAAAcMjM5e+mhlYWQAAAkQAAAANgAAADYLPDiPaGhlYQAACUgAAAAkAAAAJAfCA9FobXR4AAAJbAAAAEAAAABANgAAQGxvY2EAAAmsAAAAIgAAACINfAvMbWF4cAAACdAAAAAgAAAAIAAaAFpuYW1lAAAJ8AAAAYYAAAGGmUoJ+3Bvc3QAAAt4AAAAIAAAACAAAwAAAAMD2QGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6oIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAHgAAAAaABAAAwAKAAEAIOkN6Q/pE+lO6XnpkOnX6drqgv/9//8AAAAAACDpDekP6RPpTul56Y3p1+na6oL//f//AAH/4xb3FvYW8xa5Fo8WfBY2FjQVjQADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAQAAAAABAADQAATACsAPwBDAAABFB4CMzI+AjU0LgIjIg4CASMuASMhIgYHIyIGFREUFjMhMjY1ETQmASIuAjU0PgIzMh4CFRQOAgEjNTMBMCE4TCsrTDghIThMKytMOCECkOAMJDD/ADAkDOAaJiYaA4AaJib+JjtnTS0tTWc7O2dNLS1NZwGFgIABYCtMOCEhOEwrK0w4ISE4TAE1MFBQMCYa/cAaJiYaAkAaJv2ELU1nOztnTS0tTWc7O2dNLQG8QAAJAAAAQAQAA0AAAwAHAAsADwATABcAGwAfACIAABMRIREBIzUzNSM1MzUjNTMBIREhEyM1MzUjNTM1IzUzBRElAAQA/MCAgICAgIACQP4AAgDAgICAgICA/cABAANA/QADAP1AgICAgID9gAKA/YCAgICAgID+gMAAAAAAAwAA/8AEAAPAAAUAGQAtAAAlJxEzFRcDIg4CFRQeAjMyPgI1NC4CAyIuAjU0PgIzMh4CFRQOAgKT04Ct7Wq7i1BQi7tqaruLUFCLu2pQi2k8PGmLUFCLaTw8aYvT0gEb5a4Ck1CLu2pqu4tQUIu7amq7i1D8gDxpi1BQi2k8PGmLUFCLaTwAAAMAQP/AA8ADwAAiADsAVwAAAT4DNTQmJyEOARUUHgIXDgMVFBYXIT4BNTQuAicBND4CNzUuAzUxIRQOAgcVHgMVAy4BPQE0Njc+ATchHgEXHgEdARQGBw4BByEuAQLZNFU9IQIB/IYBAiE9VTQ0VT0hAgEDegECIT1VNP3HHjlTNjZTOR4CwB45UzY2Uzke9DYWFjYdMRP+ZhMxHTYWFjY2TQwB9gxNAcAhXnOGSBAgEBAgEEiGc14hIV5zhkgQIBAQIBBIhnNeIf5ARn9oTRRkFE1of0ZGf2hNFGQUTWh/RgEiH0cYQBhHHxAzHyAyEB9HGEAYRx8feEtMdwAAAAACAAD/wAQAA8AAIQAtAAABIg4CFRQWFwEVFBY7ATUzNTM1MzceATMyPgI1NC4CEyImNTQ2MzIWFRQGAsBCdVcyAwL+eyUbQICAgFMaNh1CdVcyMld1Hig4OCgoODgDwDJXdUIPHQ/+e8AbJUCAgFMJCjJXdUJCdVcy/sA4KCg4OCgoOAADAAD/wAP0A7QAJAApADkAAAEnLgEvAS4BBwUOAR8BHgEXAQczNTM1MzUzNR4BHwEWNjcTNiYBJwEXAQEHBiInASY0PwE2MhcBFhQD6mUTNRJlEzkW/usWDgxGAgMD/psgwICAgAUJBI0YNg+4DgX8mi4BOC3+yQL+LQoaCf7wCQktChoJARAJAoZlEjUTZRMFDrgPNhiNAwcD/pvgQICARwMFAkYMDhYBFRY5/fYuATct/sgBry0JCQEQCRoKLQkJ/vAJGgAAAAIAAP/AAoADgAAZACMAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmJTQ2OwEyFh0BIQJQEHFPgE9xEBQcHBQCIBQcHP5cJhqAGib/AAIAwE9xcU/AHBT+IBQcHBQB4BQcwBomJhrAAAAAAAEAAP/AA8ADgAAjAAABMhYdASM1NCYrASIGHQEzMhYVERQGIyEiJjURNDYzITU0NjMDAE9xgCYagBomEBQcHBT94BQcHBQBkHFPA4BxT8DAGiYmGsAcFP4gFBwcFAHgFBzAT3EAAAAAAgAA/9kEAAOnAAoAFAAAASULAQ0BAyUFAyUBBzcnPwEfAQcXBAD+np6e/p4BADwBPAE8PAEA/gDfKrX6cHD6tSoCMzMBQf6/M/r+oKamAWD6/px2+bAk4+MksPkAAAAAAQAA/8wEAAOAAB0AAAEiDgIHLgMjIg4CFRQeAhc+AzU0LgIC8yhKPzIQEDI/Sig4YkkqZpmzTkqym2kqSWIDgB4yQSIiQTIeKkliOHGdjptwb56QnW04YkkqAAABAAD/wAQAA8AAMwAAASIGByU+ATU0JiclHgEzMjY1NCYjIgYVFBYXBS4BIyIGFRQWMzI2NwUOARUUFjMyNjU0JgNgIjsW/lEBAQEBAa8WOyJCXl5CQl4BAf5RFjsiQl5eQiI7FgGvAQFeQkJeXgEAGhfYBg0GBg0G2BcaXkJCXl5CBg0G2BcaXkJCXhoX2AYNBkJeXkJCXgAAAAABAAAAAAAArk9+d18PPPUACwQAAAAAANQO+gkAAAAA1A76CQAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAACgAUAB4AZgDIAQYBSgHKAgwCcAKmAtoDCgM4A4YAAAABAAAAEABYAAkAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"},function(A,e){A.exports=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjY0IiBoZWlnaHQ9Ijg4IiB2aWV3Qm94PSIwIDAgMjY0IDg4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0aXRsZT5kZWZhdWx0LXNraW4gMjwvdGl0bGU+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Zz48cGF0aCBkPSJNNjcuMDAyIDU5LjV2My43NjhjLTYuMzA3Ljg0LTkuMTg0IDUuNzUtMTAuMDAyIDkuNzMyIDIuMjItMi44MyA1LjU2NC01LjA5OCAxMC4wMDItNS4wOThWNzEuNUw3MyA2NS41ODUgNjcuMDAyIDU5LjV6IiBpZD0iU2hhcGUiIGZpbGw9IiNmZmYiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTMgMjl2LTVoMnYzaDN2MmgtNXpNMTMgMTVoNXYyaC0zdjNoLTJ2LTV6TTMxIDE1djVoLTJ2LTNoLTN2LTJoNXpNMzEgMjloLTV2LTJoM3YtM2gydjV6IiBpZD0iU2hhcGUiLz48L2c+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTYyIDI0djVoLTJ2LTNoLTN2LTJoNXpNNjIgMjBoLTV2LTJoM3YtM2gydjV6TTcwIDIwdi01aDJ2M2gzdjJoLTV6TTcwIDI0aDV2MmgtM3YzaC0ydi01eiIvPjwvZz48cGF0aCBkPSJNMjAuNTg2IDY2bC01LjY1Ni01LjY1NiAxLjQxNC0xLjQxNEwyMiA2NC41ODZsNS42NTYtNS42NTYgMS40MTQgMS40MTRMMjMuNDE0IDY2bDUuNjU2IDUuNjU2LTEuNDE0IDEuNDE0TDIyIDY3LjQxNGwtNS42NTYgNS42NTYtMS40MTQtMS40MTRMMjAuNTg2IDY2eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMTEuNzg1IDY1LjAzTDExMCA2My41bDMtMy41aC0xMHYtMmgxMGwtMy0zLjUgMS43ODUtMS40NjhMMTE3IDU5bC01LjIxNSA2LjAzeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNTIuMjE1IDY1LjAzTDE1NCA2My41bC0zLTMuNWgxMHYtMmgtMTBsMy0zLjUtMS43ODUtMS40NjhMMTQ3IDU5bDUuMjE1IDYuMDN6IiBmaWxsPSIjZmZmIi8+PGc+PHBhdGggaWQ9IlJlY3RhbmdsZS0xMSIgZmlsbD0iI2ZmZiIgZD0iTTE2MC45NTcgMjguNTQzbC0zLjI1LTMuMjUtMS40MTMgMS40MTQgMy4yNSAzLjI1eiIvPjxwYXRoIGQ9Ik0xNTIuNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIGlkPSJPdmFsLTEiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTUwIDIxaDV2MWgtNXoiLz48L2c+PGc+PHBhdGggZD0iTTExNi45NTcgMjguNTQzbC0xLjQxNCAxLjQxNC0zLjI1LTMuMjUgMS40MTQtMS40MTQgMy4yNSAzLjI1eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMDguNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA2IDIxaDV2MWgtNXoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA5LjA0MyAxOS4wMDhsLS4wODUgNS0xLS4wMTcuMDg1LTV6Ii8+PC9nPjwvZz48L2c+PC9zdmc+\"}]);</=n.bottom;return></=n.right&&i.bottom></5)return></s;c++)if(1===a[c].nodetype){if(a[c]===o){i=l;break}l++}return></a;s++)e=n[s],1===e.nodetype&&(t=e.children[0],o=t.getattribute(\"data-size\").split(\"x\"),i={src:t.getattribute(\"href\"),w:parseint(o[0],10),h:parseint(o[1],10)},e.children.length></5)return></=ta.min.y&&t></=ta.min.x&&e></=n.curritem.fitratio)return></ve.length;e++)a=ve[e],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);ot=null})},getitemat:function(a){return></ot.length;e++)a=ot[e],a.holder.index===a.index&&st(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);ot=[]}};ba(\"controller\",{publicmethods:{lazyloaditem:function(a){a=na(a);var></-20)&&(o=1)}var></ta.max[a]&&(t.backanimdestination[a]=ta.max[a]),void></.1&&(t.lastflickspeed[o]=0),t.slowdownratio[o]=.95,t.slowdownratioreverse[o]=1-t.slowdownratio[o],t.speeddecelerationratio[o]=1},calculateoverboundsanimoffset:function(a,e){t.backanimstarted[a]||(ga[a]></s.verticaldragrange)n.close();else{var></=n.curritem.initialzoomlevel){var></pe.x&&(a=pe.x)):ta.min.x!==ta.max.x&&(i=l))):a=u,\"x\"!==a)?void(ia||k||w></ta.max[a]&&(t=s.panendfriction,r=l-ta.max[a],o=da[a]-ta.max[a]),(0></ta.max[a]?s.panendfriction:1,l=ga[a]+e[a]*t,!s.allowpantonext&&w!==n.curritem.initialzoomlevel||(oa?\"h\"!==na||\"x\"!==a||w||(c?(l></a&&math.abs(a.y-e.y)<a},te=function(a,e){return></ta.max.y&&(e=ta.max.y)),ga.x=a,ga.y=e,qa()},handleevent:function(a){a=a||window.event,f[a.type]&&f[a.type](a)},goto:function(a){a=na(a);var></ta.max.x&&(a=ta.max.x),e></ya.length;t++)n[\"init\"+ya[t]]();if(e){var></e.max[a]&&(t[a]=e.max[a],!0))},ja=function(){if(j){var></e.length;o++)e[o].apply(n,t)}},va=function(){return(new></e.length;r++)if(i=e[r])if(\"object\"==typeof></=a.curritem.fitratio?m.clicktoclosenonzoomable&&a.close():a.toggledesktopzoom(t.detail.releasepoint))}else></n;a++){a=o[a],t=a.classname;for(var></.9?(y.hidecontrols(),a=!0):a&&!t&&e></m.closeelclasses.length;t++)if(e.hasclass(a,\"pswp__\"+m.closeelclasses[t]))return!0},k=0,y=function(){cleartimeout(i),k=0,c&&y.setidle(!1)},o=function(a){a=a?a:window.event;var></m.sharebuttons.length;a++)a=m.sharebuttons[a],t=m.getimageurlforshare(a),o=m.getpageurlforshare(a),i=m.gettextforshare(a),e=a.url.replace(\"\",encodeuricomponent(o)).replace(\"\",encodeuricomponent(t)).replace(\"\",t).replace(\"\",encodeuricomponent(i)),n+='<a></t.length;a++){var></this.length;e++){var>","site":{"data":{}},"excerpt":"","more":"!function(A){function e(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return A[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t={};return e.m=A,e.c=t,e.p=\"./\",e(0)}([function(A,e,t){t(17),t(16),t(15);var o=t(7),i=t(4);window.lazy=i({container:document.getElementsByTagName(\"body\")[0]}),window.onload=function(){o.init()}},function(A,e){A.exports=function(){var A=[];return A.toString=function(){for(var A=[],e=0;e<this.length;e++){var t=\"this[e];t[2]?A.push(\"@media\" \"+t[2]+\"{\"+t[1]+\"}\"):a.push(t[1])}return=\"\" a.join(\"\")},a.i=\"function(e,t){\"string\"==typeof\" e&&(e=\"[[null,e,\"\"]]);for(var\" o=\"{},i=0;i<this.length;i++){var\" n=\"this[i][0];\"number\"==typeof\" n&&(o[n]=\"!0)}for(i=0;i<e.length;i++){var\" a=\"e[i];\"number\"==typeof\" a[0]&&o[a[0]]||(t&&!a[2]?a[2]=\"t:t&&(a[2]=\"(\"+a[2]+\")\" and=\"\" (\"+t+\")\"),a.push(a))}},a}},function(a,e,t){function=\"\" o(a,e){for(var=\"\" i(a){for(var=\"\" e=\"[],t={},o=0;o<A.length;o++){var\" i=\"A[o],n=i[0],a=i[1],r=i[2],s=i[3],l={css:a,media:r,sourceMap:s};t[n]?t[n].parts.push(l):e.push(t[n]={id:n,parts:[l]})}return\" e}function=\"\" n(a,e){var=\"\" new=\"\" error(\"invalid=\"\" value=\"\" for=\"\" parameter=\"\" 'insertat'.=\"\" must=\"\" be=\"\" 'top'=\"\" or=\"\" 'bottom'.\");t.appendchild(e)}}function=\"\" a(a){a.parentnode.removechild(a);var=\"\">=0&&h.splice(e,1)}function r(A){var e=document.createElement(\"style\");return e.type=\"text/css\",n(A,e),e}function s(A){var e=document.createElement(\"link\");return e.rel=\"stylesheet\",n(A,e),e}function l(A,e){var t,o,i;if(e.singleton){var n=w++;t=f||(f=r(e)),o=c.bind(null,t,n,!1),i=c.bind(null,t,n,!0)}else A.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(t=s(e),o=p.bind(null,t),i=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(e),o=u.bind(null,t),i=function(){a(t)});return o(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;o(A=e)}else i()}}function c(A,e,t,o){var i=t?\"\":o.css;if(A.styleSheet)A.styleSheet.cssText=I(e,i);else{var n=document.createTextNode(i),a=A.childNodes;a[e]&&A.removeChild(a[e]),a.length?A.insertBefore(n,a[e]):A.appendChild(n)}}function u(A,e){var t=e.css,o=e.media;if(o&&A.setAttribute(\"media\",o),A.styleSheet)A.styleSheet.cssText=t;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(t))}}function p(A,e){var t=e.css,o=e.sourceMap;o&&(t+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var i=new Blob([t],{type:\"text/css\"}),n=A.href;A.href=URL.createObjectURL(i),n&&URL.revokeObjectURL(n)}var d={},g=function(A){var e;return function(){return\"undefined\"==typeof e&&(e=A.apply(this,arguments)),e}},m=g(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),M=g(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),f=null,w=0,h=[];A.exports=function(A,e){e=e||{},\"undefined\"==typeof e.singleton&&(e.singleton=m()),\"undefined\"==typeof e.insertAt&&(e.insertAt=\"bottom\");var t=i(A);return o(t,e),function(A){for(var n=[],a=0;a<t.length;a++){var 0=\"==e[t]&&(e[t]=A[t]);return\" 2015=\"\" r=\"t[a],s=d[r.id];s.refs--,n.push(s)}if(A){var\" l=\"i(A);o(l,e)}for(var\" a=\"0;a<n.length;a++){var\" s=\"n[a];if(0===s.refs){for(var\" c=\"0;c<s.parts.length;c++)s.parts[c]();delete\" d[s.id]}}}};var=\"\" i=\"function(){var\" function(e,t){return=\"\" a[e]=\"t,A.filter(Boolean).join(\"\\n\")}}()},function(A,e){A.exports=\"data:application/vnd.ms-fontobject;base64,8AsAAEwLAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAd35PrgAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIHhQAAALwAAABgY21hcLwxexsAAAEcAAAAlGdhc3AAAAAQAAABsAAAAAhnbHlmjM5e+gAAAbgAAAcMaGVhZAs8OI8AAAjEAAAANmhoZWEHwgPRAAAI/AAAACRobXR4NgAAQAAACSAAAABAbG9jYQ18C8wAAAlgAAAAIm1heHAAGgBaAAAJhAAAACBuYW1lmUoJ+wAACaQAAAGGcG9zdAADAAAAAAssAAAAIAADA9kBkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOqCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAB4AAAAGgAQAAMACgABACDpDekP6RPpTul56ZDp1+na6oL//f//AAAAAAAg6Q3pD+kT6U7peemN6dfp2uqC//3//wAB/+MW9xb2FvMWuRaPFnwWNhY0FY0AAwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAAAAAAQAA4AAEAAhAC0ANAAAATgBMRE4ATEhOAExETgBMSE1ISIGFREUFjMhMjY1ETQmIwcUBiMiJjU0NjMyFhMhNRMBMzcDwPyAA4D8gBomJhoDgBomJhqAOCgoODgoKDhA/QDgAQBA4ANA/QADAEAmGv0AGiYmGgMAGibgKDg4KCg4OP24gAGA/sDAAAAEAAAAAAQAA0AAEwArAD8AQwAAARQeAjMyPgI1NC4CIyIOAgEjLgEjISIGByMiBhURFBYzITI2NRE0JgEiLgI1ND4CMzIeAhUUDgIBIzUzATAhOEwrK0w4ISE4TCsrTDghApDgDCQw/wAwJAzgGiYmGgOAGiYm/iY7Z00tLU1nOztnTS0tTWcBhYCAAWArTDghIThMKytMOCEhOEwBNTBQUDAmGv3AGiYmGgJAGib9hC1NZzs7Z00tLU1nOztnTS0BvEAACQAAAEAEAANAAAMABwALAA8AEwAXABsAHwAiAAATESERASM1MzUjNTM1IzUzASERIRMjNTM1IzUzNSM1MwURJQAEAPzAgICAgICAAkD+AAIAwICAgICAgP3AAQADQP0AAwD9QICAgICA/YACgP2AgICAgICA/oDAAAAAAAMAAP/ABAADwAAFABkALQAAJScRMxUXAyIOAhUUHgIzMj4CNTQuAgMiLgI1ND4CMzIeAhUUDgICk9OAre1qu4tQUIu7amq7i1BQi7tqUItpPDxpi1BQi2k8PGmL09IBG+WuApNQi7tqaruLUFCLu2pqu4tQ/IA8aYtQUItpPDxpi1BQi2k8AAADAED/wAPAA8AAIgA7AFcAAAE+AzU0JichDgEVFB4CFw4DFRQWFyE+ATU0LgInATQ+Ajc1LgM1MSEUDgIHFR4DFQMuAT0BNDY3PgE3IR4BFx4BHQEUBgcOAQchLgEC2TRVPSECAfyGAQIhPVU0NFU9IQIBA3oBAiE9VTT9xx45UzY2UzkeAsAeOVM2NlM5HvQ2FhY2HTET/mYTMR02FhY2Nk0MAfYMTQHAIV5zhkgQIBAQIBBIhnNeISFec4ZIECAQECAQSIZzXiH+QEZ/aE0UZBRNaH9GRn9oTRRkFE1of0YBIh9HGEAYRx8QMx8gMhAfRxhAGEcfH3hLTHcAAAAAAgAA/8AEAAPAACEALQAAASIOAhUUFhcBFRQWOwE1MzUzNTM3HgEzMj4CNTQuAhMiJjU0NjMyFhUUBgLAQnVXMgMC/nslG0CAgIBTGjYdQnVXMjJXdR4oODgoKDg4A8AyV3VCDx0P/nvAGyVAgIBTCQoyV3VCQnVXMv7AOCgoODgoKDgAAwAA/8AD9AO0ACQAKQA5AAABJy4BLwEuAQcFDgEfAR4BFwEHMzUzNTM1MzUeAR8BFjY3EzYmAScBFwEBBwYiJwEmND8BNjIXARYUA+plEzUSZRM5Fv7rFg4MRgIDA/6bIMCAgIAFCQSNGDYPuA4F/JouATgt/skC/i0KGgn+8AkJLQoaCQEQCQKGZRI1E2UTBQ64DzYYjQMHA/6b4ECAgEcDBQJGDA4WARUWOf32LgE3Lf7IAa8tCQkBEAkaCi0JCf7wCRoAAAACAAD/wAKAA4AAGQAjAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiU0NjsBMhYdASECUBBxT4BPcRAUHBwUAiAUHBz+XCYagBom/wACAMBPcXFPwBwU/iAUHBwUAeAUHMAaJiYawAAAAAABAAD/wAPAA4AAIwAAATIWHQEjNTQmKwEiBh0BMzIWFREUBiMhIiY1ETQ2MyE1NDYzAwBPcYAmGoAaJhAUHBwU/eAUHBwUAZBxTwOAcU/AwBomJhrAHBT+IBQcHBQB4BQcwE9xAAAAAAIAAP/ZBAADpwAKABQAAAElCwENAQMlBQMlAQc3Jz8BHwEHFwQA/p6env6eAQA8ATwBPDwBAP4A3yq1+nBw+rUqAjMzAUH+vzP6/qCmpgFg+v6cdvmwJOPjJLD5AAAAAAEAAP/MBAADgAAdAAABIg4CBy4DIyIOAhUUHgIXPgM1NC4CAvMoSj8yEBAyP0ooOGJJKmaZs05KsptpKkliA4AeMkEiIkEyHipJYjhxnY6bcG+ekJ1tOGJJKgAAAQAA/8AEAAPAADMAAAEiBgclPgE1NCYnJR4BMzI2NTQmIyIGFRQWFwUuASMiBhUUFjMyNjcFDgEVFBYzMjY1NCYDYCI7Fv5RAQEBAQGvFjsiQl5eQkJeAQH+URY7IkJeXkIiOxYBrwEBXkJCXl4BABoX2AYNBgYNBtgXGl5CQl5eQgYNBtgXGl5CQl4aF9gGDQZCXl5CQl4AAAAAAQAAAAAAAK5PfndfDzz1AAsEAAAAAADUDvoJAAAAANQO+gkAAP/ABAADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAAEAAABAAAAAAAAAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAIAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAAAAoAFAAeAGYAyAEGAUoBygIMAnACpgLaAwoDOAOGAAAAAQAAABAAWAAJAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"},function(A,e,t){(function(e){function\" o(a){r.call(l,a)=\"==-1&&l.push(A)}function\" i(a){function=\"\" e(a){var=\"\" e=\"t(A);e&&(A.src=e),A.setAttribute(\"data-lzled\",!0),n[r.call(n,A)]=null}function\" t(e){return\"function\"=\"=typeof\" a.src?a.src(e):e.getattribute(a.src)}function=\"\" i(t){t.onload=\"null,t.removeAttribute(\"onload\"),t.onerror=null,t.removeAttribute(\"onerror\"),r.call(n,t)===-1&&s(t,A,e)}A=a({offset:333,src:\"data-src\",container:!1},A||{}),\"string\"==typeof\" a.src&&o(a.src);var=\"\" n=\"[];return\" i}function=\"\" n(a){var=\"\" t=\"HTML\" +a+\"element\";if(t=\"\" in=\"\" e!=\"!1){var\" o=\"e[t].prototype.getAttribute;e[t].prototype.getAttribute=function(A){if(\"src\"===A){for(var\" e,t=\"0,i=l.length;t<i&&!(e=o.call(this,l[t]));t++);return\" e||o.call(this,a)}return=\"\" o.call(this,a)}}}function=\"\" a(a,e){for(var=\"\" a)void=\"\" e}function=\"\" r(a){for(var=\"\" e}a.exports=\"i;var\" this}())},function(a,e,t){var=\"\" o,i;=\"\" *!=\"\" photoswipe=\"\" default ui=\"\" -=\"\" 4.1.1=\"\" 2015-12-24=\"\" *=\"\" http:=\"\" photoswipe.com=\"\" copyright=\"\" (c)=\"\" dmitry=\"\" semenov;=\"\" !function(n,a){o=\"a,i=\"function\"==typeof\" o?o.call(e,t,e,a):o,!(void=\"\" 0!=\"=i&&(A.exports=i))}(this,function(){\"use\" strict\";var=\"\" t,o,i,n,a,r,s,l,c,u,p,d,g,m,m,f,w,h,i,y=\"this,x=!1,T=!0,b=!0,N={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(A,e){return\" a.title?(e.children[0].innerhtml=\"A.title,!0):(e.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share\" on=\"\" facebook\",url:\"https:=\"\" www.facebook.com=\"\" sharer=\"\" sharer.php?u=\"},{id:\" twitter\",label:\"tweet\",url:\"https:=\"\" twitter.com=\"\" intent=\"\" tweet?text=\"&url=\"},{id:\"pinterest\",label:\"Pin\" it\",url:\"http:=\"\" www.pinterest.com=\"\" pin=\"\" create=\"\" button=\"\" ?url=\"&media=&description=\"},{id:\"download\",label:\"Download\" image\",url:\"\",download:!0}],getimageurlforshare:function(){return=\"\" a.curritem.src||\"\"},getpageurlforshare:function(){return=\"\" window.location.href},gettextforshare:function(){return=\"\" a.curritem.title||\"\"},indexindicatorsep:\"=\"\" \",fitcontrolswidth:1200},d=\"function(A){if(f)return!0;A=A||window.event,M.timeToIdle&&M.mouseUsed&&!c&&Y();for(var\" t,o,i=\"A.target||A.srcElement,n=i.getAttribute(\"class\")||\"\",a=0;a<P.length;a++)t=P[a],t.onTap&&n.indexOf(\"pswp__\"+t.name)\">-1&&(t.onTap(),o=!0);if(o){A.stopPropagation&&A.stopPropagation(),f=!0;var r=e.features.isOldAndroid?600:30;w=setTimeout(function(){f=!1},r)}},C=function(){return!A.likelyTouchDevice||M.mouseUsed||screen.width>M.fitControlsWidth},E=function(A,t,o){e[(o?\"add\":\"remove\")+\"Class\"](A,\"pswp__\"+t)},v=function(){var A=1===M.getNumItemsFn();A!==m&&(E(o,\"ui--one-slide\",A),m=A)},j=function(){E(s,\"share-modal--hidden\",b)},B=function(){return b=!b,b?(e.removeClass(s,\"pswp__share-modal--fade-in\"),setTimeout(function(){b&&j()},300)):(j(),setTimeout(function(){b||e.addClass(s,\"pswp__share-modal--fade-in\")},30)),b||L(),!1},Q=function(e){e=e||window.event;var t=e.target||e.srcElement;return A.shout(\"shareLinkClick\",e,t),!!t.href&&(!!t.hasAttribute(\"download\")||(window.open(t.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),b||B(),!1))},L=function(){for(var A,e,t,o,i,n=\"\",a=0;a<m.sharebuttons.length;a++)a=m.sharebuttons[a],t=m.getimageurlforshare(a),o=m.getpageurlforshare(a),i=m.gettextforshare(a),e=a.url.replace(\"\",encodeuricomponent(o)).replace(\"\",encodeuricomponent(t)).replace(\"\",t).replace(\"\",encodeuricomponent(i)),n+='<a href=\"'+e+'\" target=\"_blank\" class=\"pswp__share--'+A.id+'\" '+(a.download?\"download\":\"\")+\"=\"\">\"+A.label+\"\",M.parseShareButtonOut&&(n=M.parseShareButtonOut(A,n));s.children[0].innerHTML=n,s.children[0].onclick=Q},z=function(A){for(var t=0;t<m.closeelclasses.length;t++)if(e.hasclass(a,\"pswp__\"+m.closeelclasses[t]))return!0},k=0,y=function(){cleartimeout(i),k=0,c&&y.setidle(!1)},o=function(a){a=a?a:window.event;var e=\"A.relatedTarget||A.toElement;e&&\"HTML\"!==e.nodeName||(clearTimeout(I),I=setTimeout(function(){y.setIdle(!0)},M.timeToIdleOutside))},_=function(){M.fullscreenEl&&!e.features.isOldAndroid&&(t||(t=y.getFullscreenAPI()),t?(e.bind(document,t.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(A.template,\"pswp--supports-fs\")):e.removeClass(A.template,\"pswp--supports-fs\"))},U=function(){M.preloaderEl&&(S(!0),u(\"beforeChange\",function(){clearTimeout(g),g=setTimeout(function(){A.currItem&&A.currItem.loading?(!A.allowProgressiveImg()||A.currItem.img&&!A.currItem.img.naturalWidth)&&S(!1):S(!0)},M.loadingIndicatorDelay)}),u(\"imageLoadComplete\",function(e,t){A.currItem===t&&S(!0)}))},S=function(A){d!==A&&(E(p,\"preloader--active\",!A),d=A)},G=function(A){var\" t=\"A.vGap;if(C()){var\" a=\"M.barsSize;if(M.captionEl&&\"auto\"===a.bottom)if(n||(n=e.createEl(\"pswp__caption\" pswp__caption--fake\"),n.appendchild(e.createel(\"pswp__caption__center\")),o.insertbefore(n,i),e.addclass(o,\"pswp__ui--fit\")),m.addcaptionhtmlfn(a,n,!0)){var=\"\" r=\"n.clientHeight;t.bottom=parseInt(r,10)||44}else\" t.bottom=\"a.top;else\" ==\"=a.bottom?0:a.bottom;t.top=a.top}else\" t.top=\"t.bottom=0},F=function(){M.timeToIdle&&u(\"mouseUsed\",function(){e.bind(document,\"mousemove\",Y),e.bind(document,\"mouseout\",O),h=setInterval(function(){k++,2===k&&y.setIdle(!0)},M.timeToIdle/2)})},R=function(){u(\"onVerticalDrag\",function(A){T&&A<.95?y.hideControls():!T&&A\">=.95&&y.showControls()});var A;u(\"onPinchClose\",function(e){T&&e<.9?(y.hidecontrols(),a=!0):a&&!t&&e>.9&&y.showControls()}),u(\"zoomGestureEnded\",function(){A=!1,A&&!T&&y.showControls()})},P=[{name:\"caption\",option:\"captionEl\",onInit:function(A){i=A}},{name:\"share-modal\",option:\"shareEl\",onInit:function(A){s=A},onTap:function(){B()}},{name:\"button--share\",option:\"shareEl\",onInit:function(A){r=A},onTap:function(){B()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:A.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(A){a=A}},{name:\"button--close\",option:\"closeEl\",onTap:A.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:A.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:A.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){t.isFullscreen()?t.exit():t.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(A){p=A}}],Z=function(){var A,t,i,n=function(o){if(o)for(var n=o.length,a=0;a<n;a++){a=o[a],t=a.classname;for(var r=\"0;r<P.length;r++)i=P[r],t.indexOf(\"pswp__\"+i.name)\">-1&&(M[i.option]?(e.removeClass(A,\"pswp__element--disabled\"),i.onInit&&i.onInit(A)):e.addClass(A,\"pswp__element--disabled\"))}};n(o.children);var a=e.getChildByClass(o,\"pswp__top-bar\");a&&n(a.children)};y.init=function(){e.extend(A.options,N,!0),M=A.options,o=e.getChildByClass(A.scrollWrap,\"pswp__ui\"),u=A.listen,R(),u(\"beforeChange\",y.update),u(\"doubleTap\",function(e){var t=A.currItem.initialZoomLevel;A.getZoomLevel()!==t?A.zoomTo(t,e,333):A.zoomTo(M.getDoubleTapZoom(!1,A.currItem),e,333)}),u(\"preventDragEvent\",function(A,e,t){var o=A.target||A.srcElement;o&&o.getAttribute(\"class\")&&A.type.indexOf(\"mouse\")>-1&&(o.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(t.prevent=!1)}),u(\"bindEvents\",function(){e.bind(o,\"pswpTap click\",D),e.bind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),A.likelyTouchDevice||e.bind(A.scrollWrap,\"mouseover\",y.onMouseOver)}),u(\"unbindEvents\",function(){b||B(),h&&clearInterval(h),e.unbind(document,\"mouseout\",O),e.unbind(document,\"mousemove\",Y),e.unbind(o,\"pswpTap click\",D),e.unbind(A.scrollWrap,\"pswpTap\",y.onGlobalTap),e.unbind(A.scrollWrap,\"mouseover\",y.onMouseOver),t&&(e.unbind(document,t.eventK,y.updateFullscreen),t.isFullscreen()&&(M.hideAnimationDuration=0,t.exit()),t=null)}),u(\"destroy\",function(){M.captionEl&&(n&&o.removeChild(n),e.removeClass(i,\"pswp__caption--empty\")),s&&(s.children[0].onclick=null),e.removeClass(o,\"pswp__ui--over-close\"),e.addClass(o,\"pswp__ui--hidden\"),y.setIdle(!1)}),M.showAnimationDuration||e.removeClass(o,\"pswp__ui--hidden\"),u(\"initialZoomIn\",function(){M.showAnimationDuration&&e.removeClass(o,\"pswp__ui--hidden\")}),u(\"initialZoomOut\",function(){e.addClass(o,\"pswp__ui--hidden\")}),u(\"parseVerticalMargin\",G),Z(),M.shareEl&&r&&s&&(b=!0),v(),F(),_(),U()},y.setIdle=function(A){c=A,E(o,\"ui--idle\",A)},y.update=function(){T&&A.currItem?(y.updateIndexIndicator(),M.captionEl&&(M.addCaptionHTMLFn(A.currItem,i),E(i,\"caption--empty\",!A.currItem.title)),x=!0):x=!1,b||B(),v()},y.updateFullscreen=function(o){o&&setTimeout(function(){A.setScrollOffset(0,e.getScrollY())},50),e[(t.isFullscreen()?\"add\":\"remove\")+\"Class\"](A.template,\"pswp--fs\")},y.updateIndexIndicator=function(){M.counterEl&&(a.innerHTML=A.getCurrentIndex()+1+M.indexIndicatorSep+M.getNumItemsFn())},y.onGlobalTap=function(t){t=t||window.event;var o=t.target||t.srcElement;if(!f)if(t.detail&&\"mouse\"===t.detail.pointerType){if(z(o))return void A.close();e.hasClass(o,\"pswp__img\")&&(1===A.getZoomLevel()&&A.getZoomLevel()<=a.curritem.fitratio?m.clicktoclosenonzoomable&&a.close():a.toggledesktopzoom(t.detail.releasepoint))}else 2015=\"\" if(m.taptotogglecontrols&&(t?y.hidecontrols():y.showcontrols()),m.taptoclose&&(e.hasclass(o,\"pswp__img\")||z(o)))return=\"\" void=\"\" a.close()},y.onmouseover=\"function(A){A=A||window.event;var\" e=\"A.target||A.srcElement;E(o,\"ui--over-close\",z(e))},y.hideControls=function(){e.addClass(o,\"pswp__ui--hidden\"),T=!1},y.showControls=function(){T=!0,x||y.update(),e.removeClass(o,\"pswp__ui--hidden\")},y.supportsFullscreen=function(){var\" a=\"document;return!!(A.exitFullscreen||A.mozCancelFullScreen||A.webkitExitFullscreen||A.msExitFullscreen)},y.getFullscreenAPI=function(){var\" e,t=\"document.documentElement,o=\"fullscreenchange\";return\" t.requestfullscreen?e=\"{enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:o}:t.mozRequestFullScreen?e={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+o}:t.webkitRequestFullscreen?e={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+o}:t.msRequestFullscreen&&(e={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),e&&(e.enter=function(){return\" l=\"M.closeOnScroll,M.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?A.template[this.enterK]():void\" a.template[this.enterk](element.allow_keyboard_input)},e.exit=\"function(){return\" m.closeonscroll=\"l,document[this.exitK]()},e.isFullscreen=function(){return\" document[this.elementk]}),e}};return=\"\" a})},function(a,e,t){var=\"\" o,i;=\"\" *!=\"\" photoswipe=\"\" -=\"\" v4.1.1=\"\" 2015-12-24=\"\" *=\"\" http:=\"\" photoswipe.com=\"\" copyright=\"\" (c)=\"\" dmitry=\"\" semenov;=\"\" !function(n,a){o=\"a,i=\"function\"==typeof\" o?o.call(e,t,e,a):o,!(void=\"\" 0!=\"=i&&(A.exports=i))}(this,function(){\"use\" strict\";var=\"\" i=\"{features:null,bind:function(A,e,t,o){var\" \");for(var=\"\" n=\"0;n<e.length;n++)e[n]&&A[i](e[n],t,!1)},isArray:function(A){return\" instanceof=\"\" array},createel:function(a,e){var=\"\" t=\"document.createElement(e||\"div\");return\" a&&(t.classname=\"A),t},getScrollY:function(){var\" regexp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");a.classname=\"A.className.replace(t,\"\" \").replace(=\"\" ^\\s\\s*=\"\" ,\"\").replace(=\"\" \\s\\s*$=\"\" ,\"\")},addclass:function(a,e){i.hasclass(a,e)||(a.classname+=\"(A.className?\"\" \":\"\")+e)},hasclass:function(a,e){return=\"\" a.classname&&new=\"\" regexp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(a.classname)},getchildbyclass:function(a,e){for(var=\"\" t;t=\"t.nextSibling}},arraySearch:function(A,e,t){for(var\" o=\"A.length;o--;)if(A[o][t]===e)return\" o;return-1},extend:function(a,e,t){for(var=\"\" in=\"\" e)if(e.hasownproperty(o)){if(t&&a.hasownproperty(o))continue;a[o]=\"e[o]}},easing:{sine:{out:function(A){return\" math.sin(a*(math.pi=\"\" 2))},inout:function(a){return-(math.cos(math.pi*a)-1)=\"\" 2}},cubic:{out:function(a){return--a*a*a+1}}},detectfeatures:function(){if(i.features)return=\"\" i.features;var=\"\" window,window.requestanimationframe&&(o.raf=\"window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var\" (\\d+)_(\\d+)_?(\\d+)?=\"\" );a&&a.length=\"\">0&&(a=parseInt(a[1],10),a>=1&&8>a&&(o.isOldIOSPhone=!0))}var r=n.match(/Android\\s([0-9\\.]*)/),s=r?r[1]:0;s=parseFloat(s),s>=1&&(4.4>s&&(o.isOldAndroid=!0),o.androidVersion=s),o.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,u=[\"transform\",\"perspective\",\"animationName\"],p=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],d=0;4>d;d++){t=p[d];for(var g=0;3>g;g++)l=u[g],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!o[l]&&c in e&&(o[l]=c);t&&!o.raf&&(t=t.toLowerCase(),o.raf=window[t+\"RequestAnimationFrame\"],o.raf&&(o.caf=window[t+\"CancelAnimationFrame\"]||window[t+\"CancelRequestAnimationFrame\"]))}if(!o.raf){var m=0;o.raf=function(A){var e=(new Date).getTime(),t=Math.max(0,16-(e-m)),o=window.setTimeout(function(){A(e+t)},t);return m=e+t,o},o.caf=function(A){clearTimeout(A)}}return o.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(A,e,t,o){e=e.split(\" \");for(var i,n=(o?\"detach\":\"attach\")+\"Event\",a=function(){t.handleEvent.call(t)},r=0;r<e.length;r++)if(i=e[r])if(\"object\"==typeof t&&t.handleevent){if(o){if(!t[\"oldie\"+i])return!1}else=\"\" t[\"oldie\"+i]=\"a;A[n](\"on\"+i,t[\"oldIE\"+i])}else\" a[n](\"on\"+i,t)});var=\"\" n=\"this,a=25,r=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(A){return\"A\"===A.tagName},getDoubleTapZoom:function(A,e){return\" a?1:e.initialzoomlevel<.7?1:1.33},maxspreadzoom:1.33,modal:!0,scalemode:\"fit\"};i.extend(s,o);var=\"\" l,c,u,p,d,g,m,m,f,w,h,i,y,x,t,b,n,d,c,e,v,j,b,q,l,z,k,y,o,_,u,s,g,f,r,p,z,h,j,w,v,x,k,q,$,aa,ea,ta,oa,ia,na,aa,ra,sa,la,ca,ua=\"function(){return{x:0,y:0}},pA=uA(),dA=uA(),gA=uA(),mA={},MA=0,fA={},wA=uA(),hA=0,IA=!0,yA=[],xA={},TA=!1,bA=function(A,e){i.extend(n,e.publicMethods),yA.push(A)},NA=function(A){var\" e=\"$e();return\" a=\"\">e-1?A-e:0>A?e+A:A},DA={},CA=function(A,e){return DA[A]||(DA[A]=[]),DA[A].push(e)},EA=function(A){var e=DA[A];if(e){var t=Array.prototype.slice.call(arguments);t.shift();for(var o=0;o<e.length;o++)e[o].apply(n,t)}},va=function(){return(new date).gettime()},ja=\"function(A){sA=A,n.bg.style.opacity=A*s.bgOpacity},BA=function(A,e,t,o,i){(!TA||i&&i!==n.currItem)&&(o/=i?i.fitRatio:n.currItem.fitRatio),A[j]=I+e+\"px,\" \"+t+\"px\"+y+\"=\"\" scale(\"+o+\")\"},qa=\"function(A){oA&&(A&&(w\">n.currItem.fitRatio?TA||(ut(n.currItem,!1,!0),TA=!0):TA&&(ut(n.currItem),TA=!1)),BA(oA,gA.x,gA.y,w))},LA=function(A){A.container&&BA(A.container.style,A.initialPosition.x,A.initialPosition.y,A.initialZoomLevel,A)},zA=function(A,e){e[j]=I+A+\"px, 0px\"+y},kA=function(A,e){if(!s.loop&&e){var t=p+(wA.x*MA-A)/wA.x,o=Math.round(A-we.x);(0>t&&o>0||t>=$e()-1&&0>o)&&(A=we.x+o*s.mainScrollEndFriction)}we.x=A,zA(A,d)},YA=function(A,e){var t=he[A]-fA[A];return dA[A]+pA[A]+t-t*(e/h)},OA=function(A,e){A.x=e.x,A.y=e.y,e.id&&(A.id=e.id)},_A=function(A){A.x=Math.round(A.x),A.y=Math.round(A.y)},UA=null,SA=function(){UA&&(i.unbind(document,\"mousemove\",SA),i.addClass(A,\"pswp--has_mouse\"),s.mouseUsed=!0,EA(\"mouseUsed\")),UA=setTimeout(function(){UA=null},100)},GA=function(){i.bind(document,\"keydown\",n),U.transform&&i.bind(n.scrollWrap,\"click\",n),s.mouseUsed||i.bind(document,\"mousemove\",SA),i.bind(window,\"resize scroll\",n),EA(\"bindEvents\")},FA=function(){i.unbind(window,\"resize\",n),i.unbind(window,\"scroll\",f.scroll),i.unbind(document,\"keydown\",n),i.unbind(document,\"mousemove\",SA),U.transform&&i.unbind(n.scrollWrap,\"click\",n),H&&i.unbind(window,m,n),EA(\"unbindEvents\")},RA=function(A,e){var t=rt(n.currItem,mA,A);return e&&(tA=t),t},PA=function(A){return A||(A=n.currItem),A.initialZoomLevel},ZA=function(A){return A||(A=n.currItem),A.w>0?s.maxSpreadZoom:1},HA=function(A,e,t,o){return o===n.currItem.initialZoomLevel?(t[A]=n.currItem.initialPosition[A],!0):(t[A]=YA(A,o),t[A]>e.min[A]?(t[A]=e.min[A],!0):t[A]<e.max[a]&&(t[a]=e.max[a],!0))},ja=function(){if(j){var e=\"U.perspective&&!Q;return\" i=\"translate\" +(e?\"3d(\":\"(\"),void(y=\"U.perspective?\",\" 0px)\":\")\")}j=\"left\" ,i.addclass(a,\"pswp--ie\"),za=\"function(A,e){e.left=A+\"px\"},LA=function(A){var\">1?1:A.fitRatio,t=A.container.style,o=e*A.w,i=e*A.h;t.width=o+\"px\",t.height=i+\"px\",t.left=A.initialPosition.x+\"px\",t.top=A.initialPosition.y+\"px\"},QA=function(){if(oA){var A=oA,e=n.currItem,t=e.fitRatio>1?1:e.fitRatio,o=t*e.w,i=t*e.h;A.width=o+\"px\",A.height=i+\"px\",A.left=gA.x+\"px\",A.top=gA.y+\"px\"}}},WA=function(A){var e=\"\";s.escKey&&27===A.keyCode?e=\"close\":s.arrowKeys&&(37===A.keyCode?e=\"prev\":39===A.keyCode&&(e=\"next\")),e&&(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey||(A.preventDefault?A.preventDefault():A.returnValue=!1,n[e]()))},VA=function(A){A&&(V||W||iA||P)&&(A.preventDefault(),A.stopPropagation())},XA=function(){n.setScrollOffset(0,i.getScrollY())},KA={},qA=0,$A=function(A){KA[A]&&(KA[A].raf&&z(KA[A].raf),qA--,delete KA[A])},Ae=function(A){KA[A]&&$A(A),KA[A]||(qA++,KA[A]={})},ee=function(){for(var A in KA)KA.hasOwnProperty(A)&&$A(A)},te=function(A,e,t,o,i,n,a){var r,s=vA();Ae(A);var l=function(){if(KA[A]){if(r=vA()-s,r>=o)return $A(A),n(t),void(a&&a());n((t-e)*i(r/o)+e),KA[A].raf=L(l)}};l()},oe={shout:EA,listen:CA,viewportSize:mA,options:s,isMainScrollAnimating:function(){return iA},getZoomLevel:function(){return w},getCurrentIndex:function(){return p},isDragging:function(){return H},isZooming:function(){return $},setScrollOffset:function(A,e){fA.x=A,_=fA.y=e,EA(\"updateScrollOffset\",fA)},applyZoomPan:function(A,e,t,o){gA.x=e,gA.y=t,w=A,QA(o)},init:function(){if(!l&&!c){var t;n.framework=i,n.template=A,n.bg=i.getChildByClass(A,\"pswp__bg\"),k=A.className,l=!0,U=i.detectFeatures(),L=U.raf,z=U.caf,j=U.transform,O=U.oldIE,n.scrollWrap=i.getChildByClass(A,\"pswp__scroll-wrap\"),n.container=i.getChildByClass(n.scrollWrap,\"pswp__container\"),d=n.container.style,n.itemHolders=b=[{el:n.container.children[0],wrap:0,index:-1},{el:n.container.children[1],wrap:0,index:-1},{el:n.container.children[2],wrap:0,index:-1}],b[0].el.style.display=b[2].el.style.display=\"none\",JA(),f={resize:n.updateSize,scroll:XA,keydown:WA,click:VA};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),t=0;t<ya.length;t++)n[\"init\"+ya[t]]();if(e){var a=\"n.ui=new\" e(n,i);a.init()}ea(\"firstupdate\"),p=\"p||s.index||0,(isNaN(p)||0\">p||p>=$e())&&(p=0),n.currItem=qe(p),(U.isOldIOSPhone||U.isOldAndroid)&&(IA=!1),A.setAttribute(\"aria-hidden\",\"false\"),s.modal&&(IA?A.style.position=\"fixed\":(A.style.position=\"absolute\",A.style.top=i.getScrollY()+\"px\")),void 0===_&&(EA(\"initialLayout\"),_=Y=i.getScrollY());var u=\"pswp--open \";for(s.mainClass&&(u+=s.mainClass+\" \"),s.showHideOpacity&&(u+=\"pswp--animate_opacity \"),u+=Q?\"pswp--touch\":\"pswp--notouch\",u+=U.animationName?\" pswp--css_animation\":\"\",u+=U.svg?\" pswp--svg\":\"\",i.addClass(A,u),n.updateSize(),g=-1,hA=null,t=0;r>t;t++)zA((t+g)*wA.x,b[t].el.style);O||i.bind(n.scrollWrap,M,n),CA(\"initialZoomInEnd\",function(){n.setContent(b[0],p-1),n.setContent(b[2],p+1),b[0].el.style.display=b[2].el.style.display=\"block\",s.focus&&A.focus(),GA()}),n.setContent(b[1],p),n.updateCurrItem(),EA(\"afterInit\"),IA||(x=setInterval(function(){qA||H||$||w!==n.currItem.initialZoomLevel||n.updateSize()},1e3)),i.addClass(A,\"pswp--visible\")}},close:function(){l&&(l=!1,c=!0,EA(\"close\"),FA(),et(n.currItem,null,!0,n.destroy))},destroy:function(){EA(\"destroy\"),We&&clearTimeout(We),A.setAttribute(\"aria-hidden\",\"true\"),A.className=k,x&&clearInterval(x),i.unbind(n.scrollWrap,M,n),i.unbind(window,\"scroll\",n),be(),ee(),DA=null},panTo:function(A,e,t){t||(A>tA.min.x?A=tA.min.x:A<ta.max.x&&(a=ta.max.x),e>tA.min.y?e=tA.min.y:e<ta.max.y&&(e=ta.max.y)),ga.x=a,ga.y=e,qa()},handleevent:function(a){a=a||window.event,f[a.type]&&f[a.type](a)},goto:function(a){a=na(a);var e=\"A-p;hA=e,p=A,n.currItem=qe(p),MA-=e,kA(wA.x*MA),ee(),iA=!1,n.updateCurrItem()},next:function(){n.goTo(p+1)},prev:function(){n.goTo(p-1)},updateCurrZoomItem:function(A){if(A&&EA(\"beforeChange\",0),b[1].el.children.length){var\" oa=\"null;tA=n.currItem.bounds,h=w=n.currItem.initialZoomLevel,gA.x=tA.center.x,gA.y=tA.center.y,A&&EA(\"afterChange\")},invalidateCurrItems:function(){T=!0;for(var\" a=\"0;r\">A;A++)b[A].item&&(b[A].item.needsUpdate=!0)},updateCurrItem:function(A){if(0!==hA){var e,t=Math.abs(hA);if(!(A&&2>t)){n.currItem=qe(p),TA=!1,EA(\"beforeChange\",hA),t>=r&&(g+=hA+(hA>0?-r:r),t=r);for(var o=0;t>o;o++)hA>0?(e=b.shift(),b[r-1]=e,g++,zA((g+2)*wA.x,e.el.style),n.setContent(e,p-t+o+1+1)):(e=b.pop(),b.unshift(e),g--,zA(g*wA.x,e.el.style),n.setContent(e,p+t-o-1-1));if(oA&&1===Math.abs(hA)){var i=qe(N);i.initialZoomLevel!==w&&(rt(i,mA),ut(i),LA(i))}hA=0,n.updateCurrZoomItem(),N=p,EA(\"afterChange\")}}},updateSize:function(e){if(!IA&&s.modal){var t=i.getScrollY();if(_!==t&&(A.style.top=t+\"px\",_=t),!e&&xA.x===window.innerWidth&&xA.y===window.innerHeight)return;xA.x=window.innerWidth,xA.y=window.innerHeight,A.style.height=xA.y+\"px\"}if(mA.x=n.scrollWrap.clientWidth,mA.y=n.scrollWrap.clientHeight,XA(),wA.x=mA.x+Math.round(mA.x*s.spacing),wA.y=mA.y,kA(wA.x*MA),EA(\"beforeResize\"),void 0!==g){for(var o,a,l,c=0;r>c;c++)o=b[c],zA((c+g)*wA.x,o.el.style),l=p+c-1,s.loop&&$e()>2&&(l=NA(l)),a=qe(l),a&&(T||a.needsUpdate||!a.bounds)?(n.cleanSlide(a),n.setContent(o,l),1===c&&(n.currItem=a,n.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===o.index&&l>=0&&n.setContent(o,l),a&&a.container&&(rt(a,mA),ut(a),LA(a));T=!1}h=w=n.currItem.initialZoomLevel,tA=n.currItem.bounds,tA&&(gA.x=tA.center.x,gA.y=tA.center.y,QA(!0)),EA(\"resize\")},zoomTo:function(A,e,t,o,n){e&&(h=w,he.x=Math.abs(e.x)-gA.x,he.y=Math.abs(e.y)-gA.y,OA(dA,gA));var a=RA(A,!1),r={};HA(\"x\",a,r,A),HA(\"y\",a,r,A);var s=w,l={x:gA.x,y:gA.y};_A(r);var c=function(e){1===e?(w=A,gA.x=r.x,gA.y=r.y):(w=(A-s)*e+s,gA.x=(r.x-l.x)*e+l.x,gA.y=(r.y-l.y)*e+l.y),n&&n(e),QA(1===e)};t?te(\"customZoomTo\",0,1,t,o||i.easing.sine.inOut,c):c(1)}},ie=30,ne=10,ae={},re={},se={},le={},ce={},ue=[],pe={},de=[],ge={},me=0,Me=uA(),fe=0,we=uA(),he=uA(),Ie=uA(),ye=function(A,e){return A.x===e.x&&A.y===e.y},xe=function(A,e){return Math.abs(A.x-e.x)<a&&math.abs(a.y-e.y)<a},te=function(a,e){return ge.x=\"Math.abs(A.x-e.x),ge.y=Math.abs(A.y-e.y),Math.sqrt(ge.x*ge.x+ge.y*ge.y)},be=function(){X&&(z(X),X=null)},Ne=function(){H&&(X=L(Ne),Ge())},De=function(){return!(\"fit\"===s.scaleMode&&w===n.currItem.initialZoomLevel)},Ce=function(A,e){return!(!A||A===document)&&(!(A.getAttribute(\"class\")&&A.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")\">-1)&&(e(A)?A:Ce(A.parentNode,e)))},Ee={},ve=function(A,e){return Ee.prevent=!Ce(A.target,s.isClickableElement),EA(\"preventDragEvent\",A,e,Ee),Ee.prevent},je=function(A,e){return e.x=A.pageX,e.y=A.pageY,e.id=A.identifier,e},Be=function(A,e,t){t.x=.5*(A.x+e.x),t.y=.5*(A.y+e.y)},Qe=function(A,e,t){if(A-G>50){var o=de.length>2?de.shift():{};o.x=e,o.y=t,de.push(o),G=A}},Le=function(){var A=gA.y-n.currItem.initialPosition.y;return 1-Math.abs(A/(mA.y/2))},ze={},ke={},Ye=[],Oe=function(A){for(;Ye.length>0;)Ye.pop();return B?(cA=0,ue.forEach(function(A){0===cA?Ye[0]=A:1===cA&&(Ye[1]=A),cA++})):A.type.indexOf(\"touch\")>-1?A.touches&&A.touches.length>0&&(Ye[0]=je(A.touches[0],ze),A.touches.length>1&&(Ye[1]=je(A.touches[1],ke))):(ze.x=A.pageX,ze.y=A.pageY,ze.id=\"\",Ye[0]=ze),Ye},_e=function(A,e){var t,o,i,a,r=0,l=gA[A]+e[A],c=e[A]>0,u=we.x+e.x,p=we.x-pe.x;return t=l>tA.min[A]||l<ta.max[a]?s.panendfriction:1,l=ga[a]+e[a]*t,!s.allowpantonext&&w!==n.curritem.initialzoomlevel||(oa?\"h\"!==na||\"x\"!==a||w||(c?(l>tA.min[A]&&(t=s.panEndFriction,r=tA.min[A]-l,o=tA.min[A]-dA[A]),(0>=o||0>p)&&$e()>1?(a=u,0>p&&u>pe.x&&(a=pe.x)):tA.min.x!==tA.max.x&&(i=l)):(l<ta.max[a]&&(t=s.panendfriction,r=l-ta.max[a],o=da[a]-ta.max[a]),(0>=o||p>0)&&$e()>1?(a=u,p>0&&u<pe.x&&(a=pe.x)):ta.min.x!==ta.max.x&&(i=l))):a=u,\"x\"!==a)?void(ia||k||w>n.currItem.fitRatio&&(gA[A]+=e[A]*t)):(void 0!==a&&(kA(a,!0),K=a!==pe.x),tA.min.x!==tA.max.x&&(void 0!==i?gA.x=i:K||(gA.x+=e.x*t)),void 0!==a)},Ue=function(A){if(!(\"mousedown\"===A.type&&A.button>0)){if(Ke)return void A.preventDefault();if(!Z||\"mousedown\"!==A.type){if(ve(A,!0)&&A.preventDefault(),EA(\"pointerDown\"),B){var e=i.arraySearch(ue,A.pointerId,\"id\");0>e&&(e=ue.length),ue[e]={x:A.pageX,y:A.pageY,id:A.pointerId}}var t=Oe(A),o=t.length;q=null,ee(),H&&1!==o||(H=aA=!0,i.bind(window,m,n),R=lA=rA=P=K=V=J=W=!1,nA=null,EA(\"firstTouchStart\",t),OA(dA,gA),pA.x=pA.y=0,OA(le,t[0]),OA(ce,le),pe.x=wA.x*MA,de=[{x:le.x,y:le.y}],G=S=vA(),RA(w,!0),be(),Ne()),!$&&o>1&&!iA&&!K&&(h=w,W=!1,$=J=!0,pA.y=pA.x=0,OA(dA,gA),OA(ae,t[0]),OA(re,t[1]),Be(ae,re,Ie),he.x=Math.abs(Ie.x)-gA.x,he.y=Math.abs(Ie.y)-gA.y,AA=eA=Te(ae,re))}}},Se=function(A){if(A.preventDefault(),B){var e=i.arraySearch(ue,A.pointerId,\"id\");if(e>-1){var t=ue[e];t.x=A.pageX,t.y=A.pageY}}if(H){var o=Oe(A);if(nA||V||$)q=o;else if(we.x!==wA.x*MA)nA=\"h\";else{var n=Math.abs(o[0].x-le.x)-Math.abs(o[0].y-le.y);Math.abs(n)>=ne&&(nA=n>0?\"h\":\"v\",q=o)}}},Ge=function(){if(q){var A=q.length;if(0!==A)if(OA(ae,q[0]),se.x=ae.x-le.x,se.y=ae.y-le.y,$&&A>1){if(le.x=ae.x,le.y=ae.y,!se.x&&!se.y&&ye(q[1],re))return;OA(re,q[1]),W||(W=!0,EA(\"zoomGestureStarted\"));var e=Te(ae,re),t=He(e);t>n.currItem.initialZoomLevel+n.currItem.initialZoomLevel/15&&(lA=!0);var o=1,i=PA(),a=ZA();if(i>t)if(s.pinchToClose&&!lA&&h<=n.curritem.initialzoomlevel){var r=\"i-t,l=1-r/(i/1.2);jA(l),EA(\"onPinchClose\",l),rA=!0}else\" o=\"(i-t)/i,o\">1&&(o=1),t=i-o*(i/3);else t>a&&(o=(t-a)/(6*i),o>1&&(o=1),t=a+o*i);0>o&&(o=0),AA=e,Be(ae,re,Me),pA.x+=Me.x-Ie.x,pA.y+=Me.y-Ie.y,OA(Ie,Me),gA.x=YA(\"x\",t),gA.y=YA(\"y\",t),R=t>w,w=t,QA()}else{if(!nA)return;if(aA&&(aA=!1,Math.abs(se.x)>=ne&&(se.x-=q[0].x-ce.x),Math.abs(se.y)>=ne&&(se.y-=q[0].y-ce.y)),le.x=ae.x,le.y=ae.y,0===se.x&&0===se.y)return;if(\"v\"===nA&&s.closeOnVerticalDrag&&!De()){pA.y+=se.y,gA.y+=se.y;var c=Le();return P=!0,EA(\"onVerticalDrag\",c),jA(c),void QA()}Qe(vA(),ae.x,ae.y),V=!0,tA=n.currItem.bounds;var u=_e(\"x\",se);u||(_e(\"y\",se),_A(gA),QA())}}},Fe=function(A){if(U.isOldAndroid){if(Z&&\"mouseup\"===A.type)return;A.type.indexOf(\"touch\")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}EA(\"pointerUp\"),ve(A,!1)&&A.preventDefault();var e;if(B){var t=i.arraySearch(ue,A.pointerId,\"id\");if(t>-1)if(e=ue.splice(t,1)[0],navigator.pointerEnabled)e.type=A.pointerType||\"mouse\";else{var o={4:\"mouse\",2:\"touch\",3:\"pen\"};e.type=o[A.pointerType],e.type||(e.type=A.pointerType||\"mouse\")}}var a,r=Oe(A),l=r.length;if(\"mouseup\"===A.type&&(l=0),2===l)return q=null,!0;1===l&&OA(ce,r[0]),0!==l||nA||iA||(e||(\"mouseup\"===A.type?e={x:A.pageX,y:A.pageY,type:\"mouse\"}:A.changedTouches&&A.changedTouches[0]&&(e={x:A.changedTouches[0].pageX,y:A.changedTouches[0].pageY,type:\"touch\"})),EA(\"touchRelease\",A,e));var c=-1;if(0===l&&(H=!1,i.unbind(window,m,n),be(),$?c=0:-1!==fe&&(c=vA()-fe)),fe=1===l?vA():-1,a=-1!==c&&150>c?\"zoom\":\"swipe\",$&&2>l&&($=!1,1===l&&(a=\"zoomPointerUp\"),EA(\"zoomGestureEnded\")),q=null,V||W||iA||P)if(ee(),F||(F=Re()),F.calculateSwipeSpeed(\"x\"),P){var u=Le();if(u<s.verticaldragrange)n.close();else{var p=\"gA.y,d=sA;te(\"verticalDrag\",0,1,300,i.easing.cubic.out,function(A){gA.y=(n.currItem.initialPosition.y-p)*A+p,jA((1-d)*A+d),QA()}),EA(\"onVerticalDrag\",1)}}else{if((K||iA)&&0===l){var\" g=\"Ze(a,F);if(g)return;a=\"zoomPointerUp\"}if(!iA)return\"swipe\"!==a?void\" je():void(!k&&w=\"\">n.currItem.fitRatio&&Pe(F))}},Re=function(){var A,e,t={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){de.length>1?(A=vA()-G+50,e=de[de.length-2][o]):(A=vA()-S,e=ce[o]),t.lastFlickOffset[o]=le[o]-e,t.lastFlickDist[o]=Math.abs(t.lastFlickOffset[o]),t.lastFlickDist[o]>20?t.lastFlickSpeed[o]=t.lastFlickOffset[o]/A:t.lastFlickSpeed[o]=0,Math.abs(t.lastFlickSpeed[o])<.1&&(t.lastflickspeed[o]=0),t.slowdownratio[o]=.95,t.slowdownratioreverse[o]=1-t.slowdownratio[o],t.speeddecelerationratio[o]=1},calculateoverboundsanimoffset:function(a,e){t.backanimstarted[a]||(ga[a]>tA.min[A]?t.backAnimDestination[A]=tA.min[A]:gA[A]<ta.max[a]&&(t.backanimdestination[a]=ta.max[a]),void 0!=\"=t.backAnimDestination[A]&&(t.slowDownRatio[A]=.7,t.slowDownRatioReverse[A]=1-t.slowDownRatio[A],t.speedDecelerationRatioAbs[A]<.05&&(t.lastFlickSpeed[A]=0,t.backAnimStarted[A]=!0,te(\"bounceZoomPan\"+A,gA[A],t.backAnimDestination[A],e||300,i.easing.sine.out,function(e){gA[A]=e,QA()}))))},calculateAnimOffset:function(A){t.backAnimStarted[A]||(t.speedDecelerationRatio[A]=t.speedDecelerationRatio[A]*(t.slowDownRatio[A]+t.slowDownRatioReverse[A]-t.slowDownRatioReverse[A]*t.timeDiff/10),t.speedDecelerationRatioAbs[A]=Math.abs(t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]),t.distanceOffset[A]=t.lastFlickSpeed[A]*t.speedDecelerationRatio[A]*t.timeDiff,gA[A]+=t.distanceOffset[A])},panAnimLoop:function(){return\" ka.zoompan&&(ka.zoompan.raf=\"L(t.panAnimLoop),t.now=vA(),t.timeDiff=t.now-t.lastNow,t.lastNow=t.now,t.calculateAnimOffset(\"x\"),t.calculateAnimOffset(\"y\"),QA(),t.calculateOverBoundsAnimOffset(\"x\"),t.calculateOverBoundsAnimOffset(\"y\"),t.speedDecelerationRatioAbs.x<.05&&t.speedDecelerationRatioAbs.y<.05)?(gA.x=Math.round(gA.x),gA.y=Math.round(gA.y),QA(),void\" $a(\"zoompan\")):void=\"\" 0}};return=\"\" t},pe=\"function(A){return\" a.calculateswipespeed(\"y\"),ta=\"n.currItem.bounds,A.backAnimDestination={},A.backAnimStarted={},Math.abs(A.lastFlickSpeed.x)<=.05&&Math.abs(A.lastFlickSpeed.y)<=.05?(A.speedDecelerationRatioAbs.x=A.speedDecelerationRatioAbs.y=0,A.calculateOverBoundsAnimOffset(\"x\"),A.calculateOverBoundsAnimOffset(\"y\"),!0):(Ae(\"zoomPan\"),A.lastNow=vA(),void\" a.pananimloop())},ze=\"function(A,e){var\" t;ia||(me=\"p);var\" o;if(\"swipe\"=\"==A){var\" a=\"le.x-ce.x,r=e.lastFlickDist.x<10;a\">ie&&(r||e.lastFlickOffset.x>20)?o=-1:-ie>a&&(r||e.lastFlickOffset.x<-20)&&(o=1)}var l;o&&(p+=\"o,0\">p?(p=s.loop?$e()-1:0,l=!0):p>=$e()&&(p=s.loop?0:$e()-1,l=!0),(!l||s.loop)&&(hA+=o,MA-=o,t=!0));var c,u=wA.x*MA,d=Math.abs(u-we.x);return t||u>we.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,me===p&&(t=!1),iA=!0,EA(\"mainScrollAnimStart\"),te(\"mainScroll\",we.x,u,c,i.easing.cubic.out,kA,function(){ee(),iA=!1,me=-1,(t||me!==p)&&n.updateCurrItem(),EA(\"mainScrollAnimComplete\")}),t&&n.updateCurrItem(!0),t},He=function(A){return 1/eA*A*h},Je=function(){var A=w,e=PA(),t=ZA();e>w?A=e:w>t&&(A=t);var o,a=1,r=sA;return rA&&!R&&!lA&&e>w?(n.close(),!0):(rA&&(o=function(A){jA((a-r)*A+r)}),n.zoomTo(A,0,200,i.easing.cubic.out,o),!0)};bA(\"Gestures\",{publicMethods:{initGestures:function(){var A=function(A,e,t,o,i){D=A+e,C=A+t,E=A+o,v=i?A+i:\"\"};B=U.pointerEvent,B&&U.touch&&(U.touch=!1),B?navigator.pointerEnabled?A(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):A(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):U.touch?(A(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),Q=!0):A(\"mouse\",\"down\",\"move\",\"up\"),m=C+\" \"+E+\" \"+v,M=D,B&&!Q&&(Q=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),n.likelyTouchDevice=Q,f[D]=Ue,f[C]=Se,f[E]=Fe,v&&(f[v]=f[E]),U.touch&&(M+=\" mousedown\",m+=\" mousemove mouseup\",f.mousedown=f[D],f.mousemove=f[C],f.mouseup=f[E]),Q||(s.allowPanToNext=!1)}}});var We,Ve,Xe,Ke,qe,$e,At,et=function(e,t,o,a){We&&clearTimeout(We),Ke=!0,Xe=!0;var r;e.initialLayout?(r=e.initialLayout,e.initialLayout=null):r=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var l=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){$A(\"initialZoom\"),o?(n.template.removeAttribute(\"style\"),n.bg.removeAttribute(\"style\")):(jA(1),t&&(t.style.display=\"block\"),i.addClass(A,\"pswp--animated-in\"),EA(\"initialZoom\"+(o?\"OutEnd\":\"InEnd\"))),a&&a(),Ke=!1};if(!l||!r||void 0===r.x)return EA(\"initialZoom\"+(o?\"Out\":\"In\")),w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),A.style.opacity=o?0:1,jA(1),void(l?setTimeout(function(){c()},l):c());var d=function(){var t=u,a=!n.currItem.src||n.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility=\"hidden\"),o||(w=r.w/e.w,gA.x=r.x,gA.y=r.y-Y,n[a?\"template\":\"bg\"].style.opacity=.001,QA()),Ae(\"initialZoom\"),o&&!t&&i.removeClass(A,\"pswp--animated-in\"),a&&(o?i[(t?\"remove\":\"add\")+\"Class\"](A,\"pswp--animate_opacity\"):setTimeout(function(){i.addClass(A,\"pswp--animate_opacity\")},30)),We=setTimeout(function(){if(EA(\"initialZoom\"+(o?\"Out\":\"In\")),o){var n=r.w/e.w,s={x:gA.x,y:gA.y},u=w,p=sA,d=function(e){1===e?(w=n,gA.x=r.x,gA.y=r.y-_):(w=(n-u)*e+u,gA.x=(r.x-s.x)*e+s.x,gA.y=(r.y-_-s.y)*e+s.y),QA(),a?A.style.opacity=1-e:jA(p-e*p)};t?te(\"initialZoom\",0,1,l,i.easing.cubic.out,d,c):(d(1),We=setTimeout(c,l+20))}else w=e.initialZoomLevel,OA(gA,e.initialPosition),QA(),jA(1),a?A.style.opacity=1:jA(1),We=setTimeout(c,l+20)},o?25:90)};d()},tt={},ot=[],it={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ve.length}},nt=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},at=function(A,e,t){var o=A.bounds;o.center.x=Math.round((tt.x-e)/2),o.center.y=Math.round((tt.y-t)/2)+A.vGap.top,o.max.x=e>tt.x?Math.round(tt.x-e):o.center.x,o.max.y=t>tt.y?Math.round(tt.y-t)+A.vGap.top:o.center.y,o.min.x=e>tt.x?0:o.center.x,o.min.y=t>tt.y?A.vGap.top:o.center.y},rt=function(A,e,t){if(A.src&&!A.loadError){var o=!t;if(o&&(A.vGap||(A.vGap={top:0,bottom:0}),EA(\"parseVerticalMargin\",A)),tt.x=e.x,tt.y=e.y-A.vGap.top-A.vGap.bottom,o){var i=tt.x/A.w,n=tt.y/A.h;A.fitRatio=n>i?i:n;var a=s.scaleMode;\"orig\"===a?t=1:\"fit\"===a&&(t=A.fitRatio),t>1&&(t=1),A.initialZoomLevel=t,A.bounds||(A.bounds=nt())}if(!t)return;return at(A,A.w*t,A.h*t),o&&t===A.initialZoomLevel&&(A.initialPosition=A.bounds.center),A.bounds}return A.w=A.h=0,A.initialZoomLevel=A.fitRatio=1,A.bounds=nt(),A.initialPosition=A.bounds.center,A.bounds},st=function(A,e,t,o,i,a){e.loadError||o&&(e.imageAppended=!0,ut(e,o,e===n.currItem&&TA),t.appendChild(o),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display=\"none\",e.placeholder=null)},500))},lt=function(A){A.loading=!0,A.loaded=!1;var e=A.img=i.createEl(\"pswp__img\",\"img\"),t=function(){A.loading=!1,A.loaded=!0,A.loadComplete?A.loadComplete(A):A.img=null,e.onload=e.onerror=null,e=null};return e.onload=t,e.onerror=function(){A.loadError=!0,t()},e.src=A.src,e},ct=function(A,e){return A.src&&A.loadError&&A.container?(e&&(A.container.innerHTML=\"\"),A.container.innerHTML=s.errorMsg.replace(\"%url%\",A.src),!0):void 0},ut=function(A,e,t){if(A.src){e||(e=A.container.lastChild);var o=t?A.w:Math.round(A.w*A.fitRatio),i=t?A.h:Math.round(A.h*A.fitRatio);A.placeholder&&!A.loaded&&(A.placeholder.style.width=o+\"px\",A.placeholder.style.height=i+\"px\"),e.style.width=o+\"px\",e.style.height=i+\"px\"}},pt=function(){if(ot.length){for(var A,e=0;e<ot.length;e++)a=ot[e],a.holder.index===a.index&&st(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);ot=[]}};ba(\"controller\",{publicmethods:{lazyloaditem:function(a){a=na(a);var e=\"qe(A);e&&(!e.loaded&&!e.loading||T)&&(EA(\"gettingData\",A,e),e.src&&lt(e))},initController:function(){i.extend(s,it,!0),n.items=Ve=t,qe=n.getItemAt,$e=s.getNumItemsFn,At=s.loop,$e()<3&&(s.loop=!1),CA(\"beforeChange\",function(A){var\" e,t=\"s.preload,o=null===A||A\">=0,i=Math.min(t[0],$e()),a=Math.min(t[1],$e());for(e=1;(o?a:i)>=e;e++)n.lazyLoadItem(p+e);for(e=1;(o?i:a)>=e;e++)n.lazyLoadItem(p-e)}),CA(\"initialLayout\",function(){n.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),CA(\"mainScrollAnimComplete\",pt),CA(\"initialZoomInEnd\",pt),CA(\"destroy\",function(){for(var A,e=0;e<ve.length;e++)a=ve[e],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);ot=null})},getitemat:function(a){return a=\"\">=0&&void 0!==Ve[A]&&Ve[A]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!Q||s.mouseUsed||screen.width>1200},setContent:function(A,e){s.loop&&(e=NA(e));var t=n.getItemAt(A.index);t&&(t.container=null);var o,a=n.getItemAt(e);if(!a)return void(A.el.innerHTML=\"\");EA(\"gettingData\",e,a),A.index=e,A.item=a;var r=a.container=i.createEl(\"pswp__zoom-wrap\");if(!a.src&&a.html&&(a.html.tagName?r.appendChild(a.html):r.innerHTML=a.html),ct(a),rt(a,mA),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&(o=i.createEl(\"pswp__img\",\"img\"),o.style.opacity=1,o.src=a.src,ut(a,o),st(e,a,r,o,!0));else{if(a.loadComplete=function(t){if(l){if(A&&A.index===e){if(ct(t,!0))return t.loadComplete=t.img=null,rt(t,mA),LA(t),void(A.index===p&&n.updateCurrZoomItem());t.imageAppended?!Ke&&t.placeholder&&(t.placeholder.style.display=\"none\",t.placeholder=null):U.transform&&(iA||Ke)?ot.push({item:t,baseDiv:r,img:t.img,index:e,holder:A,clearPlaceholder:!0}):st(e,t,r,t.img,iA||Ke,!0)}t.loadComplete=null,t.img=null,EA(\"imageLoadComplete\",e,t)}},i.features.transform){var c=\"pswp__img pswp__img--placeholder\";c+=a.msrc?\"\":\" pswp__img--placeholder--blank\";var u=i.createEl(c,a.msrc?\"img\":\"\");a.msrc&&(u.src=a.msrc),ut(a,u),r.appendChild(u),a.placeholder=u}a.loading||lt(a),n.allowProgressiveImg()&&(!Xe&&U.transform?ot.push({item:a,baseDiv:r,img:a.img,index:e,holder:A}):st(e,a,r,a.img,!0,!0))}Xe||e!==p?LA(a):(oA=r.style,et(a,o||a.img)),A.el.innerHTML=\"\",A.el.appendChild(r)},cleanSlide:function(A){A.img&&(A.img.onload=A.img.onerror=null),A.loaded=A.loading=A.img=A.imageAppended=!1}}});var dt,gt={},mt=function(A,e,t){var o=document.createEvent(\"CustomEvent\"),i={origEvent:A,target:A.target,releasePoint:e,pointerType:t||\"touch\"};o.initCustomEvent(\"pswpTap\",!0,!0,i),A.target.dispatchEvent(o)};bA(\"Tap\",{publicMethods:{initTap:function(){CA(\"firstTouchStart\",n.onTapStart),CA(\"touchRelease\",n.onTapRelease),CA(\"destroy\",function(){gt={},dt=null})},onTapStart:function(A){A.length>1&&(clearTimeout(dt),dt=null)},onTapRelease:function(A,e){if(e&&!V&&!J&&!qA){var t=e;if(dt&&(clearTimeout(dt),dt=null,xe(t,gt)))return void EA(\"doubleTap\",t);if(\"mouse\"===e.type)return void mt(A,e,\"mouse\");var o=A.target.tagName.toUpperCase();if(\"BUTTON\"===o||i.hasClass(A.target,\"pswp__single-tap\"))return void mt(A,e);OA(gt,t),dt=setTimeout(function(){mt(A,e),dt=null},300)}}}});var Mt;bA(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){O||(Q?CA(\"mouseUsed\",function(){n.setupDesktopZoom()}):n.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Mt={};var t=\"wheel mousewheel DOMMouseScroll\";CA(\"bindEvents\",function(){i.bind(A,t,n.handleMouseWheel)}),CA(\"unbindEvents\",function(){Mt&&i.unbind(A,t,n.handleMouseWheel)}),n.mouseZoomedIn=!1;var o,a=function(){n.mouseZoomedIn&&(i.removeClass(A,\"pswp--zoomed-in\"),n.mouseZoomedIn=!1),1>w?i.addClass(A,\"pswp--zoom-allowed\"):i.removeClass(A,\"pswp--zoom-allowed\"),r()},r=function(){o&&(i.removeClass(A,\"pswp--dragging\"),o=!1)};CA(\"resize\",a),CA(\"afterChange\",a),CA(\"pointerDown\",function(){n.mouseZoomedIn&&(o=!0,i.addClass(A,\"pswp--dragging\"))}),CA(\"pointerUp\",r),e||a()},handleMouseWheel:function(A){if(w<=n.curritem.fitratio)return s.modal&&(!s.closeonscroll||qa||h?a.preventdefault():j&&math.abs(a.deltay)=\"\">2&&(u=!0,n.close())),!0;if(A.stopPropagation(),Mt.x=0,\"deltaX\"in A)1===A.deltaMode?(Mt.x=18*A.deltaX,Mt.y=18*A.deltaY):(Mt.x=A.deltaX,Mt.y=A.deltaY);else if(\"wheelDelta\"in A)A.wheelDeltaX&&(Mt.x=-.16*A.wheelDeltaX),A.wheelDeltaY?Mt.y=-.16*A.wheelDeltaY:Mt.y=-.16*A.wheelDelta;else{if(!(\"detail\"in A))return;Mt.y=A.detail}RA(w,!0);var e=gA.x-Mt.x,t=gA.y-Mt.y;(s.modal||e<=ta.min.x&&e>=tA.max.x&&t<=ta.min.y&&t>=tA.max.y)&&A.preventDefault(),n.panTo(e,t)},toggleDesktopZoom:function(e){e=e||{x:mA.x/2+fA.x,y:mA.y/2+fA.y};var t=s.getDoubleTapZoom(!0,n.currItem),o=w===t;n.mouseZoomedIn=!o,n.zoomTo(o?n.currItem.initialZoomLevel:t,e,333),i[(o?\"remove\":\"add\")+\"Class\"](A,\"pswp--zoomed-in\")}}});var ft,wt,ht,It,yt,xt,Tt,bt,Nt,Dt,Ct,Et,vt={history:!0,galleryUID:1},jt=function(){return Ct.hash.substring(1)},Bt=function(){ft&&clearTimeout(ft),ht&&clearTimeout(ht)},Qt=function(){var A=jt(),e={};if(A.length<5)return e;var=\"\" t,o=\"A.split(\"&\");for(t=0;t<o.length;t++)if(o[t]){var\" i=\"o[t].split(\"=\");i.length<2||(e[i[0]]=i[1])}if(s.galleryPIDs){var\" n=\"e.pid;for(e.pid=0,t=0;t<Ve.length;t++)if(Ve[t].pid===n){e.pid=t;break}}else\" e.pid=\"parseInt(e.pid,10)-1;return\" e.pid<0&&(e.pid=\"0),e},Lt=function(){if(ht&&clearTimeout(ht),qA||H)return\" void(ht=\"setTimeout(Lt,500));It?clearTimeout(wt):It=!0;var\" a=\"p+1,e=qe(p);e.hasOwnProperty(\"pid\")&&(A=e.pid);var\" t=\"Tt+\"&gid=\"+s.galleryUID+\"&pid=\"+A;bt||-1===Ct.hash.indexOf(t)&&(Dt=!0);var\" o=\"Ct.href.split(\"#\")[0]+\"#\"+t;Et?\"#\"+t!==window.location.hash&&history[bt?\"replaceState\":\"pushState\"](\"\",document.title,o):bt?Ct.replace(o):Ct.hash=t,bt=!0,wt=setTimeout(function(){It=!1},60)};bA(\"History\",{publicMethods:{initHistory:function(){if(i.extend(s,vt,!0),s.history){Ct=window.location,Dt=!1,Nt=!1,bt=!1,Tt=jt(),Et=\"pushState\"in\" history,tt.indexof(\"gid=\")>-1&&(Tt=Tt.split(\" &gid=\")[0],Tt=Tt.split(\" ?gid=\")[0]),CA(\" afterchange\",n.updateurl),ca(\"unbindevents\",function(){i.unbind(window,\"hashchange\",n.onhashchange)});var=\"\" e=\"Tt.indexOf(\"pid=\");e\">-1&&(Tt=Tt.substring(0,e),\"&\"===Tt.slice(-1)&&(Tt=Tt.slice(0,-1))),setTimeout(function(){l&&i.bind(window,\"hashchange\",n.onHashChange)},40)}},onHashChange:function(){return jt()===Tt?(Nt=!0,void n.close()):void(It||(yt=!0,n.goTo(Qt().pid),yt=!1))},updateURL:function(){Bt(),yt||(bt?ft=setTimeout(Lt,800):Lt())}}}),i.extend(n,oe)};return A})},function(A,e,t){function o(){a(\".photos\"),document.getElementsByClassName(\"albums\").length&&r(\"js-secret-album\")}var i=t(6),n=t(5),a=function(A){for(var e=function(A){for(var e,t,o,i,n=A.getElementsByClassName(\"thumb\"),a=n.length,r=[],s=0;s<a;s++)e=n[s],1===e.nodetype&&(t=e.children[0],o=t.getattribute(\"data-size\").split(\"x\"),i={src:t.getattribute(\"href\"),w:parseint(o[0],10),h:parseint(o[1],10)},e.children.length>1&&(i.title=e.children[2].innerHTML),\nt.children.length>0&&(i.msrc=t.children[0].getAttribute(\"src\")),i.el=e,r.push(i));return r},t=function p(A,e){return A&&(e(A)?A:p(A.parentNode,e))},o=function(A){A=A||window.event,A.preventDefault?A.preventDefault():A.returnValue=!1;var e=A.target||A.srcElement,o=t(e,function(A){return A.tagName&&\"FIGURE\"===A.tagName.toUpperCase()});if(o){for(var i,n=o.parentNode,a=o.parentNode.childNodes,s=a.length,l=0,c=0;c<s;c++)if(1===a[c].nodetype){if(a[c]===o){i=l;break}l++}return i=\"\">=0&&r(i,n),!1}},a=function(){var A=window.location.hash.substring(1),e={};if(A.length<5)return 0=\"\" e;for(var=\"\" t=\"A.split(\"&\"),o=0;o<t.length;o++)if(t[o]){var\" i=\"t[o].split(\"=\");i.length<2||(e[i[0]]=i[1])}return\" e.gid&&(e.gid=\"parseInt(e.gid,10)),e},r=function(A,t,o,a){var\" r,s,l,c=\"document.querySelectorAll(\".pswp\")[0];if(l=e(t),s={galleryUID:t.getAttribute(\"data-pswp-uid\"),getThumbBoundsFn:function(A){var\" e=\"l[A].el.getElementsByTagName(\"img\")[0],t=window.pageYOffset||document.documentElement.scrollTop,o=e.getBoundingClientRect();return{x:o.left,y:o.top+t,w:o.width}}},a)if(s.galleryPIDs){for(var\" u=\"0;u<l.length;u++)if(l[u].pid==A){s.index=u;break}}else\" s.index=\"parseInt(A,10)-1;else\" i(c,n,l,s),r.init())},s=\"document.querySelectorAll(A),l=0,c=s.length;l<c;l++)s[l].setAttribute(\"data-pswp-uid\",l+1),s[l].onclick=o;var\" photoswipe=\"\" default ui=\"\" css=\"\" by=\"\" dmitry=\"\" semenov=\"\" |=\"\" photoswipe.com=\"\" mit=\"\" license=\"\" *=\"\" .pswp__button{width:44px;height:44px;position:relative;background:none;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;-webkit-transition:opacity=\"\" .2s;transition:opacity=\"\" .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:none;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close=\"\" .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(\"+t(12)+\")=\"\" no-repeat;background-size:264px=\"\" 88px;width:44px;height:44px}@media=\"\" (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:1.1dppx),(min-resolution:105dpi){.pswp--svg=\"\" .pswp__button,.pswp--svg=\"\" .pswp__button--arrow--left:before,.pswp--svg=\"\" .pswp__button--arrow--right:before{background-image:url(\"+t(21)+\")}.pswp--svg=\"\" .pswp__button--arrow--left,.pswp--svg=\"\" .pswp__button--arrow--right{background:none}}.pswp__button--close{background-position:0=\"\" -44px}.pswp__button--share{background-position:-44px=\"\" -44px}.pswp__button--fs{display:none}.pswp--supports-fs=\"\" .pswp__button--fs{display:block}.pswp--fs=\"\" .pswp__button--fs{background-position:-44px=\"\" 0}.pswp__button--zoom{display:none;background-position:-88px=\"\" 0}.pswp--zoom-allowed=\"\" .pswp__button--zoom{display:block}.pswp--zoomed-in=\"\" .pswp__button--zoom{background-position:-132px=\"\" 0}.pswp--touch=\"\" .pswp__button--arrow--left,.pswp--touch=\"\" .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:none;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px=\"\" -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px=\"\" -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;-webkit-transition:opacity=\"\" .25s=\"\" ease-out;transition:opacity=\"\" ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0=\"\" 2px=\"\" 5px=\"\" rgba(0,0,0,.25);-webkit-transform:translatey(6px);transform:translatey(6px);-webkit-transition:-webkit-transform=\"\" .25s;transition:transform=\"\" .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip=\"\" a{display:block;padding:8px=\"\" 12px;font-size:14px;line-height:18px}.pswp__share-tooltip=\"\" a,.pswp__share-tooltip=\"\" a:hover{color:#000;text-decoration:none}.pswp__share-tooltip=\"\" a:first-child{border-radius:2px=\"\" 0}.pswp__share-tooltip=\"\" a:last-child{border-radius:0=\"\" 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in=\"\" .pswp__share-tooltip{-webkit-transform:translatey(0);transform:translatey(0)}.pswp--touch=\"\" .pswp__share-tooltip=\"\" a{padding:16px=\"\" 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px=\"\" solid=\"\" transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0=\"\" 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption=\"\" small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0=\"\" auto;font-size:13px;padding:10px;line-height:20px;word-break:break-all;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;-webkit-transition:opacity=\"\" ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active=\"\" .pswp__preloader__icn{background:url(\"+t(13)+\")=\"\" no-repeat}.pswp--css_animation=\"\" .pswp__preloader--active{opacity:1}.pswp--css_animation=\"\" .pswp__preloader--active=\"\" .pswp__preloader__icn{-webkit-animation:clockwise=\"\" .5s=\"\" linear=\"\" infinite;animation:clockwise=\"\" infinite}.pswp--css_animation=\"\" .pswp__preloader__donut{-webkit-animation:donut-rotate=\"\" 1s=\"\" cubic-bezier(.4,0,.22,1)=\"\" infinite;animation:donut-rotate=\"\" .pswp__preloader__icn{background:none;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation=\"\" .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation=\"\" .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px=\"\" #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:none;margin:0}@media=\"\" screen=\"\" and=\"\" (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes=\"\" clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes=\"\" clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes=\"\" donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes=\"\" donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}to{-webkit-transform:rotate(0);transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse=\"\" .pswp__button--arrow--left,.pswp--has_mouse=\"\" .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;-webkit-transition:opacity=\"\" 333ms=\"\" cubic-bezier(.4,0,.22,1);transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--has_mouse=\"\" .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit=\"\" .pswp__caption,.pswp__ui--fit=\"\" .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle=\"\" .pswp__button--arrow--left,.pswp__ui--idle=\"\" .pswp__button--arrow--right,.pswp__ui--idle=\"\" .pswp__top-bar{opacity:0}.pswp__ui--hidden=\"\" .pswp__button--arrow--left,.pswp__ui--hidden=\"\" .pswp__button--arrow--right,.pswp__ui--hidden=\"\" .pswp__caption,.pswp__ui--hidden=\"\" .pswp__top-bar{opacity:.001}.pswp__ui--one-slide=\"\" .pswp__button--arrow--left,.pswp__ui--one-slide=\"\" .pswp__button--arrow--right,.pswp__ui--one-slide=\"\" .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark=\"\" .pswp__top-bar{background:none}\",\"\"])},function(a,e,t){e=\"A.exports=t(1)(),e.push([A.id,\"/*!\" main=\"\" .pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:none}.pswp=\"\" *{box-sizing:border-box}.pswp=\"\" img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;-webkit-transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed=\"\" .pswp__img{cursor:zoom-in}.pswp--zoomed-in=\"\" .pswp__img{cursor:-webkit-grab;cursor:grab}.pswp--dragging=\"\" .pswp__img{cursor:-webkit-grabbing;cursor:grabbing}.pswp__bg{background:#000;opacity:0;transform:translatez(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__bg,.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%}.pswp__scroll-wrap{overflow:hidden}.pswp__container,.pswp__zoom-wrap{-ms-touch-action:none;touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left=\"\" top;transform-origin:left=\"\" top;-webkit-transition:-webkit-transform=\"\" cubic-bezier(.4,0,.22,1);transition:transform=\"\" cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;-webkit-transition:opacity=\"\" cubic-bezier(.4,0,.22,1)}.pswp--animated-in=\"\" .pswp__bg,.pswp--animated-in=\"\" .pswp__zoom-wrap{-webkit-transition:none;transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{right:0;bottom:0;overflow:hidden}.pswp__img,.pswp__item{position:absolute;left:0;top:0}.pswp__img{width:auto;height:auto}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie=\"\" .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg=\"\" a{color:#ccc;text-decoration:underline}\",\"\"])},function(a,e,t){e=\"A.exports=t(1)(),e.push([A.id,\"*{margin:0;padding:0}body{position:relative;background:url(\"+t(11)+\")\" repeat=\"\" #dde1e5;font-family:lucida=\"\" grande,lucida=\"\" sans=\"\" unicode,lucida,helvetica,hiragino=\"\" gb,microsoft=\"\" yahei,wenquanyi=\"\" micro=\"\" hei,sans-serif}.breadcrumb,body{margin-bottom:30px}.breadcrumb{padding-left:10px;position:fixed;z-index:999;width:100%;background:rgba(27,27,27,.9);height:50px;line-height:50px;left:0;top:0;font-family:menlo,monaco,andale=\"\" mono,lucida=\"\" console,courier=\"\" new,monospace;text-shadow:0=\"\" 1px=\"\" #0a0c10}.breadcrumb,.breadcrumb=\"\" a{color:#159bfd}h1,h2,h3{padding-left:10px;font-weight:300;clear:both}.album-title,.album-title-top{margin:0=\"\" 20px;color:#383838;text-shadow:1px=\"\" #fff}.des-title{margin:0=\"\" 10px}.des-title,.empty-title{color:#666;text-shadow:1px=\"\" #fff}.empty-title{margin:100px=\"\" 10px;text-align:center}.empty-sub-title{text-align:center;color:#888;text-shadow:1px=\"\" #fff}.icon-unlocked{margin-right:5px}a{color:#333;text-decoration:none}section.info{background-color:#f8f8f8}.exif-p{width:50%;float:left}.exif-p=\"\" b{margin-right:10px}.layout{color:#333;padding:60px;position:relative;z-index:1}.albums,.photos{justify-content:space-between}.albums,.photos,.thumb{display:flex;flex-wrap:wrap}.thumb{text-align:center;list-style:none;float:left;width:150px;height:120px;margin:10px;padding:8px;background:#fff;position:relative;cursor:pointer;align-items:flex-end;justify-content:center}.thumb:hover{transform:scale(1.1);transition:.3s}.thumb:hover.thumb:after,.thumb:hover.thumb:before{display:none}.bg-lock{position:absolute;width:150px;height:100px;background:rgba(0,0,0,.5);display:flex;align-items:center;flex-wrap:wrap;justify-content:center;color:#fff;font-size:30px}.hide{width:150px;margin:0=\"\" 10px;padding:0=\"\" 8px;visibility:hidden}.thumb:before{-webkit-transform:skew(-15deg)=\"\" rotate(-5deg);transform:skew(-15deg)=\"\" rotate(-5deg);left:15px}.thumb:after{-webkit-transform:skew(15deg)=\"\" rotate(5deg);transform:skew(15deg)=\"\" rotate(5deg);right:15px}.thumb:after,.thumb:before{width:88%;height:20%;content:'=\"\" ';box-shadow:0=\"\" 8px=\"\" 16px=\"\" rgba(0,0,0,.3);position:absolute;bottom:7px;z-index:-1}.thumb=\"\" figcaption{width:100%;line-height:32px;max-height:32px;overflow:hidden;font-size:14;word-wrap:break-word}.thumb=\"\" img{overflow:hidden;margin:auto;height:auto;width:auto;max-width:150px;max-height:100px}.img-wrap{width:150px;height:100px;display:flex;align-items:center;justify-content:center}figure.photo{margin:10px}figure.photo=\"\" img{max-width:100%}figure.photo=\"\" figcaption{padding-left:10px}section.info{margin:10px;padding:10px;background-color:#f8f8f8;border-radius:5px;border:1px=\"\" #c3c3c3}section.info=\"\" h2{padding:5px=\"\" 10px;margin:0}section.info=\"\" table{border-spacing:0}section.info=\"\" table=\"\" td{padding:5px}section.info=\"\" td:first-child{font-weight:700;padding-right:20px}@media=\"\" (max-width:600px){.layout{padding:10px}.thumb{margin:10px=\"\" 0}.album-title{margin:50px=\"\" 0;padding:0}.album-title-top,.des-title{padding:0}}@media=\"\" (max-width:350px){.albums,.photos{justify-content:center}}.dialog{width:280px;height:60px;margin-top:-30px;margin-left:-140px;position:fixed;background:#fff;border-radius:5px;top:50%;left:50%;font-size:14px;z-index:4000;display:flex;justify-content:center;align-items:center;display:none}.input-lock{width:122px;height:31px;padding:6px;outline:none;border:1px=\"\" #a9a9a9;border-radius:0;color:#333;margin-right:-1px}.btn-default{display:inline-block;vertical-align:middle;cursor:pointer;font-size:14px;text-decoration:none;text-align:center;border:1px=\"\" #188eee;background-color:#188eee;color:#fff;padding:5px=\"\" 20px;line-height:18px}.btn-default:active{color:#fff}.overlay{position:fixed;height:100%;top:0;filter:progid:dximagetransform.microsoft.gradient(enabled=\"true\" ,startcolorstr=\"#80000000\" ,endcolorstr=\"#80000000\" );background-color:rgba(0,0,0,.5);z-index:4000;display:none}.footer,.overlay{width:100%;left:0}.footer{font-size:12px;font-family:menlo,monaco,andale=\"\" #fff;position:absolute;opacity:.6;text-align:center;padding-top:40px;height:30px;box-sizing:border-box;bottom:0}.footer=\"\" a{background:transparent;text-decoration:none;color:#08c}@font-face{font-family:icomoon;src:url(\"+t(3)+\");src:url(\"+t(3)+\"#iefix)=\"\" format('embedded-opentype'),url(\"+t(19)+\")=\"\" format('truetype'),url(\"+t(20)+\")=\"\" format('woff'),url(\"+t(18)+'#icomoon)=\"\" format(\\'svg\\');font-weight:400;font-style:normal}[class*=\" icon-\" ],[class^=\"icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-image:before{content:\"\\\\E90D\"}.icon-camera:before{content:\"\\\\E90F\"}.icon-film:before{content:\"\\\\E913\"}.icon-clock:before{content:\"\\\\E94E\"}.icon-hour-glass:before{content:\"\\\\E979\"}.icon-key:before{content:\"\\\\E98D\"}.icon-key2:before{content:\"\\\\E98E\"}.icon-lock:before{content:\"\\\\E98F\"}.icon-unlocked:before{content:\"\\\\E990\"}.icon-star-empty:before{content:\"\\\\E9D7\"}.icon-heart:before{content:\"\\\\E9DA\"}.icon-share2:before{content:\"\\\\EA82\"}',\"\"])},function(A,e,t){A.exports=t.p+\"img/bg.png\"},function(A,e,t){A.exports=t.p+\"img/default-skin.png\"},function(A,e,t){A.exports=t.p+\"img/preloader.gif\"},function(A,e){(function(e){function\" t(a,t,o){var=\"\" 0!=\"=t&&\"function\"!=typeof\" t||(o=\"t,t={});for(var\" a=\"i.container=t.container||i.container,r=i.offset=t.offset||i.offset,l=0;l<s.length;l++)if(s[l].container===a)return\" s[l].isinviewport(a,r,o);return=\"\" s[s.push(n(a))-1].isinviewport(a,r,o)}function=\"\" o(a,e,t){a.attachevent?a.attachevent(\"on\"+e,t):a.addeventlistener(e,t,!1)}function=\"\" i(a,e,t){var=\"\" o;return=\"\" function(){function=\"\" i(){o=\"null,t||A.apply(n,a)}var\" n=\"this,a=arguments,r=t&&!o;clearTimeout(o),o=setTimeout(i,e),r&&A.apply(n,a)}}function\" n(a){function=\"\" t(a,e,t){if(!t)return=\"\" u(a,e);var=\"\" o=\"n(A,e,t);return\" o.watch(),o}function=\"\" n(a,e,t){function=\"\" o(){p.add(a,e,t)}function=\"\" i(){p.remove(a)}return{watch:o,dispose:i}}function=\"\" s(a,e,t){u(a,e)&&(p.remove(a),t(a))}function=\"\" u(t,o){if(!c(e.document.documentelement,t)||!c(e.document.documentelement,a))return!1;if(!t.offsetwidth||!t.offsetheight)return!1;var=\"\" r=\"i.right\">=n.left&&i.left<=n.right&&i.bottom>=n.top&&i.top<=n.bottom;return r}var=\"\" p=\"a(),d=A===e.document.body?e:A,g=i(p.checkAll(s),15);return\" o(d,\"scroll\",g),d=\"==e&&o(e,\"resize\",g),l&&r(p,A,g),setInterval(g,150),{container:A,isInViewport:t}}function\" a(){function=\"\" a(a,e,t){o(a)||n.push([a,e,t])}function=\"\" e(a){var=\"\" e=\"t(A);e!==-1&&n.splice(e,1)}function\" t(a){for(var=\"\">=0;e--)if(n[e][0]===A)return e;return-1}function o(A){return t(A)!==-1}function i(A){return function(){for(var e=n.length-1;e>=0;e--)A.apply(this,n[e])}}var n=[];return{add:A,remove:e,isWatched:o,checkAll:i}}function r(A,e,t){function o(A){A.some(i)===!0&&setTimeout(t,0)}function i(e){var t=r.call([],Array.prototype.slice.call(e.addedNodes),e.target);return a.call(t,A.isWatched).length>0}var n=new MutationObserver(o),a=Array.prototype.filter,r=Array.prototype.concat;n.observe(e,{childList:!0,subtree:!0,attributes:!0})}A.exports=t;var s=[],l=\"function\"==typeof e.MutationObserver,c=e.document.documentElement.compareDocumentPosition?function(A,e){return!!(16&A.compareDocumentPosition(e))}:e.document.documentElement.contains?function(A,e){return A!==e&&!!A.contains&&A.contains(e)}:function(A,e){for(;e=e.parentNode;)if(e===A)return!0;return!1}}).call(e,function(){return this}())},function(A,e,t){var o=t(8);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(9);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e,t){var o=t(10);\"string\"==typeof o&&(o=[[A.id,o,\"\"]]);t(2)(o,{});o.locals&&(A.exports=o.locals)},function(A,e){A.exports=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+R2VuZXJhdGVkIGJ5IEljb01vb248L21ldGFkYXRhPgo8ZGVmcz4KPGZvbnQgaWQ9Imljb21vb24iIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTBkOyIgZ2x5cGgtbmFtZT0iaW1hZ2UiIGQ9Ik05NTkuODg0IDgzMmMwLjA0MC0wLjAzNCAwLjA4Mi0wLjA3NiAwLjExNi0wLjExNnYtNzY3Ljc3Yy0wLjAzNC0wLjA0MC0wLjA3Ni0wLjA4Mi0wLjExNi0wLjExNmgtODk1Ljc3Yy0wLjA0MCAwLjAzNC0wLjA4MiAwLjA3Ni0wLjExNCAwLjExNnY3NjcuNzcyYzAuMDM0IDAuMDQwIDAuMDc2IDAuMDgyIDAuMTE0IDAuMTE0aDg5NS43N3pNOTYwIDg5NmgtODk2Yy0zNS4yIDAtNjQtMjguOC02NC02NHYtNzY4YzAtMzUuMiAyOC44LTY0IDY0LTY0aDg5NmMzNS4yIDAgNjQgMjguOCA2NCA2NHY3NjhjMCAzNS4yLTI4LjggNjQtNjQgNjR2MHpNODMyIDY3MmMwLTUzLjAyMC00Mi45OC05Ni05Ni05NnMtOTYgNDIuOTgtOTYgOTYgNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTZ6TTg5NiAxMjhoLTc2OHYxMjhsMjI0IDM4NCAyNTYtMzIwaDY0bDIyNCAxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTkwZjsiIGdseXBoLW5hbWU9ImNhbWVyYSIgZD0iTTMwNCAzNTJjMC0xMTQuODc2IDkzLjEyNC0yMDggMjA4LTIwOHMyMDggOTMuMTI0IDIwOCAyMDgtOTMuMTI0IDIwOC0yMDggMjA4LTIwOC05My4xMjQtMjA4LTIwOHpNOTYwIDcwNGgtMjI0Yy0xNiA2NC0zMiAxMjgtOTYgMTI4aC0yNTZjLTY0IDAtODAtNjQtOTYtMTI4aC0yMjRjLTM1LjIgMC02NC0yOC44LTY0LTY0di01NzZjMC0zNS4yIDI4LjgtNjQgNjQtNjRoODk2YzM1LjIgMCA2NCAyOC44IDY0IDY0djU3NmMwIDM1LjItMjguOCA2NC02NCA2NHpNNTEyIDY4Yy0xNTYuODUgMC0yODQgMTI3LjE0OC0yODQgMjg0IDAgMTU2Ljg1IDEyNy4xNSAyODQgMjg0IDI4NCAxNTYuODUyIDAgMjg0LTEyNy4xNSAyODQtMjg0IDAtMTU2Ljg1Mi0xMjcuMTQ2LTI4NC0yODQtMjg0ek05NjAgNTEyaC0xMjh2NjRoMTI4di02NHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTEzOyIgZ2x5cGgtbmFtZT0iZmlsbSIgZD0iTTAgODMydi03NjhoMTAyNHY3NjhoLTEwMjR6TTE5MiAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTE5MiA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTc2OCAxMjhoLTUxMnY2NDBoNTEydi02NDB6TTk2MCAxMjhoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCAzODRoLTEyOHYxMjhoMTI4di0xMjh6TTk2MCA2NDBoLTEyOHYxMjhoMTI4di0xMjh6TTM4NCA2NDB2LTM4NGwyNTYgMTkyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NGU7IiBnbHlwaC1uYW1lPSJjbG9jayIgZD0iTTY1OC43NDQgMjEwLjc0NGwtMjEwLjc0NCAyMTAuNzQ2djI4Mi41MWgxMjh2LTIyOS40OWwxNzMuMjU2LTE3My4yNTR6TTUxMiA5NjBjLTI4Mi43NyAwLTUxMi0yMjkuMjMtNTEyLTUxMnMyMjkuMjMtNTEyIDUxMi01MTIgNTEyIDIyOS4yMyA1MTIgNTEyLTIyOS4yMyA1MTItNTEyIDUxMnpNNTEyIDY0Yy0yMTIuMDc4IDAtMzg0IDE3MS45MjItMzg0IDM4NHMxNzEuOTIyIDM4NCAzODQgMzg0YzIxMi4wNzggMCAzODQtMTcxLjkyMiAzODQtMzg0cy0xNzEuOTIyLTM4NC0zODQtMzg0eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5Nzk7IiBnbHlwaC1uYW1lPSJob3VyLWdsYXNzIiBkPSJNNzI4Ljk5MiA0NDhjMTM3Ljc1NCA4Ny4zMzQgMjMxLjAwOCAyNTUuMjA4IDIzMS4wMDggNDQ4IDAgMjEuNjc2LTEuMTkyIDQzLjAzNC0zLjQ3OCA2NGgtODg5LjA0MmMtMi4yOS0yMC45NjgtMy40OC00Mi4zMjYtMy40OC02NCAwLTE5Mi43OTIgOTMuMjU0LTM2MC42NjYgMjMxLjAwNi00NDgtMTM3Ljc1Mi04Ny4zMzQtMjMxLjAwNi0yNTUuMjA4LTIzMS4wMDYtNDQ4IDAtMjEuNjc2IDEuMTktNDMuMDM0IDMuNDc4LTY0aDg4OS4wNDJjMi4yODggMjAuOTY2IDMuNDc4IDQyLjMyNCAzLjQ3OCA2NCAwLjAwMiAxOTIuNzkyLTkzLjI1MiAzNjAuNjY2LTIzMS4wMDYgNDQ4ek0xNjAgMGMwIDE4Ni45MTIgODAuMTYyIDM0NS40MTQgMjI0IDM5Ny43MDh2MTAwLjU4NmMtMTQzLjgzOCA1Mi4yOS0yMjQgMjEwLjc5Mi0yMjQgMzk3LjcwNnYwaDcwNGMwLTE4Ni45MTQtODAuMTYyLTM0NS40MTYtMjI0LTM5Ny43MDZ2LTEwMC41ODZjMTQzLjgzOC01Mi4yOTQgMjI0LTIxMC43OTYgMjI0LTM5Ny43MDhoLTcwNHpNNjE5LjYyNiAyOTAuNDA2Yy03MS42NTQgNDAuNjQ0LTc1LjYwOCA5My4zNjgtNzUuNjI2IDEyNS4zNjZ2NjQuMjI4YzAgMzEuOTk0IDMuODA0IDg0LjkxNCA3NS43NDQgMTI1LjY2NCAzOC41MDQgMjIuMzY0IDcxLjgwOCA1Ni4zNDggOTcuMDQ4IDk4LjMzNmgtNDA5LjU4MmMyNS4yNjYtNDIuMDMyIDU4LjYxMi03Ni4wNDIgOTcuMTY2LTk4LjQwNiA3MS42NTQtNDAuNjQ0IDc1LjYwNi05My4zNjYgNzUuNjI2LTEyNS4zNjZ2LTY0LjIyOGMwLTMxLjk5Mi0zLjgwNC04NC45MTQtNzUuNzQ0LTEyNS42NjQtNzIuNjIyLTQyLjE4LTEyNi43MzgtMTI1LjY4NC0xNDMuMDkwLTIyNi4zMzZoNTAxLjY3Yy0xNi4zNjQgMTAwLjcwOC03MC41MyAxODQuMjQ4LTE0My4yMTIgMjI2LjQwNnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOThkOyIgZ2x5cGgtbmFtZT0ia2V5IiBkPSJNNzA0IDk2MGMtMTc2LjczIDAtMzIwLTE0My4yNjgtMzIwLTMyMCAwLTIwLjAyNiAxLjg1OC0zOS42MTYgNS4zNzYtNTguNjI0bC0zODkuMzc2LTM4OS4zNzZ2LTE5MmMwLTM1LjM0NiAyOC42NTQtNjQgNjQtNjRoNjR2NjRoMTI4djEyOGgxMjh2MTI4aDEyOGw4My4wNDIgODMuMDQyYzM0LjAxMC0xMi4zMTYgNzAuNjk2LTE5LjA0MiAxMDguOTU4LTE5LjA0MiAxNzYuNzMgMCAzMjAgMTQzLjI2OCAzMjAgMzIwcy0xNDMuMjcgMzIwLTMyMCAzMjB6TTc5OS44NzQgNjM5Ljg3NGMtNTMuMDIwIDAtOTYgNDIuOTgtOTYgOTZzNDIuOTggOTYgOTYgOTYgOTYtNDIuOTggOTYtOTYtNDIuOTgtOTYtOTYtOTZ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZTsiIGdseXBoLW5hbWU9ImtleTIiIGQ9Ik0xMDAyLjEzMiA2NDUuNzU4bC0xMDEuMTA2IDEwMS4xMDRjLTI0Ljc5MiAyNC43OTQtNjUuMzcgNjUuMzY4LTkwLjE2MiA5MC4xNjRsLTEwMS4xMDYgMTAxLjEwNGMtMjQuNzkyIDI0Ljc5NC02OC45NTQgMjkuMTY2LTk4LjEzIDkuNzE2bC0yNzYuNDM4LTE4NC4yOTJjLTI5LjE3Ni0xOS40NTItNDAuMjE4LTYxLjAyOC0yNC41MzYtOTIuMzlsNzAuNDg2LTE0MC45NzRjMi4xNTQtNC4zMDYgNC42NDYtOC44OTYgNy4zOS0xMy42NmwtMzU2LjUzLTM1Ni41My0zMi0yMjRoMTkydjY0aDEyOHYxMjhoMTI4djEyOGgxMjh2NzEuMTg2YzYuMzk2LTMuODEyIDEyLjUzNC03LjIxNiAxOC4xOTItMTAuMDQ0bDE0MC45Ny03MC40ODhjMzEuMzY2LTE1LjY4MiA3Mi45NC00LjYzOCA5Mi4zOSAyNC41MzhsMTg0LjI5NCAyNzYuNDRjMTkuNDU0IDI5LjE3MiAxNS4wNzggNzMuMzMtOS43MTQgOTguMTI2ek0xNTAuNjI4IDEwNS4zNzRsLTQ1LjI1NCA0NS4yNTQgMzExLjU3MiAzMTEuNTcgNDUuMjU0LTQ1LjI1NC0zMTEuNTcyLTMxMS41N3pNOTE3LjAyMCA1MzYuMjM2bC00NS4yNTYtNDUuMjU2Yy0xMi40NDYtMTIuNDQ0LTMyLjgwOC0xMi40NDQtNDUuMjU0IDBsLTI3MS41MyAyNzEuNTNjLTEyLjQ0NiAxMi40NDQtMTIuNDQ2IDMyLjgxIDAgNDUuMjU0bDQ1LjI1NiA0NS4yNTZjMTIuNDQ2IDEyLjQ0NCAzMi44MDggMTIuNDQ0IDQ1LjI1NCAwbDI3MS41My0yNzEuNTNjMTIuNDQ2LTEyLjQ0NCAxMi40NDYtMzIuODEgMC00NS4yNTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk4ZjsiIGdseXBoLW5hbWU9ImxvY2siIGQ9Ik01OTIgNTEyaC0xNnYxOTJjMCAxMDUuODctODYuMTMgMTkyLTE5MiAxOTJoLTEyOGMtMTA1Ljg3IDAtMTkyLTg2LjEzLTE5Mi0xOTJ2LTE5MmgtMTZjLTI2LjQgMC00OC0yMS42LTQ4LTQ4di00ODBjMC0yNi40IDIxLjYtNDggNDgtNDhoNTQ0YzI2LjQgMCA0OCAyMS42IDQ4IDQ4djQ4MGMwIDI2LjQtMjEuNiA0OC00OCA0OHpNMTkyIDcwNGMwIDM1LjI5IDI4LjcxIDY0IDY0IDY0aDEyOGMzNS4yOSAwIDY0LTI4LjcxIDY0LTY0di0xOTJoLTI1NnYxOTJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk5MDsiIGdseXBoLW5hbWU9InVubG9ja2VkIiBkPSJNNzY4IDg5NmMxMDUuODcgMCAxOTItODYuMTMgMTkyLTE5MnYtMTkyaC0xMjh2MTkyYzAgMzUuMjktMjguNzEgNjQtNjQgNjRoLTEyOGMtMzUuMjkgMC02NC0yOC43MS02NC02NHYtMTkyaDE2YzI2LjQgMCA0OC0yMS42IDQ4LTQ4di00ODBjMC0yNi40LTIxLjYtNDgtNDgtNDhoLTU0NGMtMjYuNCAwLTQ4IDIxLjYtNDggNDh2NDgwYzAgMjYuNCAyMS42IDQ4IDQ4IDQ4aDQwMHYxOTJjMCAxMDUuODcgODYuMTMgMTkyIDE5MiAxOTJoMTI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZDc7IiBnbHlwaC1uYW1lPSJzdGFyLWVtcHR5IiBkPSJNMTAyNCA1NjIuOTVsLTM1My43OCA1MS40MDgtMTU4LjIyIDMyMC41ODItMTU4LjIxNi0zMjAuNTgyLTM1My43ODQtNTEuNDA4IDI1Ni0yNDkuNTM4LTYwLjQzMi0zNTIuMzUyIDMxNi40MzIgMTY2LjM1OCAzMTYuNDMyLTE2Ni4zNTgtNjAuNDM0IDM1Mi4zNTIgMjU2LjAwMiAyNDkuNTM4ek01MTIgMjA2LjUwMmwtMjIzLjQ2Mi0xMTcuNDggNDIuNjc2IDI0OC44My0xODAuNzg2IDE3Ni4yMjIgMjQ5Ljg0IDM2LjMwNCAxMTEuNzMyIDIyNi4zOTYgMTExLjczNi0yMjYuMzk2IDI0OS44MzYtMzYuMzA0LTE4MC43ODgtMTc2LjIyMiA0Mi42NzgtMjQ4LjgzLTIyMy40NjIgMTE3LjQ4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ZGE7IiBnbHlwaC1uYW1lPSJoZWFydCIgZD0iTTc1NS4xODggODk2Yy0xMDcuNjMgMC0yMDAuMjU4LTg3LjU1NC0yNDMuMTY0LTE3OS00Mi45MzggOTEuNDQ0LTEzNS41NzggMTc5LTI0My4yMTYgMTc5LTE0OC4zODIgMC0yNjguODA4LTEyMC40NC0yNjguODA4LTI2OC44MzIgMC0zMDEuODQ2IDMwNC41LTM4MC45OTQgNTEyLjAyMi02NzkuNDE4IDE5Ni4xNTQgMjk2LjU3NiA1MTEuOTc4IDM4Ny4yMDYgNTExLjk3OCA2NzkuNDE4IDAgMTQ4LjM5Mi0xMjAuNDMgMjY4LjgzMi0yNjguODEyIDI2OC44MzJ6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWE4MjsiIGdseXBoLW5hbWU9InNoYXJlMiIgZD0iTTg2NCAyNTZjLTQ1LjE2IDAtODUuOTItMTguNzM4LTExNS4wMTItNDguODNsLTQzMS4wMDQgMjE1LjUwMmMxLjMxNCA4LjI1MiAyLjAxNiAxNi43MDYgMi4wMTYgMjUuMzI4cy0wLjcwMiAxNy4wNzYtMi4wMTYgMjUuMzI2bDQzMS4wMDQgMjE1LjUwMmMyOS4wOTItMzAuMDkwIDY5Ljg1Mi00OC44MjggMTE1LjAxMi00OC44MjggODguMzY2IDAgMTYwIDcxLjYzNCAxNjAgMTYwcy03MS42MzQgMTYwLTE2MCAxNjAtMTYwLTcxLjYzNC0xNjAtMTYwYzAtOC42MjIgMC43MDQtMTcuMDc2IDIuMDE2LTI1LjMyNmwtNDMxLjAwNC0yMTUuNTA0Yy0yOS4wOTIgMzAuMDkwLTY5Ljg1MiA0OC44My0xMTUuMDEyIDQ4LjgzLTg4LjM2NiAwLTE2MC03MS42MzYtMTYwLTE2MCAwLTg4LjM2OCA3MS42MzQtMTYwIDE2MC0xNjAgNDUuMTYgMCA4NS45MiAxOC43MzggMTE1LjAxMiA0OC44MjhsNDMxLjAwNC0yMTUuNTAyYy0xLjMxMi04LjI1LTIuMDE2LTE2LjcwNC0yLjAxNi0yNS4zMjYgMC04OC4zNjggNzEuNjM0LTE2MCAxNjAtMTYwczE2MCA3MS42MzIgMTYwIDE2MGMwIDg4LjM2NC03MS42MzQgMTYwLTE2MCAxNjB6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==\"},function(A,e){A.exports=\"data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SB4UAAAC8AAAAYGNtYXC8MXsbAAABHAAAAJRnYXNwAAAAEAAAAbAAAAAIZ2x5ZozOXvoAAAG4AAAHDGhlYWQLPDiPAAAIxAAAADZoaGVhB8ID0QAACPwAAAAkaG10eDYAAEAAAAkgAAAAQGxvY2ENfAvMAAAJYAAAACJtYXhwABoAWgAACYQAAAAgbmFtZZlKCfsAAAmkAAABhnBvc3QAAwAAAAALLAAAACAAAwPZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADqggPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAeAAAABoAEAADAAoAAQAg6Q3pD+kT6U7peemQ6dfp2uqC//3//wAAAAAAIOkN6Q/pE+lO6XnpjenX6drqgv/9//8AAf/jFvcW9hbzFrkWjxZ8FjYWNBWNAAMAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAABAAAAAAEAANAABMAKwA/AEMAAAEUHgIzMj4CNTQuAiMiDgIBIy4BIyEiBgcjIgYVERQWMyEyNjURNCYBIi4CNTQ+AjMyHgIVFA4CASM1MwEwIThMKytMOCEhOEwrK0w4IQKQ4AwkMP8AMCQM4BomJhoDgBomJv4mO2dNLS1NZzs7Z00tLU1nAYWAgAFgK0w4ISE4TCsrTDghIThMATUwUFAwJhr9wBomJhoCQBom/YQtTWc7O2dNLS1NZzs7Z00tAbxAAAkAAABABAADQAADAAcACwAPABMAFwAbAB8AIgAAExEhEQEjNTM1IzUzNSM1MwEhESETIzUzNSM1MzUjNTMFESUABAD8wICAgICAgAJA/gACAMCAgICAgID9wAEAA0D9AAMA/UCAgICAgP2AAoD9gICAgICAgP6AwAAAAAADAAD/wAQAA8AABQAZAC0AACUnETMVFwMiDgIVFB4CMzI+AjU0LgIDIi4CNTQ+AjMyHgIVFA4CApPTgK3taruLUFCLu2pqu4tQUIu7alCLaTw8aYtQUItpPDxpi9PSARvlrgKTUIu7amq7i1BQi7tqaruLUPyAPGmLUFCLaTw8aYtQUItpPAAAAwBA/8ADwAPAACIAOwBXAAABPgM1NCYnIQ4BFRQeAhcOAxUUFhchPgE1NC4CJwE0PgI3NS4DNTEhFA4CBxUeAxUDLgE9ATQ2Nz4BNyEeARceAR0BFAYHDgEHIS4BAtk0VT0hAgH8hgECIT1VNDRVPSECAQN6AQIhPVU0/cceOVM2NlM5HgLAHjlTNjZTOR70NhYWNh0xE/5mEzEdNhYWNjZNDAH2DE0BwCFec4ZIECAQECAQSIZzXiEhXnOGSBAgEBAgEEiGc14h/kBGf2hNFGQUTWh/RkZ/aE0UZBRNaH9GASIfRxhAGEcfEDMfIDIQH0cYQBhHHx94S0x3AAAAAAIAAP/ABAADwAAhAC0AAAEiDgIVFBYXARUUFjsBNTM1MzUzNx4BMzI+AjU0LgITIiY1NDYzMhYVFAYCwEJ1VzIDAv57JRtAgICAUxo2HUJ1VzIyV3UeKDg4KCg4OAPAMld1Qg8dD/57wBslQICAUwkKMld1QkJ1VzL+wDgoKDg4KCg4AAMAAP/AA/QDtAAkACkAOQAAAScuAS8BLgEHBQ4BHwEeARcBBzM1MzUzNTM1HgEfARY2NxM2JgEnARcBAQcGIicBJjQ/ATYyFwEWFAPqZRM1EmUTORb+6xYODEYCAwP+myDAgICABQkEjRg2D7gOBfyaLgE4Lf7JAv4tChoJ/vAJCS0KGgkBEAkChmUSNRNlEwUOuA82GI0DBwP+m+BAgIBHAwUCRgwOFgEVFjn99i4BNy3+yAGvLQkJARAJGgotCQn+8AkaAAAAAgAA/8ACgAOAABkAIwAAASM1NCYrASIGHQEjIgYVERQWMyEyNjURNCYlNDY7ATIWHQEhAlAQcU+AT3EQFBwcFAIgFBwc/lwmGoAaJv8AAgDAT3FxT8AcFP4gFBwcFAHgFBzAGiYmGsAAAAAAAQAA/8ADwAOAACMAAAEyFh0BIzU0JisBIgYdATMyFhURFAYjISImNRE0NjMhNTQ2MwMAT3GAJhqAGiYQFBwcFP3gFBwcFAGQcU8DgHFPwMAaJiYawBwU/iAUHBwUAeAUHMBPcQAAAAACAAD/2QQAA6cACgAUAAABJQsBDQEDJQUDJQEHNyc/AR8BBxcEAP6enp7+ngEAPAE8ATw8AQD+AN8qtfpwcPq1KgIzMwFB/r8z+v6gpqYBYPr+nHb5sCTj4ySw+QAAAAABAAD/zAQAA4AAHQAAASIOAgcuAyMiDgIVFB4CFz4DNTQuAgLzKEo/MhAQMj9KKDhiSSpmmbNOSrKbaSpJYgOAHjJBIiJBMh4qSWI4cZ2Om3BvnpCdbThiSSoAAAEAAP/ABAADwAAzAAABIgYHJT4BNTQmJyUeATMyNjU0JiMiBhUUFhcFLgEjIgYVFBYzMjY3BQ4BFRQWMzI2NTQmA2AiOxb+UQEBAQEBrxY7IkJeXkJCXgEB/lEWOyJCXl5CIjsWAa8BAV5CQl5eAQAaF9gGDQYGDQbYFxpeQkJeXkIGDQbYFxpeQkJeGhfYBg0GQl5eQkJeAAAAAAEAAAAAAACuT353Xw889QALBAAAAAAA1A76CQAAAADUDvoJAAD/wAQAA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAABAAAAQAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAACAAAABAAAAAQAAAAEAAAABAAAAAQAAEAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAAKABQAHgBmAMgBBgFKAcoCDAJwAqYC2gMKAzgDhgAAAAEAAAAQAFgACQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n},function(A,e){A.exports=\"data:application/font-woff;base64,d09GRgABAAAAAAuYAAsAAAAAC0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIHhWNtYXAAAAFoAAAAlAAAAJS8MXsbZ2FzcAAAAfwAAAAIAAAACAAAABBnbHlmAAACBAAABwwAAAcMjM5e+mhlYWQAAAkQAAAANgAAADYLPDiPaGhlYQAACUgAAAAkAAAAJAfCA9FobXR4AAAJbAAAAEAAAABANgAAQGxvY2EAAAmsAAAAIgAAACINfAvMbWF4cAAACdAAAAAgAAAAIAAaAFpuYW1lAAAJ8AAAAYYAAAGGmUoJ+3Bvc3QAAAt4AAAAIAAAACAAAwAAAAMD2QGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6oIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAHgAAAAaABAAAwAKAAEAIOkN6Q/pE+lO6XnpkOnX6drqgv/9//8AAAAAACDpDekP6RPpTul56Y3p1+na6oL//f//AAH/4xb3FvYW8xa5Fo8WfBY2FjQVjQADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAQAAAAABAADQAATACsAPwBDAAABFB4CMzI+AjU0LgIjIg4CASMuASMhIgYHIyIGFREUFjMhMjY1ETQmASIuAjU0PgIzMh4CFRQOAgEjNTMBMCE4TCsrTDghIThMKytMOCECkOAMJDD/ADAkDOAaJiYaA4AaJib+JjtnTS0tTWc7O2dNLS1NZwGFgIABYCtMOCEhOEwrK0w4ISE4TAE1MFBQMCYa/cAaJiYaAkAaJv2ELU1nOztnTS0tTWc7O2dNLQG8QAAJAAAAQAQAA0AAAwAHAAsADwATABcAGwAfACIAABMRIREBIzUzNSM1MzUjNTMBIREhEyM1MzUjNTM1IzUzBRElAAQA/MCAgICAgIACQP4AAgDAgICAgICA/cABAANA/QADAP1AgICAgID9gAKA/YCAgICAgID+gMAAAAAAAwAA/8AEAAPAAAUAGQAtAAAlJxEzFRcDIg4CFRQeAjMyPgI1NC4CAyIuAjU0PgIzMh4CFRQOAgKT04Ct7Wq7i1BQi7tqaruLUFCLu2pQi2k8PGmLUFCLaTw8aYvT0gEb5a4Ck1CLu2pqu4tQUIu7amq7i1D8gDxpi1BQi2k8PGmLUFCLaTwAAAMAQP/AA8ADwAAiADsAVwAAAT4DNTQmJyEOARUUHgIXDgMVFBYXIT4BNTQuAicBND4CNzUuAzUxIRQOAgcVHgMVAy4BPQE0Njc+ATchHgEXHgEdARQGBw4BByEuAQLZNFU9IQIB/IYBAiE9VTQ0VT0hAgEDegECIT1VNP3HHjlTNjZTOR4CwB45UzY2Uzke9DYWFjYdMRP+ZhMxHTYWFjY2TQwB9gxNAcAhXnOGSBAgEBAgEEiGc14hIV5zhkgQIBAQIBBIhnNeIf5ARn9oTRRkFE1of0ZGf2hNFGQUTWh/RgEiH0cYQBhHHxAzHyAyEB9HGEAYRx8feEtMdwAAAAACAAD/wAQAA8AAIQAtAAABIg4CFRQWFwEVFBY7ATUzNTM1MzceATMyPgI1NC4CEyImNTQ2MzIWFRQGAsBCdVcyAwL+eyUbQICAgFMaNh1CdVcyMld1Hig4OCgoODgDwDJXdUIPHQ/+e8AbJUCAgFMJCjJXdUJCdVcy/sA4KCg4OCgoOAADAAD/wAP0A7QAJAApADkAAAEnLgEvAS4BBwUOAR8BHgEXAQczNTM1MzUzNR4BHwEWNjcTNiYBJwEXAQEHBiInASY0PwE2MhcBFhQD6mUTNRJlEzkW/usWDgxGAgMD/psgwICAgAUJBI0YNg+4DgX8mi4BOC3+yQL+LQoaCf7wCQktChoJARAJAoZlEjUTZRMFDrgPNhiNAwcD/pvgQICARwMFAkYMDhYBFRY5/fYuATct/sgBry0JCQEQCRoKLQkJ/vAJGgAAAAIAAP/AAoADgAAZACMAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmJTQ2OwEyFh0BIQJQEHFPgE9xEBQcHBQCIBQcHP5cJhqAGib/AAIAwE9xcU/AHBT+IBQcHBQB4BQcwBomJhrAAAAAAAEAAP/AA8ADgAAjAAABMhYdASM1NCYrASIGHQEzMhYVERQGIyEiJjURNDYzITU0NjMDAE9xgCYagBomEBQcHBT94BQcHBQBkHFPA4BxT8DAGiYmGsAcFP4gFBwcFAHgFBzAT3EAAAAAAgAA/9kEAAOnAAoAFAAAASULAQ0BAyUFAyUBBzcnPwEfAQcXBAD+np6e/p4BADwBPAE8PAEA/gDfKrX6cHD6tSoCMzMBQf6/M/r+oKamAWD6/px2+bAk4+MksPkAAAAAAQAA/8wEAAOAAB0AAAEiDgIHLgMjIg4CFRQeAhc+AzU0LgIC8yhKPzIQEDI/Sig4YkkqZpmzTkqym2kqSWIDgB4yQSIiQTIeKkliOHGdjptwb56QnW04YkkqAAABAAD/wAQAA8AAMwAAASIGByU+ATU0JiclHgEzMjY1NCYjIgYVFBYXBS4BIyIGFRQWMzI2NwUOARUUFjMyNjU0JgNgIjsW/lEBAQEBAa8WOyJCXl5CQl4BAf5RFjsiQl5eQiI7FgGvAQFeQkJeXgEAGhfYBg0GBg0G2BcaXkJCXl5CBg0G2BcaXkJCXhoX2AYNBkJeXkJCXgAAAAABAAAAAAAArk9+d18PPPUACwQAAAAAANQO+gkAAAAA1A76CQAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAACgAUAB4AZgDIAQYBSgHKAgwCcAKmAtoDCgM4A4YAAAABAAAAEABYAAkAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"},function(A,e){A.exports=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjY0IiBoZWlnaHQ9Ijg4IiB2aWV3Qm94PSIwIDAgMjY0IDg4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0aXRsZT5kZWZhdWx0LXNraW4gMjwvdGl0bGU+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Zz48cGF0aCBkPSJNNjcuMDAyIDU5LjV2My43NjhjLTYuMzA3Ljg0LTkuMTg0IDUuNzUtMTAuMDAyIDkuNzMyIDIuMjItMi44MyA1LjU2NC01LjA5OCAxMC4wMDItNS4wOThWNzEuNUw3MyA2NS41ODUgNjcuMDAyIDU5LjV6IiBpZD0iU2hhcGUiIGZpbGw9IiNmZmYiLz48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTMgMjl2LTVoMnYzaDN2MmgtNXpNMTMgMTVoNXYyaC0zdjNoLTJ2LTV6TTMxIDE1djVoLTJ2LTNoLTN2LTJoNXpNMzEgMjloLTV2LTJoM3YtM2gydjV6IiBpZD0iU2hhcGUiLz48L2c+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTYyIDI0djVoLTJ2LTNoLTN2LTJoNXpNNjIgMjBoLTV2LTJoM3YtM2gydjV6TTcwIDIwdi01aDJ2M2gzdjJoLTV6TTcwIDI0aDV2MmgtM3YzaC0ydi01eiIvPjwvZz48cGF0aCBkPSJNMjAuNTg2IDY2bC01LjY1Ni01LjY1NiAxLjQxNC0xLjQxNEwyMiA2NC41ODZsNS42NTYtNS42NTYgMS40MTQgMS40MTRMMjMuNDE0IDY2bDUuNjU2IDUuNjU2LTEuNDE0IDEuNDE0TDIyIDY3LjQxNGwtNS42NTYgNS42NTYtMS40MTQtMS40MTRMMjAuNTg2IDY2eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMTEuNzg1IDY1LjAzTDExMCA2My41bDMtMy41aC0xMHYtMmgxMGwtMy0zLjUgMS43ODUtMS40NjhMMTE3IDU5bC01LjIxNSA2LjAzeiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNTIuMjE1IDY1LjAzTDE1NCA2My41bC0zLTMuNWgxMHYtMmgtMTBsMy0zLjUtMS43ODUtMS40NjhMMTQ3IDU5bDUuMjE1IDYuMDN6IiBmaWxsPSIjZmZmIi8+PGc+PHBhdGggaWQ9IlJlY3RhbmdsZS0xMSIgZmlsbD0iI2ZmZiIgZD0iTTE2MC45NTcgMjguNTQzbC0zLjI1LTMuMjUtMS40MTMgMS40MTQgMy4yNSAzLjI1eiIvPjxwYXRoIGQ9Ik0xNTIuNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIGlkPSJPdmFsLTEiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTUwIDIxaDV2MWgtNXoiLz48L2c+PGc+PHBhdGggZD0iTTExNi45NTcgMjguNTQzbC0xLjQxNCAxLjQxNC0zLjI1LTMuMjUgMS40MTQtMS40MTQgMy4yNSAzLjI1eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMDguNSAyN2MzLjAzOCAwIDUuNS0yLjQ2MiA1LjUtNS41cy0yLjQ2Mi01LjUtNS41LTUuNS01LjUgMi40NjItNS41IDUuNSAyLjQ2MiA1LjUgNS41IDUuNXoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA2IDIxaDV2MWgtNXoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTA5LjA0MyAxOS4wMDhsLS4wODUgNS0xLS4wMTcuMDg1LTV6Ii8+PC9nPjwvZz48L2c+PC9zdmc+\"}]);</=n.bottom;return></=n.right&&i.bottom></5)return></s;c++)if(1===a[c].nodetype){if(a[c]===o){i=l;break}l++}return></a;s++)e=n[s],1===e.nodetype&&(t=e.children[0],o=t.getattribute(\"data-size\").split(\"x\"),i={src:t.getattribute(\"href\"),w:parseint(o[0],10),h:parseint(o[1],10)},e.children.length></5)return></=ta.min.y&&t></=ta.min.x&&e></=n.curritem.fitratio)return></ve.length;e++)a=ve[e],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);ot=null})},getitemat:function(a){return></ot.length;e++)a=ot[e],a.holder.index===a.index&&st(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);ot=[]}};ba(\"controller\",{publicmethods:{lazyloaditem:function(a){a=na(a);var></-20)&&(o=1)}var></ta.max[a]&&(t.backanimdestination[a]=ta.max[a]),void></.1&&(t.lastflickspeed[o]=0),t.slowdownratio[o]=.95,t.slowdownratioreverse[o]=1-t.slowdownratio[o],t.speeddecelerationratio[o]=1},calculateoverboundsanimoffset:function(a,e){t.backanimstarted[a]||(ga[a]></s.verticaldragrange)n.close();else{var></=n.curritem.initialzoomlevel){var></pe.x&&(a=pe.x)):ta.min.x!==ta.max.x&&(i=l))):a=u,\"x\"!==a)?void(ia||k||w></ta.max[a]&&(t=s.panendfriction,r=l-ta.max[a],o=da[a]-ta.max[a]),(0></ta.max[a]?s.panendfriction:1,l=ga[a]+e[a]*t,!s.allowpantonext&&w!==n.curritem.initialzoomlevel||(oa?\"h\"!==na||\"x\"!==a||w||(c?(l></a&&math.abs(a.y-e.y)<a},te=function(a,e){return></ta.max.y&&(e=ta.max.y)),ga.x=a,ga.y=e,qa()},handleevent:function(a){a=a||window.event,f[a.type]&&f[a.type](a)},goto:function(a){a=na(a);var></ta.max.x&&(a=ta.max.x),e></ya.length;t++)n[\"init\"+ya[t]]();if(e){var></e.max[a]&&(t[a]=e.max[a],!0))},ja=function(){if(j){var></e.length;o++)e[o].apply(n,t)}},va=function(){return(new></e.length;r++)if(i=e[r])if(\"object\"==typeof></=a.curritem.fitratio?m.clicktoclosenonzoomable&&a.close():a.toggledesktopzoom(t.detail.releasepoint))}else></n;a++){a=o[a],t=a.classname;for(var></.9?(y.hidecontrols(),a=!0):a&&!t&&e></m.closeelclasses.length;t++)if(e.hasclass(a,\"pswp__\"+m.closeelclasses[t]))return!0},k=0,y=function(){cleartimeout(i),k=0,c&&y.setidle(!1)},o=function(a){a=a?a:window.event;var></m.sharebuttons.length;a++)a=m.sharebuttons[a],t=m.getimageurlforshare(a),o=m.getpageurlforshare(a),i=m.gettextforshare(a),e=a.url.replace(\"\",encodeuricomponent(o)).replace(\"\",encodeuricomponent(t)).replace(\"\",t).replace(\"\",encodeuricomponent(i)),n+='<a></t.length;a++){var></this.length;e++){var>"},{"_content":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","source":"assets/src/photoSwipe/photoswipe.css","raw":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","date":"2017-07-31T09:38:38.500Z","updated":"2017-07-31T03:26:45.613Z","path":"assets/src/photoSwipe/photoswipe.css","layout":"false","title":"","comments":1,"_id":"cj63dx7wc000kzwv3ll89yc05","content":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n"},{"_content":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){\"use strict\";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?\"remove\":\"add\")+\"EventListener\";b=b.split(\" \");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||\"div\");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp(\"(\\\\s|^)\"+b+\"(\\\\s|$)\");a.className=a.className.replace(c,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?\" \":\"\")+b)},hasClass:function(a,b){return a.className&&new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c=\"\",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch=\"ontouchstart\"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\\s([0-9\\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=[\"transform\",\"perspective\",\"animationName\"],m=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+\"RequestAnimationFrame\"],d.raf&&(d.caf=window[c+\"CancelAnimationFrame\"]||window[c+\"CancelRequestAnimationFrame\"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(\" \");for(var e,f=(d?\"detach\":\"attach\")+\"Event\",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if(\"object\"==typeof c&&c.handleEvent){if(d){if(!c[\"oldIE\"+e])return!1}else c[\"oldIE\"+e]=g;a[f](\"on\"+e,c[\"oldIE\"+e])}else a[f](\"on\"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return\"A\"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:\"fit\"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var b=_b();return a>b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Da=function(){return(new Date).getTime()},Ea=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+\"px, \"+c+\"px\"+v+\" scale(\"+d+\")\"},Ga=function(a){da&&(a&&(s>f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+\"px, 0px\"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,\"mousemove\",Oa),e.addClass(a,\"pswp--has_mouse\"),i.mouseUsed=!0,Ca(\"mouseUsed\")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,\"keydown\",f),N.transform&&e.bind(f.scrollWrap,\"click\",f),i.mouseUsed||e.bind(document,\"mousemove\",Oa),e.bind(window,\"resize scroll\",f),Ca(\"bindEvents\")},Qa=function(){e.unbind(window,\"resize\",f),e.unbind(window,\"scroll\",r.scroll),e.unbind(document,\"keydown\",f),e.unbind(document,\"mousemove\",Oa),N.transform&&e.unbind(f.scrollWrap,\"click\",f),U&&e.unbind(window,p,f),Ca(\"unbindEvents\")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Va=function(){if(E){var b=N.perspective&&!G;return u=\"translate\"+(b?\"3d(\":\"(\"),void(v=N.perspective?\", 0px)\":\")\")}E=\"left\",e.addClass(a,\"pswp--ie\"),Ia=function(a,b){b.left=a+\"px\"},Ha=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+\"px\",c.height=e+\"px\",c.left=a.initialPosition.x+\"px\",c.top=a.initialPosition.y+\"px\"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+\"px\",a.height=e+\"px\",a.left=oa.x+\"px\",a.top=oa.y+\"px\"}}},Wa=function(a){var b=\"\";i.escKey&&27===a.keyCode?b=\"close\":i.arrowKeys&&(37===a.keyCode?b=\"prev\":39===a.keyCode&&(b=\"next\")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca(\"updateScrollOffset\",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,\"pswp__bg\"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,\"pswp__scroll-wrap\"),f.container=e.getChildByClass(f.scrollWrap,\"pswp__container\"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f[\"init\"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ca(\"firstUpdate\"),m=m||i.index||0,(isNaN(m)||0>m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute(\"aria-hidden\",\"false\"),i.modal&&(ua?a.style.position=\"fixed\":(a.style.position=\"absolute\",a.style.top=e.getScrollY()+\"px\")),void 0===M&&(Ca(\"initialLayout\"),M=K=e.getScrollY());var l=\"pswp--open \";for(i.mainClass&&(l+=i.mainClass+\" \"),i.showHideOpacity&&(l+=\"pswp--animate_opacity \"),l+=G?\"pswp--touch\":\"pswp--notouch\",l+=N.animationName?\" pswp--css_animation\":\"\",l+=N.svg?\" pswp--svg\":\"\",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba(\"initialZoomInEnd\",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display=\"block\",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca(\"afterInit\"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,\"pswp--visible\")}},close:function(){j&&(j=!1,k=!0,Ca(\"close\"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca(\"destroy\"),Wb&&clearTimeout(Wb),a.setAttribute(\"aria-hidden\",\"true\"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,\"scroll\",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Ga()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=za(a);var b=a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca(\"beforeChange\",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,\"pswp__zoom-wrap\")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca(\"afterChange\")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca(\"beforeChange\",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca(\"afterChange\")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+\"px\",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+\"px\"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca(\"beforeResize\"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca(\"resize\")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua(\"x\",g,h,a),Ua(\"y\",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb(\"customZoomTo\",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!(\"fit\"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return a&&a!==document?a.getAttribute(\"class\")&&a.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")>-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca(\"preventDragEvent\",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf(\"touch\")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id=\"\",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?\"h\"!==fa||\"x\"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!(\"mousedown\"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||\"mousedown\"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca(\"pointerDown\"),F){var b=e.arraySearch(lb,a.pointerId,\"id\");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca(\"firstTouchStart\",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,\"id\");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa=\"h\";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?\"h\":\"v\",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca(\"zoomGestureStarted\"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Ea(j),Ca(\"onPinchClose\",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka(\"x\",c),oa.y=Ka(\"y\",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if(\"v\"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca(\"onVerticalDrag\",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb(\"x\",ib);l||(Mb(\"y\",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&\"mouseup\"===a.type)return;a.type.indexOf(\"touch\")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca(\"pointerUp\"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,\"id\");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||\"mouse\";else{var d={4:\"mouse\",2:\"touch\",3:\"pen\"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||\"mouse\")}}var g,h=Lb(a),j=h.length;if(\"mouseup\"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||(\"mouseup\"===a.type?b={x:a.pageX,y:a.pageY,type:\"mouse\"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:\"touch\"})),Ca(\"touchRelease\",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?\"zoom\":\"swipe\",_&&2>j&&(_=!1,1===j&&(g=\"zoomPointerUp\"),Ca(\"zoomGestureEnded\")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed(\"x\"),S){var l=Hb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;cb(\"verticalDrag\",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca(\"onVerticalDrag\",1)}}else{if((Z||ea)&&0===j){var o=Tb(g,Q);if(o)return;g=\"zoomPointerUp\"}if(!ea)return\"swipe\"!==g?void Vb():void(!Z&&s>f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb(\"bounceZoomPan\"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Za.zoomPan&&(Za.zoomPan.raf=H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset(\"x\"),c.calculateAnimOffset(\"y\"),Ga(),c.calculateOverBoundsAnimOffset(\"x\"),c.calculateOverBoundsAnimOffset(\"y\"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void _a(\"zoomPan\")):void 0}};return c},Sb=function(a){return a.calculateSwipeSpeed(\"y\"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset(\"x\"),a.calculateOverBoundsAnimOffset(\"y\"),!0):(ab(\"zoomPan\"),a.lastNow=Da(),void a.panAnimLoop())},Tb=function(a,b){var c;ea||(pb=m);var d;if(\"swipe\"===a){var g=jb.x-kb.x,h=b.lastFlickDist.x<10;g>eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca(\"mainScrollAnimStart\"),cb(\"mainScroll\",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca(\"mainScrollAnimComplete\")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya(\"Gestures\",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:\"\"};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):a(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):N.touch?(a(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),G=!0):a(\"mouse\",\"down\",\"move\",\"up\"),p=B+\" \"+C+\" \"+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=\" mousedown\",p+=\" mousemove mouseup\",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a(\"initialZoom\"),d?(f.template.removeAttribute(\"style\"),f.bg.removeAttribute(\"style\")):(Ea(1),c&&(c.style.display=\"block\"),e.addClass(a,\"pswp--animated-in\"),Ca(\"initialZoom\"+(d?\"OutEnd\":\"InEnd\"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca(\"initialZoom\"+(d?\"Out\":\"In\")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility=\"hidden\"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?\"template\":\"bg\"].style.opacity=.001,Ga()),ab(\"initialZoom\"),d&&!c&&e.removeClass(a,\"pswp--animated-in\"),g&&(d?e[(c?\"remove\":\"add\")+\"Class\"](a,\"pswp--animate_opacity\"):setTimeout(function(){e.addClass(a,\"pswp--animate_opacity\")},30)),Wb=setTimeout(function(){if(Ca(\"initialZoom\"+(d?\"Out\":\"In\")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb(\"initialZoom\",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca(\"parseVerticalMargin\",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;\"orig\"===g?c=1:\"fit\"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display=\"none\",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl(\"pswp__img\",\"img\"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=\"\"),a.container.innerHTML=i.errorMsg.replace(\"%url%\",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+\"px\",a.placeholder.style.height=e+\"px\"),b.style.width=d+\"px\",b.style.height=e+\"px\"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);dc=[]}};ya(\"Controller\",{publicMethods:{lazyLoadItem:function(a){a=za(a);var b=$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca(\"gettingData\",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba(\"beforeChange\",function(a){var b,c=i.preload,d=null===a?!0:a>=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba(\"initialLayout\",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba(\"mainScrollAnimComplete\",mc),Ba(\"initialZoomInEnd\",mc),Ba(\"destroy\",function(){for(var a,b=0;b<Xb.length;b++)a=Xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dc=null})},getItemAt:function(a){return a>=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML=\"\");Ca(\"gettingData\",b,g),a.index=b,a.item=g;var h=g.container=e.createEl(\"pswp__zoom-wrap\");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl(\"pswp__img\",\"img\"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display=\"none\",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca(\"imageLoadComplete\",b,c)}},e.features.transform){var k=\"pswp__img pswp__img--placeholder\";k+=g.msrc?\"\":\" pswp__img--placeholder--blank\";var l=e.createEl(k,g.msrc?\"img\":\"\");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML=\"\",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent(\"CustomEvent\"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||\"touch\"};d.initCustomEvent(\"pswpTap\",!0,!0,e),a.target.dispatchEvent(d)};ya(\"Tap\",{publicMethods:{initTap:function(){Ba(\"firstTouchStart\",f.onTapStart),Ba(\"touchRelease\",f.onTapRelease),Ba(\"destroy\",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca(\"doubleTap\",c);if(\"mouse\"===b.type)return void pc(a,b,\"mouse\");var d=a.target.tagName.toUpperCase();if(\"BUTTON\"===d||e.hasClass(a.target,\"pswp__single-tap\"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){L||(G?Ba(\"mouseUsed\",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c=\"wheel mousewheel DOMMouseScroll\";Ba(\"bindEvents\",function(){e.bind(a,c,f.handleMouseWheel)}),Ba(\"unbindEvents\",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,\"pswp--zoomed-in\"),f.mouseZoomedIn=!1),1>s?e.addClass(a,\"pswp--zoom-allowed\"):e.removeClass(a,\"pswp--zoom-allowed\"),h()},h=function(){d&&(e.removeClass(a,\"pswp--dragging\"),d=!1)};Ba(\"resize\",g),Ba(\"afterChange\",g),Ba(\"pointerDown\",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,\"pswp--dragging\"))}),Ba(\"pointerUp\",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||$a||U?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,\"deltaX\"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if(\"wheelDelta\"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!(\"detail\"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?\"remove\":\"add\")+\"Class\"](a,\"pswp--zoomed-in\")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var c,d=a.split(\"&\");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split(\"=\");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return void(tc=setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var a=m+1,b=$b(m);b.hasOwnProperty(\"pid\")&&(a=b.pid);var c=xc+\"&gid=\"+i.galleryUID+\"&pid=\"+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var d=Bc.href.split(\"#\")[0]+\"#\"+c;Cc?\"#\"+c!==window.location.hash&&history[yc?\"replaceState\":\"pushState\"](\"\",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya(\"History\",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc=\"pushState\"in history,xc.indexOf(\"gid=\")>-1&&(xc=xc.split(\"&gid=\")[0],xc=xc.split(\"?gid=\")[0]),Ba(\"afterChange\",f.updateURL),Ba(\"unbindEvents\",function(){e.unbind(window,\"hashchange\",f.onHashChange)});var a=function(){wc=!0,zc||(Ac?history.back():xc?Bc.hash=xc:Cc?history.pushState(\"\",document.title,Bc.pathname+Bc.search):Bc.hash=\"\"),Fc()};Ba(\"unbindEvents\",function(){l&&a()}),Ba(\"destroy\",function(){wc||a()}),Ba(\"firstUpdate\",function(){m=Gc().pid});var b=xc.indexOf(\"pid=\");b>-1&&(xc=xc.substring(0,b),\"&\"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,\"hashchange\",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});","source":"assets/src/photoSwipe/photoswipe.min.js","raw":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){\"use strict\";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?\"remove\":\"add\")+\"EventListener\";b=b.split(\" \");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||\"div\");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp(\"(\\\\s|^)\"+b+\"(\\\\s|$)\");a.className=a.className.replace(c,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?\" \":\"\")+b)},hasClass:function(a,b){return a.className&&new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c=\"\",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch=\"ontouchstart\"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\\s([0-9\\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=[\"transform\",\"perspective\",\"animationName\"],m=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+\"RequestAnimationFrame\"],d.raf&&(d.caf=window[c+\"CancelAnimationFrame\"]||window[c+\"CancelRequestAnimationFrame\"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(\" \");for(var e,f=(d?\"detach\":\"attach\")+\"Event\",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if(\"object\"==typeof c&&c.handleEvent){if(d){if(!c[\"oldIE\"+e])return!1}else c[\"oldIE\"+e]=g;a[f](\"on\"+e,c[\"oldIE\"+e])}else a[f](\"on\"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return\"A\"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:\"fit\"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var b=_b();return a>b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Da=function(){return(new Date).getTime()},Ea=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+\"px, \"+c+\"px\"+v+\" scale(\"+d+\")\"},Ga=function(a){da&&(a&&(s>f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+\"px, 0px\"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,\"mousemove\",Oa),e.addClass(a,\"pswp--has_mouse\"),i.mouseUsed=!0,Ca(\"mouseUsed\")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,\"keydown\",f),N.transform&&e.bind(f.scrollWrap,\"click\",f),i.mouseUsed||e.bind(document,\"mousemove\",Oa),e.bind(window,\"resize scroll\",f),Ca(\"bindEvents\")},Qa=function(){e.unbind(window,\"resize\",f),e.unbind(window,\"scroll\",r.scroll),e.unbind(document,\"keydown\",f),e.unbind(document,\"mousemove\",Oa),N.transform&&e.unbind(f.scrollWrap,\"click\",f),U&&e.unbind(window,p,f),Ca(\"unbindEvents\")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Va=function(){if(E){var b=N.perspective&&!G;return u=\"translate\"+(b?\"3d(\":\"(\"),void(v=N.perspective?\", 0px)\":\")\")}E=\"left\",e.addClass(a,\"pswp--ie\"),Ia=function(a,b){b.left=a+\"px\"},Ha=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+\"px\",c.height=e+\"px\",c.left=a.initialPosition.x+\"px\",c.top=a.initialPosition.y+\"px\"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+\"px\",a.height=e+\"px\",a.left=oa.x+\"px\",a.top=oa.y+\"px\"}}},Wa=function(a){var b=\"\";i.escKey&&27===a.keyCode?b=\"close\":i.arrowKeys&&(37===a.keyCode?b=\"prev\":39===a.keyCode&&(b=\"next\")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca(\"updateScrollOffset\",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,\"pswp__bg\"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,\"pswp__scroll-wrap\"),f.container=e.getChildByClass(f.scrollWrap,\"pswp__container\"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f[\"init\"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ca(\"firstUpdate\"),m=m||i.index||0,(isNaN(m)||0>m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute(\"aria-hidden\",\"false\"),i.modal&&(ua?a.style.position=\"fixed\":(a.style.position=\"absolute\",a.style.top=e.getScrollY()+\"px\")),void 0===M&&(Ca(\"initialLayout\"),M=K=e.getScrollY());var l=\"pswp--open \";for(i.mainClass&&(l+=i.mainClass+\" \"),i.showHideOpacity&&(l+=\"pswp--animate_opacity \"),l+=G?\"pswp--touch\":\"pswp--notouch\",l+=N.animationName?\" pswp--css_animation\":\"\",l+=N.svg?\" pswp--svg\":\"\",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba(\"initialZoomInEnd\",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display=\"block\",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca(\"afterInit\"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,\"pswp--visible\")}},close:function(){j&&(j=!1,k=!0,Ca(\"close\"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca(\"destroy\"),Wb&&clearTimeout(Wb),a.setAttribute(\"aria-hidden\",\"true\"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,\"scroll\",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Ga()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=za(a);var b=a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca(\"beforeChange\",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,\"pswp__zoom-wrap\")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca(\"afterChange\")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca(\"beforeChange\",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca(\"afterChange\")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+\"px\",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+\"px\"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca(\"beforeResize\"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca(\"resize\")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua(\"x\",g,h,a),Ua(\"y\",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb(\"customZoomTo\",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!(\"fit\"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return a&&a!==document?a.getAttribute(\"class\")&&a.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")>-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca(\"preventDragEvent\",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf(\"touch\")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id=\"\",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?\"h\"!==fa||\"x\"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!(\"mousedown\"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||\"mousedown\"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca(\"pointerDown\"),F){var b=e.arraySearch(lb,a.pointerId,\"id\");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca(\"firstTouchStart\",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,\"id\");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa=\"h\";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?\"h\":\"v\",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca(\"zoomGestureStarted\"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Ea(j),Ca(\"onPinchClose\",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka(\"x\",c),oa.y=Ka(\"y\",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if(\"v\"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca(\"onVerticalDrag\",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb(\"x\",ib);l||(Mb(\"y\",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&\"mouseup\"===a.type)return;a.type.indexOf(\"touch\")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca(\"pointerUp\"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,\"id\");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||\"mouse\";else{var d={4:\"mouse\",2:\"touch\",3:\"pen\"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||\"mouse\")}}var g,h=Lb(a),j=h.length;if(\"mouseup\"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||(\"mouseup\"===a.type?b={x:a.pageX,y:a.pageY,type:\"mouse\"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:\"touch\"})),Ca(\"touchRelease\",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?\"zoom\":\"swipe\",_&&2>j&&(_=!1,1===j&&(g=\"zoomPointerUp\"),Ca(\"zoomGestureEnded\")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed(\"x\"),S){var l=Hb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;cb(\"verticalDrag\",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca(\"onVerticalDrag\",1)}}else{if((Z||ea)&&0===j){var o=Tb(g,Q);if(o)return;g=\"zoomPointerUp\"}if(!ea)return\"swipe\"!==g?void Vb():void(!Z&&s>f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb(\"bounceZoomPan\"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Za.zoomPan&&(Za.zoomPan.raf=H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset(\"x\"),c.calculateAnimOffset(\"y\"),Ga(),c.calculateOverBoundsAnimOffset(\"x\"),c.calculateOverBoundsAnimOffset(\"y\"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void _a(\"zoomPan\")):void 0}};return c},Sb=function(a){return a.calculateSwipeSpeed(\"y\"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset(\"x\"),a.calculateOverBoundsAnimOffset(\"y\"),!0):(ab(\"zoomPan\"),a.lastNow=Da(),void a.panAnimLoop())},Tb=function(a,b){var c;ea||(pb=m);var d;if(\"swipe\"===a){var g=jb.x-kb.x,h=b.lastFlickDist.x<10;g>eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca(\"mainScrollAnimStart\"),cb(\"mainScroll\",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca(\"mainScrollAnimComplete\")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya(\"Gestures\",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:\"\"};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):a(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):N.touch?(a(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),G=!0):a(\"mouse\",\"down\",\"move\",\"up\"),p=B+\" \"+C+\" \"+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=\" mousedown\",p+=\" mousemove mouseup\",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a(\"initialZoom\"),d?(f.template.removeAttribute(\"style\"),f.bg.removeAttribute(\"style\")):(Ea(1),c&&(c.style.display=\"block\"),e.addClass(a,\"pswp--animated-in\"),Ca(\"initialZoom\"+(d?\"OutEnd\":\"InEnd\"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca(\"initialZoom\"+(d?\"Out\":\"In\")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility=\"hidden\"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?\"template\":\"bg\"].style.opacity=.001,Ga()),ab(\"initialZoom\"),d&&!c&&e.removeClass(a,\"pswp--animated-in\"),g&&(d?e[(c?\"remove\":\"add\")+\"Class\"](a,\"pswp--animate_opacity\"):setTimeout(function(){e.addClass(a,\"pswp--animate_opacity\")},30)),Wb=setTimeout(function(){if(Ca(\"initialZoom\"+(d?\"Out\":\"In\")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb(\"initialZoom\",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca(\"parseVerticalMargin\",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;\"orig\"===g?c=1:\"fit\"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display=\"none\",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl(\"pswp__img\",\"img\"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=\"\"),a.container.innerHTML=i.errorMsg.replace(\"%url%\",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+\"px\",a.placeholder.style.height=e+\"px\"),b.style.width=d+\"px\",b.style.height=e+\"px\"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);dc=[]}};ya(\"Controller\",{publicMethods:{lazyLoadItem:function(a){a=za(a);var b=$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca(\"gettingData\",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba(\"beforeChange\",function(a){var b,c=i.preload,d=null===a?!0:a>=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba(\"initialLayout\",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba(\"mainScrollAnimComplete\",mc),Ba(\"initialZoomInEnd\",mc),Ba(\"destroy\",function(){for(var a,b=0;b<Xb.length;b++)a=Xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dc=null})},getItemAt:function(a){return a>=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML=\"\");Ca(\"gettingData\",b,g),a.index=b,a.item=g;var h=g.container=e.createEl(\"pswp__zoom-wrap\");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl(\"pswp__img\",\"img\"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display=\"none\",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca(\"imageLoadComplete\",b,c)}},e.features.transform){var k=\"pswp__img pswp__img--placeholder\";k+=g.msrc?\"\":\" pswp__img--placeholder--blank\";var l=e.createEl(k,g.msrc?\"img\":\"\");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML=\"\",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent(\"CustomEvent\"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||\"touch\"};d.initCustomEvent(\"pswpTap\",!0,!0,e),a.target.dispatchEvent(d)};ya(\"Tap\",{publicMethods:{initTap:function(){Ba(\"firstTouchStart\",f.onTapStart),Ba(\"touchRelease\",f.onTapRelease),Ba(\"destroy\",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca(\"doubleTap\",c);if(\"mouse\"===b.type)return void pc(a,b,\"mouse\");var d=a.target.tagName.toUpperCase();if(\"BUTTON\"===d||e.hasClass(a.target,\"pswp__single-tap\"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){L||(G?Ba(\"mouseUsed\",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c=\"wheel mousewheel DOMMouseScroll\";Ba(\"bindEvents\",function(){e.bind(a,c,f.handleMouseWheel)}),Ba(\"unbindEvents\",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,\"pswp--zoomed-in\"),f.mouseZoomedIn=!1),1>s?e.addClass(a,\"pswp--zoom-allowed\"):e.removeClass(a,\"pswp--zoom-allowed\"),h()},h=function(){d&&(e.removeClass(a,\"pswp--dragging\"),d=!1)};Ba(\"resize\",g),Ba(\"afterChange\",g),Ba(\"pointerDown\",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,\"pswp--dragging\"))}),Ba(\"pointerUp\",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||$a||U?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,\"deltaX\"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if(\"wheelDelta\"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!(\"detail\"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?\"remove\":\"add\")+\"Class\"](a,\"pswp--zoomed-in\")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var c,d=a.split(\"&\");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split(\"=\");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return void(tc=setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var a=m+1,b=$b(m);b.hasOwnProperty(\"pid\")&&(a=b.pid);var c=xc+\"&gid=\"+i.galleryUID+\"&pid=\"+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var d=Bc.href.split(\"#\")[0]+\"#\"+c;Cc?\"#\"+c!==window.location.hash&&history[yc?\"replaceState\":\"pushState\"](\"\",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya(\"History\",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc=\"pushState\"in history,xc.indexOf(\"gid=\")>-1&&(xc=xc.split(\"&gid=\")[0],xc=xc.split(\"?gid=\")[0]),Ba(\"afterChange\",f.updateURL),Ba(\"unbindEvents\",function(){e.unbind(window,\"hashchange\",f.onHashChange)});var a=function(){wc=!0,zc||(Ac?history.back():xc?Bc.hash=xc:Cc?history.pushState(\"\",document.title,Bc.pathname+Bc.search):Bc.hash=\"\"),Fc()};Ba(\"unbindEvents\",function(){l&&a()}),Ba(\"destroy\",function(){wc||a()}),Ba(\"firstUpdate\",function(){m=Gc().pid});var b=xc.indexOf(\"pid=\");b>-1&&(xc=xc.substring(0,b),\"&\"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,\"hashchange\",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});","date":"2017-07-31T09:38:38.515Z","updated":"2017-07-31T03:26:45.616Z","path":"assets/src/photoSwipe/photoswipe.min.js","layout":"false","title":"","comments":1,"_id":"cj63dx7wc000lzwv357y9u7u2","content":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){\"use strict\";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?\"remove\":\"add\")+\"EventListener\";b=b.split(\" \");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isarray:function(a){return a=\"\" instanceof=\"\" array},createel:function(a,b){var=\"\" c=\"document.createElement(b||\"div\");return\" a&&(c.classname=\"a),c},getScrollY:function(){var\" void=\"\" 0!=\"=a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var\" regexp(\"(\\\\s|^)\"+b+\"(\\\\s|$)\");a.classname=\"a.className.replace(c,\"\" \").replace(=\"\" ^\\s\\s*=\"\" ,\"\").replace(=\"\" \\s\\s*$=\"\" ,\"\")},addclass:function(a,b){e.hasclass(a,b)||(a.classname+=\"(a.className?\"\" \":\"\")+b)},hasclass:function(a,b){return=\"\" a.classname&&new=\"\" regexp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(a.classname)},getchildbyclass:function(a,b){for(var=\"\" c;c=\"c.nextSibling}},arraySearch:function(a,b,c){for(var\" d=\"a.length;d--;)if(a[d][c]===b)return\" d;return-1},extend:function(a,b,c){for(var=\"\" in=\"\" b)if(b.hasownproperty(d)){if(c&&a.hasownproperty(d))continue;a[d]=\"b[d]}},easing:{sine:{out:function(a){return\" math.sin(a*(math.pi=\"\" 2))},inout:function(a){return-(math.cos(math.pi*a)-1)=\"\" 2}},cubic:{out:function(a){return--a*a*a+1}}},detectfeatures:function(){if(e.features)return=\"\" e.features;var=\"\" window,window.requestanimationframe&&(d.raf=\"window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var\" f=\"navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var\" g=\"navigator.appVersion.match(/OS\" (\\d+)_(\\d+)_?(\\d+)?=\"\" );g&&g.length=\"\">0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\\s([0-9\\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=[\"transform\",\"perspective\",\"animationName\"],m=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+\"RequestAnimationFrame\"],d.raf&&(d.caf=window[c+\"CancelAnimationFrame\"]||window[c+\"CancelRequestAnimationFrame\"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(\" \");for(var e,f=(d?\"detach\":\"attach\")+\"Event\",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if(\"object\"==typeof c&&c.handleevent){if(d){if(!c[\"oldie\"+e])return!1}else=\"\" c[\"oldie\"+e]=\"g;a[f](\"on\"+e,c[\"oldIE\"+e])}else\" a[f](\"on\"+e,c)});var=\"\" f=\"this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return\"A\"===a.tagName},getDoubleTapZoom:function(a,b){return\" a?1:b.initialzoomlevel<.7?1:1.33},maxspreadzoom:1.33,modal:!0,scalemode:\"fit\"};e.extend(i,d);var=\"\" j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=\"function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var\" b=\"_b();return\" a=\"\">b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},da=function(){return(new date).gettime()},ea=\"function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+\"px,\" \"+c+\"px\"+v+\"=\"\" scale(\"+d+\")\"},ga=\"function(a){da&&(a&&(s\">f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+\"px, 0px\"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,\"mousemove\",Oa),e.addClass(a,\"pswp--has_mouse\"),i.mouseUsed=!0,Ca(\"mouseUsed\")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,\"keydown\",f),N.transform&&e.bind(f.scrollWrap,\"click\",f),i.mouseUsed||e.bind(document,\"mousemove\",Oa),e.bind(window,\"resize scroll\",f),Ca(\"bindEvents\")},Qa=function(){e.unbind(window,\"resize\",f),e.unbind(window,\"scroll\",r.scroll),e.unbind(document,\"keydown\",f),e.unbind(document,\"mousemove\",Oa),N.transform&&e.unbind(f.scrollWrap,\"click\",f),U&&e.unbind(window,p,f),Ca(\"unbindEvents\")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},va=function(){if(e){var b=\"N.perspective&&!G;return\" u=\"translate\" +(b?\"3d(\":\"(\"),void(v=\"N.perspective?\",\" 0px)\":\")\")}e=\"left\" ,e.addclass(a,\"pswp--ie\"),ia=\"function(a,b){b.left=a+\"px\"},Ha=function(a){var\">1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+\"px\",c.height=e+\"px\",c.left=a.initialPosition.x+\"px\",c.top=a.initialPosition.y+\"px\"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+\"px\",a.height=e+\"px\",a.left=oa.x+\"px\",a.top=oa.y+\"px\"}}},Wa=function(a){var b=\"\";i.escKey&&27===a.keyCode?b=\"close\":i.arrowKeys&&(37===a.keyCode?b=\"prev\":39===a.keyCode&&(b=\"next\")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca(\"updateScrollOffset\",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,\"pswp__bg\"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,\"pswp__scroll-wrap\"),f.container=e.getChildByClass(f.scrollWrap,\"pswp__container\"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f[\"init\"+va[c]]();if(b){var g=\"f.ui=new\" b(f,e);g.init()}ca(\"firstupdate\"),m=\"m||i.index||0,(isNaN(m)||0\">m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute(\"aria-hidden\",\"false\"),i.modal&&(ua?a.style.position=\"fixed\":(a.style.position=\"absolute\",a.style.top=e.getScrollY()+\"px\")),void 0===M&&(Ca(\"initialLayout\"),M=K=e.getScrollY());var l=\"pswp--open \";for(i.mainClass&&(l+=i.mainClass+\" \"),i.showHideOpacity&&(l+=\"pswp--animate_opacity \"),l+=G?\"pswp--touch\":\"pswp--notouch\",l+=N.animationName?\" pswp--css_animation\":\"\",l+=N.svg?\" pswp--svg\":\"\",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba(\"initialZoomInEnd\",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display=\"block\",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca(\"afterInit\"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,\"pswp--visible\")}},close:function(){j&&(j=!1,k=!0,Ca(\"close\"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca(\"destroy\"),Wb&&clearTimeout(Wb),a.setAttribute(\"aria-hidden\",\"true\"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,\"scroll\",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,ga()},handleevent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goto:function(a){a=za(a);var b=\"a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca(\"beforeChange\",0),y[1].el.children.length){var\" da=\"null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca(\"afterChange\")},invalidateCurrItems:function(){x=!0;for(var\" a=\"0;h\">a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca(\"beforeChange\",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca(\"afterChange\")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+\"px\",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+\"px\"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca(\"beforeResize\"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca(\"resize\")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua(\"x\",g,h,a),Ua(\"y\",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb(\"customZoomTo\",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=\"Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!(\"fit\"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return\" a&&a!=\"=document?a.getAttribute(\"class\")&&a.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")\">-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca(\"preventDragEvent\",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf(\"touch\")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id=\"\",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panendfriction:1,j=oa[a]+b[a]*c,!i.allowpantonext&&s!==f.curritem.initialzoomlevel||(da?\"h\"!==fa||\"x\"!==a||w||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panendfriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!(\"mousedown\"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||\"mousedown\"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca(\"pointerDown\"),F){var b=e.arraySearch(lb,a.pointerId,\"id\");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca(\"firstTouchStart\",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,\"id\");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa=\"h\";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?\"h\":\"v\",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca(\"zoomGestureStarted\"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.curritem.initialzoomlevel){var h=\"e-c,j=1-h/(e/1.2);Ea(j),Ca(\"onPinchClose\",j),ha=!0}else\" d=\"(e-c)/e,d\">1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka(\"x\",c),oa.y=Ka(\"y\",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if(\"v\"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca(\"onVerticalDrag\",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb(\"x\",ib);l||(Mb(\"y\",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&\"mouseup\"===a.type)return;a.type.indexOf(\"touch\")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca(\"pointerUp\"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,\"id\");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||\"mouse\";else{var d={4:\"mouse\",2:\"touch\",3:\"pen\"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||\"mouse\")}}var g,h=Lb(a),j=h.length;if(\"mouseup\"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||(\"mouseup\"===a.type?b={x:a.pageX,y:a.pageY,type:\"mouse\"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:\"touch\"})),Ca(\"touchRelease\",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?\"zoom\":\"swipe\",_&&2>j&&(_=!1,1===j&&(g=\"zoomPointerUp\"),Ca(\"zoomGestureEnded\")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed(\"x\"),S){var l=Hb();if(l<i.verticaldragrange)f.close();else{var m=\"oa.y,n=ia;cb(\"verticalDrag\",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca(\"onVerticalDrag\",1)}}else{if((Z||ea)&&0===j){var\" o=\"Tb(g,Q);if(o)return;g=\"zoomPointerUp\"}if(!ea)return\"swipe\"!==g?void\" vb():void(!z&&s=\"\">f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastflickspeed[d]=0),c.slowdownratio[d]=.95,c.slowdownratioreverse[d]=1-c.slowdownratio[d],c.speeddecelerationratio[d]=1},calculateoverboundsanimoffset:function(a,b){c.backanimstarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backanimdestination[a]=ca.max[a]),void 0!=\"=c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb(\"bounceZoomPan\"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return\" za.zoompan&&(za.zoompan.raf=\"H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset(\"x\"),c.calculateAnimOffset(\"y\"),Ga(),c.calculateOverBoundsAnimOffset(\"x\"),c.calculateOverBoundsAnimOffset(\"y\"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void\" _a(\"zoompan\")):void=\"\" 0}};return=\"\" c},sb=\"function(a){return\" a.calculateswipespeed(\"y\"),ca=\"f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset(\"x\"),a.calculateOverBoundsAnimOffset(\"y\"),!0):(ab(\"zoomPan\"),a.lastNow=Da(),void\" a.pananimloop())},tb=\"function(a,b){var\" c;ea||(pb=\"m);var\" d;if(\"swipe\"=\"==a){var\" g=\"jb.x-kb.x,h=b.lastFlickDist.x<10;g\">eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=\"d,0\">m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca(\"mainScrollAnimStart\"),cb(\"mainScroll\",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca(\"mainScrollAnimComplete\")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya(\"Gestures\",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:\"\"};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):a(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):N.touch?(a(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),G=!0):a(\"mouse\",\"down\",\"move\",\"up\"),p=B+\" \"+C+\" \"+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=\" mousedown\",p+=\" mousemove mouseup\",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a(\"initialZoom\"),d?(f.template.removeAttribute(\"style\"),f.bg.removeAttribute(\"style\")):(Ea(1),c&&(c.style.display=\"block\"),e.addClass(a,\"pswp--animated-in\"),Ca(\"initialZoom\"+(d?\"OutEnd\":\"InEnd\"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca(\"initialZoom\"+(d?\"Out\":\"In\")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility=\"hidden\"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?\"template\":\"bg\"].style.opacity=.001,Ga()),ab(\"initialZoom\"),d&&!c&&e.removeClass(a,\"pswp--animated-in\"),g&&(d?e[(c?\"remove\":\"add\")+\"Class\"](a,\"pswp--animate_opacity\"):setTimeout(function(){e.addClass(a,\"pswp--animate_opacity\")},30)),Wb=setTimeout(function(){if(Ca(\"initialZoom\"+(d?\"Out\":\"In\")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb(\"initialZoom\",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca(\"parseVerticalMargin\",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;\"orig\"===g?c=1:\"fit\"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display=\"none\",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl(\"pswp__img\",\"img\"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=\"\"),a.container.innerHTML=i.errorMsg.replace(\"%url%\",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+\"px\",a.placeholder.style.height=e+\"px\"),b.style.width=d+\"px\",b.style.height=e+\"px\"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);dc=[]}};ya(\"controller\",{publicmethods:{lazyloaditem:function(a){a=za(a);var b=\"$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca(\"gettingData\",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba(\"beforeChange\",function(a){var\" b,c=\"i.preload,d=null===a?!0:a\">=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba(\"initialLayout\",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba(\"mainScrollAnimComplete\",mc),Ba(\"initialZoomInEnd\",mc),Ba(\"destroy\",function(){for(var a,b=0;b<xb.length;b++)a=xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);dc=null})},getitemat:function(a){return a=\"\">=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML=\"\");Ca(\"gettingData\",b,g),a.index=b,a.item=g;var h=g.container=e.createEl(\"pswp__zoom-wrap\");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl(\"pswp__img\",\"img\"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display=\"none\",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca(\"imageLoadComplete\",b,c)}},e.features.transform){var k=\"pswp__img pswp__img--placeholder\";k+=g.msrc?\"\":\" pswp__img--placeholder--blank\";var l=e.createEl(k,g.msrc?\"img\":\"\");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML=\"\",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent(\"CustomEvent\"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||\"touch\"};d.initCustomEvent(\"pswpTap\",!0,!0,e),a.target.dispatchEvent(d)};ya(\"Tap\",{publicMethods:{initTap:function(){Ba(\"firstTouchStart\",f.onTapStart),Ba(\"touchRelease\",f.onTapRelease),Ba(\"destroy\",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca(\"doubleTap\",c);if(\"mouse\"===b.type)return void pc(a,b,\"mouse\");var d=a.target.tagName.toUpperCase();if(\"BUTTON\"===d||e.hasClass(a.target,\"pswp__single-tap\"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){L||(G?Ba(\"mouseUsed\",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c=\"wheel mousewheel DOMMouseScroll\";Ba(\"bindEvents\",function(){e.bind(a,c,f.handleMouseWheel)}),Ba(\"unbindEvents\",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,\"pswp--zoomed-in\"),f.mouseZoomedIn=!1),1>s?e.addClass(a,\"pswp--zoom-allowed\"):e.removeClass(a,\"pswp--zoom-allowed\"),h()},h=function(){d&&(e.removeClass(a,\"pswp--dragging\"),d=!1)};Ba(\"resize\",g),Ba(\"afterChange\",g),Ba(\"pointerDown\",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,\"pswp--dragging\"))}),Ba(\"pointerUp\",h),b||g()},handleMouseWheel:function(a){if(s<=f.curritem.fitratio)return i.modal&&(!i.closeonscroll||$a||u?a.preventdefault():e&&math.abs(a.deltay)=\"\">2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,\"deltaX\"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if(\"wheelDelta\"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!(\"detail\"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?\"remove\":\"add\")+\"Class\"](a,\"pswp--zoomed-in\")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var=\"\" c,d=\"a.split(\"&\");for(c=0;c<d.length;c++)if(d[c]){var\" e=\"d[c].split(\"=\");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var\" f=\"b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else\" b.pid=\"parseInt(b.pid,10)-1;return\" b.pid<0&&(b.pid=\"0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return\" void(tc=\"setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var\" a=\"m+1,b=$b(m);b.hasOwnProperty(\"pid\")&&(a=b.pid);var\" c=\"xc+\"&gid=\"+i.galleryUID+\"&pid=\"+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var\" d=\"Bc.href.split(\"#\")[0]+\"#\"+c;Cc?\"#\"+c!==window.location.hash&&history[yc?\"replaceState\":\"pushState\"](\"\",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya(\"History\",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc=\"pushState\"in\" history,xc.indexof(\"gid=\")>-1&&(xc=xc.split(\" &gid=\")[0],xc=xc.split(\" ?gid=\")[0]),Ba(\" afterchange\",f.updateurl),ba(\"unbindevents\",function(){e.unbind(window,\"hashchange\",f.onhashchange)});var=\"\" b=\"xc.indexOf(\"pid=\");b\">-1&&(xc=xc.substring(0,b),\"&\"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,\"hashchange\",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});</5)return></=ca.min.y&&c></=ca.min.x&&b></=f.curritem.fitratio)return></xb.length;b++)a=xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);dc=null})},getitemat:function(a){return></dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);dc=[]}};ya(\"controller\",{publicmethods:{lazyloaditem:function(a){a=za(a);var></-20)&&(d=1)}var></ca.max[a]&&(c.backanimdestination[a]=ca.max[a]),void></.1&&(c.lastflickspeed[d]=0),c.slowdownratio[d]=.95,c.slowdownratioreverse[d]=1-c.slowdownratio[d],c.speeddecelerationratio[d]=1},calculateoverboundsanimoffset:function(a,b){c.backanimstarted[a]||(oa[a]></i.verticaldragrange)f.close();else{var></=f.curritem.initialzoomlevel){var></mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||z||s></ca.max[a]&&(c=i.panendfriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0></ca.max[a]?i.panendfriction:1,j=oa[a]+b[a]*c,!i.allowpantonext&&s!==f.curritem.initialzoomlevel||(da?\"h\"!==fa||\"x\"!==a||w||(k?(j></g&&math.abs(a.y-b.y)<g},xb=function(a,b){return></ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,ga()},handleevent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goto:function(a){a=za(a);var></ca.max.x&&(a=ca.max.x),b></va.length;c++)f[\"init\"+va[c]]();if(b){var></b.max[a]?(c[a]=b.max[a],!0):!1)},va=function(){if(e){var></b.length;d++)b[d].apply(f,c)}},da=function(){return(new></b.length;h++)if(e=b[h])if(\"object\"==typeof></b.length;f++)b[f]&&a[e](b[f],c,!1)},isarray:function(a){return>","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){\"use strict\";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?\"remove\":\"add\")+\"EventListener\";b=b.split(\" \");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isarray:function(a){return a=\"\" instanceof=\"\" array},createel:function(a,b){var=\"\" c=\"document.createElement(b||\"div\");return\" a&&(c.classname=\"a),c},getScrollY:function(){var\" void=\"\" 0!=\"=a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var\" regexp(\"(\\\\s|^)\"+b+\"(\\\\s|$)\");a.classname=\"a.className.replace(c,\"\" \").replace(=\"\" ^\\s\\s*=\"\" ,\"\").replace(=\"\" \\s\\s*$=\"\" ,\"\")},addclass:function(a,b){e.hasclass(a,b)||(a.classname+=\"(a.className?\"\" \":\"\")+b)},hasclass:function(a,b){return=\"\" a.classname&&new=\"\" regexp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\").test(a.classname)},getchildbyclass:function(a,b){for(var=\"\" c;c=\"c.nextSibling}},arraySearch:function(a,b,c){for(var\" d=\"a.length;d--;)if(a[d][c]===b)return\" d;return-1},extend:function(a,b,c){for(var=\"\" in=\"\" b)if(b.hasownproperty(d)){if(c&&a.hasownproperty(d))continue;a[d]=\"b[d]}},easing:{sine:{out:function(a){return\" math.sin(a*(math.pi=\"\" 2))},inout:function(a){return-(math.cos(math.pi*a)-1)=\"\" 2}},cubic:{out:function(a){return--a*a*a+1}}},detectfeatures:function(){if(e.features)return=\"\" e.features;var=\"\" window,window.requestanimationframe&&(d.raf=\"window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var\" f=\"navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var\" g=\"navigator.appVersion.match(/OS\" (\\d+)_(\\d+)_?(\\d+)?=\"\" );g&&g.length=\"\">0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\\s([0-9\\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=[\"transform\",\"perspective\",\"animationName\"],m=[\"\",\"webkit\",\"Moz\",\"ms\",\"O\"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+\"RequestAnimationFrame\"],d.raf&&(d.caf=window[c+\"CancelAnimationFrame\"]||window[c+\"CancelRequestAnimationFrame\"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(\" \");for(var e,f=(d?\"detach\":\"attach\")+\"Event\",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if(\"object\"==typeof c&&c.handleevent){if(d){if(!c[\"oldie\"+e])return!1}else=\"\" c[\"oldie\"+e]=\"g;a[f](\"on\"+e,c[\"oldIE\"+e])}else\" a[f](\"on\"+e,c)});var=\"\" f=\"this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return\"A\"===a.tagName},getDoubleTapZoom:function(a,b){return\" a?1:b.initialzoomlevel<.7?1:1.33},maxspreadzoom:1.33,modal:!0,scalemode:\"fit\"};e.extend(i,d);var=\"\" j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=\"function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var\" b=\"_b();return\" a=\"\">b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},da=function(){return(new date).gettime()},ea=\"function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+\"px,\" \"+c+\"px\"+v+\"=\"\" scale(\"+d+\")\"},ga=\"function(a){da&&(a&&(s\">f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+\"px, 0px\"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,\"mousemove\",Oa),e.addClass(a,\"pswp--has_mouse\"),i.mouseUsed=!0,Ca(\"mouseUsed\")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,\"keydown\",f),N.transform&&e.bind(f.scrollWrap,\"click\",f),i.mouseUsed||e.bind(document,\"mousemove\",Oa),e.bind(window,\"resize scroll\",f),Ca(\"bindEvents\")},Qa=function(){e.unbind(window,\"resize\",f),e.unbind(window,\"scroll\",r.scroll),e.unbind(document,\"keydown\",f),e.unbind(document,\"mousemove\",Oa),N.transform&&e.unbind(f.scrollWrap,\"click\",f),U&&e.unbind(window,p,f),Ca(\"unbindEvents\")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},va=function(){if(e){var b=\"N.perspective&&!G;return\" u=\"translate\" +(b?\"3d(\":\"(\"),void(v=\"N.perspective?\",\" 0px)\":\")\")}e=\"left\" ,e.addclass(a,\"pswp--ie\"),ia=\"function(a,b){b.left=a+\"px\"},Ha=function(a){var\">1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+\"px\",c.height=e+\"px\",c.left=a.initialPosition.x+\"px\",c.top=a.initialPosition.y+\"px\"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+\"px\",a.height=e+\"px\",a.left=oa.x+\"px\",a.top=oa.y+\"px\"}}},Wa=function(a){var b=\"\";i.escKey&&27===a.keyCode?b=\"close\":i.arrowKeys&&(37===a.keyCode?b=\"prev\":39===a.keyCode&&(b=\"next\")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca(\"updateScrollOffset\",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,\"pswp__bg\"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,\"pswp__scroll-wrap\"),f.container=e.getChildByClass(f.scrollWrap,\"pswp__container\"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f[\"init\"+va[c]]();if(b){var g=\"f.ui=new\" b(f,e);g.init()}ca(\"firstupdate\"),m=\"m||i.index||0,(isNaN(m)||0\">m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute(\"aria-hidden\",\"false\"),i.modal&&(ua?a.style.position=\"fixed\":(a.style.position=\"absolute\",a.style.top=e.getScrollY()+\"px\")),void 0===M&&(Ca(\"initialLayout\"),M=K=e.getScrollY());var l=\"pswp--open \";for(i.mainClass&&(l+=i.mainClass+\" \"),i.showHideOpacity&&(l+=\"pswp--animate_opacity \"),l+=G?\"pswp--touch\":\"pswp--notouch\",l+=N.animationName?\" pswp--css_animation\":\"\",l+=N.svg?\" pswp--svg\":\"\",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba(\"initialZoomInEnd\",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display=\"block\",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca(\"afterInit\"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,\"pswp--visible\")}},close:function(){j&&(j=!1,k=!0,Ca(\"close\"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca(\"destroy\"),Wb&&clearTimeout(Wb),a.setAttribute(\"aria-hidden\",\"true\"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,\"scroll\",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,ga()},handleevent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goto:function(a){a=za(a);var b=\"a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca(\"beforeChange\",0),y[1].el.children.length){var\" da=\"null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca(\"afterChange\")},invalidateCurrItems:function(){x=!0;for(var\" a=\"0;h\">a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca(\"beforeChange\",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca(\"afterChange\")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+\"px\",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+\"px\"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca(\"beforeResize\"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca(\"resize\")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua(\"x\",g,h,a),Ua(\"y\",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb(\"customZoomTo\",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=\"Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!(\"fit\"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return\" a&&a!=\"=document?a.getAttribute(\"class\")&&a.getAttribute(\"class\").indexOf(\"pswp__scroll-wrap\")\">-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca(\"preventDragEvent\",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf(\"touch\")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id=\"\",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panendfriction:1,j=oa[a]+b[a]*c,!i.allowpantonext&&s!==f.curritem.initialzoomlevel||(da?\"h\"!==fa||\"x\"!==a||w||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panendfriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!(\"mousedown\"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||\"mousedown\"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca(\"pointerDown\"),F){var b=e.arraySearch(lb,a.pointerId,\"id\");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca(\"firstTouchStart\",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,\"id\");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa=\"h\";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?\"h\":\"v\",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca(\"zoomGestureStarted\"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.curritem.initialzoomlevel){var h=\"e-c,j=1-h/(e/1.2);Ea(j),Ca(\"onPinchClose\",j),ha=!0}else\" d=\"(e-c)/e,d\">1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka(\"x\",c),oa.y=Ka(\"y\",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if(\"v\"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca(\"onVerticalDrag\",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb(\"x\",ib);l||(Mb(\"y\",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&\"mouseup\"===a.type)return;a.type.indexOf(\"touch\")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca(\"pointerUp\"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,\"id\");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||\"mouse\";else{var d={4:\"mouse\",2:\"touch\",3:\"pen\"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||\"mouse\")}}var g,h=Lb(a),j=h.length;if(\"mouseup\"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||(\"mouseup\"===a.type?b={x:a.pageX,y:a.pageY,type:\"mouse\"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:\"touch\"})),Ca(\"touchRelease\",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?\"zoom\":\"swipe\",_&&2>j&&(_=!1,1===j&&(g=\"zoomPointerUp\"),Ca(\"zoomGestureEnded\")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed(\"x\"),S){var l=Hb();if(l<i.verticaldragrange)f.close();else{var m=\"oa.y,n=ia;cb(\"verticalDrag\",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca(\"onVerticalDrag\",1)}}else{if((Z||ea)&&0===j){var\" o=\"Tb(g,Q);if(o)return;g=\"zoomPointerUp\"}if(!ea)return\"swipe\"!==g?void\" vb():void(!z&&s=\"\">f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastflickspeed[d]=0),c.slowdownratio[d]=.95,c.slowdownratioreverse[d]=1-c.slowdownratio[d],c.speeddecelerationratio[d]=1},calculateoverboundsanimoffset:function(a,b){c.backanimstarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backanimdestination[a]=ca.max[a]),void 0!=\"=c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb(\"bounceZoomPan\"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return\" za.zoompan&&(za.zoompan.raf=\"H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset(\"x\"),c.calculateAnimOffset(\"y\"),Ga(),c.calculateOverBoundsAnimOffset(\"x\"),c.calculateOverBoundsAnimOffset(\"y\"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void\" _a(\"zoompan\")):void=\"\" 0}};return=\"\" c},sb=\"function(a){return\" a.calculateswipespeed(\"y\"),ca=\"f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset(\"x\"),a.calculateOverBoundsAnimOffset(\"y\"),!0):(ab(\"zoomPan\"),a.lastNow=Da(),void\" a.pananimloop())},tb=\"function(a,b){var\" c;ea||(pb=\"m);var\" d;if(\"swipe\"=\"==a){var\" g=\"jb.x-kb.x,h=b.lastFlickDist.x<10;g\">eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=\"d,0\">m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca(\"mainScrollAnimStart\"),cb(\"mainScroll\",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca(\"mainScrollAnimComplete\")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya(\"Gestures\",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:\"\"};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a(\"pointer\",\"down\",\"move\",\"up\",\"cancel\"):a(\"MSPointer\",\"Down\",\"Move\",\"Up\",\"Cancel\"):N.touch?(a(\"touch\",\"start\",\"move\",\"end\",\"cancel\"),G=!0):a(\"mouse\",\"down\",\"move\",\"up\"),p=B+\" \"+C+\" \"+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=\" mousedown\",p+=\" mousemove mouseup\",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a(\"initialZoom\"),d?(f.template.removeAttribute(\"style\"),f.bg.removeAttribute(\"style\")):(Ea(1),c&&(c.style.display=\"block\"),e.addClass(a,\"pswp--animated-in\"),Ca(\"initialZoom\"+(d?\"OutEnd\":\"InEnd\"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca(\"initialZoom\"+(d?\"Out\":\"In\")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility=\"hidden\"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?\"template\":\"bg\"].style.opacity=.001,Ga()),ab(\"initialZoom\"),d&&!c&&e.removeClass(a,\"pswp--animated-in\"),g&&(d?e[(c?\"remove\":\"add\")+\"Class\"](a,\"pswp--animate_opacity\"):setTimeout(function(){e.addClass(a,\"pswp--animate_opacity\")},30)),Wb=setTimeout(function(){if(Ca(\"initialZoom\"+(d?\"Out\":\"In\")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb(\"initialZoom\",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca(\"parseVerticalMargin\",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;\"orig\"===g?c=1:\"fit\"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display=\"none\",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl(\"pswp__img\",\"img\"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=\"\"),a.container.innerHTML=i.errorMsg.replace(\"%url%\",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+\"px\",a.placeholder.style.height=e+\"px\"),b.style.width=d+\"px\",b.style.height=e+\"px\"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);dc=[]}};ya(\"controller\",{publicmethods:{lazyloaditem:function(a){a=za(a);var b=\"$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca(\"gettingData\",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba(\"beforeChange\",function(a){var\" b,c=\"i.preload,d=null===a?!0:a\">=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba(\"initialLayout\",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba(\"mainScrollAnimComplete\",mc),Ba(\"initialZoomInEnd\",mc),Ba(\"destroy\",function(){for(var a,b=0;b<xb.length;b++)a=xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);dc=null})},getitemat:function(a){return a=\"\">=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML=\"\");Ca(\"gettingData\",b,g),a.index=b,a.item=g;var h=g.container=e.createEl(\"pswp__zoom-wrap\");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl(\"pswp__img\",\"img\"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display=\"none\",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca(\"imageLoadComplete\",b,c)}},e.features.transform){var k=\"pswp__img pswp__img--placeholder\";k+=g.msrc?\"\":\" pswp__img--placeholder--blank\";var l=e.createEl(k,g.msrc?\"img\":\"\");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML=\"\",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent(\"CustomEvent\"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||\"touch\"};d.initCustomEvent(\"pswpTap\",!0,!0,e),a.target.dispatchEvent(d)};ya(\"Tap\",{publicMethods:{initTap:function(){Ba(\"firstTouchStart\",f.onTapStart),Ba(\"touchRelease\",f.onTapRelease),Ba(\"destroy\",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca(\"doubleTap\",c);if(\"mouse\"===b.type)return void pc(a,b,\"mouse\");var d=a.target.tagName.toUpperCase();if(\"BUTTON\"===d||e.hasClass(a.target,\"pswp__single-tap\"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){L||(G?Ba(\"mouseUsed\",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c=\"wheel mousewheel DOMMouseScroll\";Ba(\"bindEvents\",function(){e.bind(a,c,f.handleMouseWheel)}),Ba(\"unbindEvents\",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,\"pswp--zoomed-in\"),f.mouseZoomedIn=!1),1>s?e.addClass(a,\"pswp--zoom-allowed\"):e.removeClass(a,\"pswp--zoom-allowed\"),h()},h=function(){d&&(e.removeClass(a,\"pswp--dragging\"),d=!1)};Ba(\"resize\",g),Ba(\"afterChange\",g),Ba(\"pointerDown\",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,\"pswp--dragging\"))}),Ba(\"pointerUp\",h),b||g()},handleMouseWheel:function(a){if(s<=f.curritem.fitratio)return i.modal&&(!i.closeonscroll||$a||u?a.preventdefault():e&&math.abs(a.deltay)=\"\">2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,\"deltaX\"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if(\"wheelDelta\"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!(\"detail\"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?\"remove\":\"add\")+\"Class\"](a,\"pswp--zoomed-in\")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var=\"\" c,d=\"a.split(\"&\");for(c=0;c<d.length;c++)if(d[c]){var\" e=\"d[c].split(\"=\");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var\" f=\"b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else\" b.pid=\"parseInt(b.pid,10)-1;return\" b.pid<0&&(b.pid=\"0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return\" void(tc=\"setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var\" a=\"m+1,b=$b(m);b.hasOwnProperty(\"pid\")&&(a=b.pid);var\" c=\"xc+\"&gid=\"+i.galleryUID+\"&pid=\"+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var\" d=\"Bc.href.split(\"#\")[0]+\"#\"+c;Cc?\"#\"+c!==window.location.hash&&history[yc?\"replaceState\":\"pushState\"](\"\",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya(\"History\",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc=\"pushState\"in\" history,xc.indexof(\"gid=\")>-1&&(xc=xc.split(\" &gid=\")[0],xc=xc.split(\" ?gid=\")[0]),Ba(\" afterchange\",f.updateurl),ba(\"unbindevents\",function(){e.unbind(window,\"hashchange\",f.onhashchange)});var=\"\" b=\"xc.indexOf(\"pid=\");b\">-1&&(xc=xc.substring(0,b),\"&\"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,\"hashchange\",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});</5)return></=ca.min.y&&c></=ca.min.x&&b></=f.curritem.fitratio)return></xb.length;b++)a=xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loaderror&&(a.loaded=a.loaderror=!1);dc=null})},getitemat:function(a){return></dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.basediv,a.img,!1,a.clearplaceholder);dc=[]}};ya(\"controller\",{publicmethods:{lazyloaditem:function(a){a=za(a);var></-20)&&(d=1)}var></ca.max[a]&&(c.backanimdestination[a]=ca.max[a]),void></.1&&(c.lastflickspeed[d]=0),c.slowdownratio[d]=.95,c.slowdownratioreverse[d]=1-c.slowdownratio[d],c.speeddecelerationratio[d]=1},calculateoverboundsanimoffset:function(a,b){c.backanimstarted[a]||(oa[a]></i.verticaldragrange)f.close();else{var></=f.curritem.initialzoomlevel){var></mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,\"x\"!==a)?void(ea||z||s></ca.max[a]&&(c=i.panendfriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0></ca.max[a]?i.panendfriction:1,j=oa[a]+b[a]*c,!i.allowpantonext&&s!==f.curritem.initialzoomlevel||(da?\"h\"!==fa||\"x\"!==a||w||(k?(j></g&&math.abs(a.y-b.y)<g},xb=function(a,b){return></ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,ga()},handleevent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goto:function(a){a=za(a);var></ca.max.x&&(a=ca.max.x),b></va.length;c++)f[\"init\"+va[c]]();if(b){var></b.max[a]?(c[a]=b.max[a],!0):!1)},va=function(){if(e){var></b.length;d++)b[d].apply(f,c)}},da=function(){return(new></b.length;h++)if(e=b[h])if(\"object\"==typeof></b.length;f++)b[f]&&a[e](b[f],c,!1)},isarray:function(a){return>"},{"_content":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n","source":"assets/src/photoSwipe/photoswipe-ui-default.js","raw":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n","date":"2017-07-31T09:38:38.599Z","updated":"2017-07-31T03:26:45.611Z","path":"assets/src/photoSwipe/photoswipe-ui-default.js","layout":"false","title":"","comments":1,"_id":"cj63dx7wc000mzwv399xwlpzi","content":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u='},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text=&url='},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url=&media=&description='},\n\t\t\t\t{id:'download', label:'Download image', url:'', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('', image_url )\n\t\t\t\t\t\t\t\t\t.replace('', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+=\"\" 'class=\"pswp__share--' + shareButtonData.id + '\" '=\"\" +=\"\" (sharebuttondata.download=\"\" ?=\"\" 'download'=\"\" :=\"\" '')=\"\">' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() ","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u='},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text=&url='},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url=&media=&description='},\n\t\t\t\t{id:'download', label:'Download image', url:'', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('', image_url )\n\t\t\t\t\t\t\t\t\t.replace('', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+=\"\" 'class=\"pswp__share--' + shareButtonData.id + '\" '=\"\" +=\"\" (sharebuttondata.download=\"\" ?=\"\" 'download'=\"\" :=\"\" '')=\"\">' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() "},{"_content":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){\"use strict\";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text={{text}}&url={{url}}\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}\"},{id:\"download\",label:\"Download image\",url:\"{{raw_image_url}}\",download:!0}],getImageURLForShare:function(){return a.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute(\"class\")||\"\",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf(\"pswp__\"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?\"add\":\"remove\")+\"Class\"](a,\"pswp__\"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,\"ui--one-slide\",a),p=a)},E=function(){C(i,\"share-modal--hidden\",y)},F=function(){return y=!y,y?(b.removeClass(i,\"pswp__share-modal--fade-in\"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,\"pswp__share-modal--fade-in\")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout(\"shareLinkClick\",b,c),c.href?c.hasAttribute(\"download\")?!0:(window.open(c.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f=\"\",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace(\"{{url}}\",encodeURIComponent(d)).replace(\"{{image_url}}\",encodeURIComponent(c)).replace(\"{{raw_image_url}}\",c).replace(\"{{text}}\",encodeURIComponent(e)),f+='<a href=\"'+b+'\" target=\"_blank\" class=\"pswp__share--'+a.id+'\"'+(a.download?\"download\":\"\")+\">\"+a.label+\"</a>\",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,\"pswp__\"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&\"HTML\"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,\"pswp--supports-fs\")):b.removeClass(a.template,\"pswp--supports-fs\"))},N=function(){q.preloaderEl&&(O(!0),l(\"beforeChange\",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l(\"imageLoadComplete\",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,\"preloader--active\",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&\"auto\"===g.bottom)if(f||(f=b.createEl(\"pswp__caption pswp__caption--fake\"),f.appendChild(b.createEl(\"pswp__caption__center\")),d.insertBefore(f,e),b.addClass(d,\"pswp__ui--fit\")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom=\"auto\"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l(\"mouseUsed\",function(){b.bind(document,\"mousemove\",K),b.bind(document,\"mouseout\",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l(\"onVerticalDrag\",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l(\"onPinchClose\",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l(\"zoomGestureEnded\",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:\"caption\",option:\"captionEl\",onInit:function(a){e=a}},{name:\"share-modal\",option:\"shareEl\",onInit:function(a){i=a},onTap:function(){F()}},{name:\"button--share\",option:\"shareEl\",onInit:function(a){h=a},onTap:function(){F()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:a.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(a){g=a}},{name:\"button--close\",option:\"closeEl\",onTap:a.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:a.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:a.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf(\"pswp__\"+e.name)>-1&&(q[e.option]?(b.removeClass(a,\"pswp__element--disabled\"),e.onInit&&e.onInit(a)):b.addClass(a,\"pswp__element--disabled\"))}};f(d.children);var g=b.getChildByClass(d,\"pswp__top-bar\");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,\"pswp__ui\"),l=a.listen,R(),l(\"beforeChange\",v.update),l(\"doubleTap\",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l(\"preventDragEvent\",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute(\"class\")&&a.type.indexOf(\"mouse\")>-1&&(d.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l(\"bindEvents\",function(){b.bind(d,\"pswpTap click\",A),b.bind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,\"mouseover\",v.onMouseOver)}),l(\"unbindEvents\",function(){y||F(),t&&clearInterval(t),b.unbind(document,\"mouseout\",L),b.unbind(document,\"mousemove\",K),b.unbind(d,\"pswpTap click\",A),b.unbind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),b.unbind(a.scrollWrap,\"mouseover\",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l(\"destroy\",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,\"pswp__caption--empty\")),i&&(i.children[0].onclick=null),b.removeClass(d,\"pswp__ui--over-close\"),b.addClass(d,\"pswp__ui--hidden\"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,\"pswp__ui--hidden\"),l(\"initialZoomIn\",function(){q.showAnimationDuration&&b.removeClass(d,\"pswp__ui--hidden\")}),l(\"initialZoomOut\",function(){b.addClass(d,\"pswp__ui--hidden\")}),l(\"parseVerticalMargin\",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,\"ui--idle\",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,\"caption--empty\",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?\"add\":\"remove\")+\"Class\"](a.template,\"pswp--fs\")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&\"mouse\"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,\"pswp__img\")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,\"pswp__img\")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,\"ui--over-close\",I(b))},v.hideControls=function(){b.addClass(d,\"pswp__ui--hidden\"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,\"pswp__ui--hidden\")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d=\"fullscreenchange\";return c.requestFullscreen?b={enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:d}:c.mozRequestFullScreen?b={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+d}:c.webkitRequestFullscreen?b={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+d}:c.msRequestFullscreen&&(b={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});","source":"assets/src/photoSwipe/photoswipe-ui-default.min.js","raw":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){\"use strict\";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u={{url}}\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text={{text}}&url={{url}}\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}\"},{id:\"download\",label:\"Download image\",url:\"{{raw_image_url}}\",download:!0}],getImageURLForShare:function(){return a.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute(\"class\")||\"\",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf(\"pswp__\"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?\"add\":\"remove\")+\"Class\"](a,\"pswp__\"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,\"ui--one-slide\",a),p=a)},E=function(){C(i,\"share-modal--hidden\",y)},F=function(){return y=!y,y?(b.removeClass(i,\"pswp__share-modal--fade-in\"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,\"pswp__share-modal--fade-in\")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout(\"shareLinkClick\",b,c),c.href?c.hasAttribute(\"download\")?!0:(window.open(c.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f=\"\",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace(\"{{url}}\",encodeURIComponent(d)).replace(\"{{image_url}}\",encodeURIComponent(c)).replace(\"{{raw_image_url}}\",c).replace(\"{{text}}\",encodeURIComponent(e)),f+='<a href=\"'+b+'\" target=\"_blank\" class=\"pswp__share--'+a.id+'\"'+(a.download?\"download\":\"\")+\">\"+a.label+\"</a>\",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,\"pswp__\"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&\"HTML\"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,\"pswp--supports-fs\")):b.removeClass(a.template,\"pswp--supports-fs\"))},N=function(){q.preloaderEl&&(O(!0),l(\"beforeChange\",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l(\"imageLoadComplete\",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,\"preloader--active\",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&\"auto\"===g.bottom)if(f||(f=b.createEl(\"pswp__caption pswp__caption--fake\"),f.appendChild(b.createEl(\"pswp__caption__center\")),d.insertBefore(f,e),b.addClass(d,\"pswp__ui--fit\")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom=\"auto\"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l(\"mouseUsed\",function(){b.bind(document,\"mousemove\",K),b.bind(document,\"mouseout\",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l(\"onVerticalDrag\",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l(\"onPinchClose\",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l(\"zoomGestureEnded\",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:\"caption\",option:\"captionEl\",onInit:function(a){e=a}},{name:\"share-modal\",option:\"shareEl\",onInit:function(a){i=a},onTap:function(){F()}},{name:\"button--share\",option:\"shareEl\",onInit:function(a){h=a},onTap:function(){F()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:a.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(a){g=a}},{name:\"button--close\",option:\"closeEl\",onTap:a.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:a.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:a.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf(\"pswp__\"+e.name)>-1&&(q[e.option]?(b.removeClass(a,\"pswp__element--disabled\"),e.onInit&&e.onInit(a)):b.addClass(a,\"pswp__element--disabled\"))}};f(d.children);var g=b.getChildByClass(d,\"pswp__top-bar\");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,\"pswp__ui\"),l=a.listen,R(),l(\"beforeChange\",v.update),l(\"doubleTap\",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l(\"preventDragEvent\",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute(\"class\")&&a.type.indexOf(\"mouse\")>-1&&(d.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l(\"bindEvents\",function(){b.bind(d,\"pswpTap click\",A),b.bind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,\"mouseover\",v.onMouseOver)}),l(\"unbindEvents\",function(){y||F(),t&&clearInterval(t),b.unbind(document,\"mouseout\",L),b.unbind(document,\"mousemove\",K),b.unbind(d,\"pswpTap click\",A),b.unbind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),b.unbind(a.scrollWrap,\"mouseover\",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l(\"destroy\",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,\"pswp__caption--empty\")),i&&(i.children[0].onclick=null),b.removeClass(d,\"pswp__ui--over-close\"),b.addClass(d,\"pswp__ui--hidden\"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,\"pswp__ui--hidden\"),l(\"initialZoomIn\",function(){q.showAnimationDuration&&b.removeClass(d,\"pswp__ui--hidden\")}),l(\"initialZoomOut\",function(){b.addClass(d,\"pswp__ui--hidden\")}),l(\"parseVerticalMargin\",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,\"ui--idle\",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,\"caption--empty\",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?\"add\":\"remove\")+\"Class\"](a.template,\"pswp--fs\")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&\"mouse\"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,\"pswp__img\")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,\"pswp__img\")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,\"ui--over-close\",I(b))},v.hideControls=function(){b.addClass(d,\"pswp__ui--hidden\"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,\"pswp__ui--hidden\")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d=\"fullscreenchange\";return c.requestFullscreen?b={enterK:\"requestFullscreen\",exitK:\"exitFullscreen\",elementK:\"fullscreenElement\",eventK:d}:c.mozRequestFullScreen?b={enterK:\"mozRequestFullScreen\",exitK:\"mozCancelFullScreen\",elementK:\"mozFullScreenElement\",eventK:\"moz\"+d}:c.webkitRequestFullscreen?b={enterK:\"webkitRequestFullscreen\",exitK:\"webkitExitFullscreen\",elementK:\"webkitFullscreenElement\",eventK:\"webkit\"+d}:c.msRequestFullscreen&&(b={enterK:\"msRequestFullscreen\",exitK:\"msExitFullscreen\",elementK:\"msFullscreenElement\",eventK:\"MSFullscreenChange\"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,\"webkitRequestFullscreen\"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});","date":"2017-07-31T09:38:38.602Z","updated":"2017-07-31T03:26:45.612Z","path":"assets/src/photoSwipe/photoswipe-ui-default.min.js","layout":"false","title":"","comments":1,"_id":"cj63dx7wc000nzwv3cuvll7xu","content":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){\"use strict\";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u=\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text=&url=\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url=&media=&description=\"},{id:\"download\",label:\"Download image\",url:\"\",download:!0}],getImageURLForShare:function(){return a.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute(\"class\")||\"\",g=0;g<s.length;g++)c=s[g],c.ontap&&f.indexof(\"pswp__\"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?\"add\":\"remove\")+\"Class\"](a,\"pswp__\"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,\"ui--one-slide\",a),p=a)},E=function(){C(i,\"share-modal--hidden\",y)},F=function(){return y=!y,y?(b.removeClass(i,\"pswp__share-modal--fade-in\"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,\"pswp__share-modal--fade-in\")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout(\"shareLinkClick\",b,c),c.href?c.hasAttribute(\"download\")?!0:(window.open(c.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f=\"\",g=0;g<q.sharebuttons.length;g++)a=q.sharebuttons[g],c=q.getimageurlforshare(a),d=q.getpageurlforshare(a),e=q.gettextforshare(a),b=a.url.replace(\"\",encodeuricomponent(d)).replace(\"\",encodeuricomponent(c)).replace(\"\",c).replace(\"\",encodeuricomponent(e)),f+='<a href=\"'+b+'\" target=\"_blank\" class=\"pswp__share--'+a.id+'\" '+(a.download?\"download\":\"\")+\"=\"\">\"+a.label+\"\",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeelclasses.length;c++)if(b.hasclass(a,\"pswp__\"+q.closeelclasses[c]))return!0},j=0,k=function(){cleartimeout(u),j=0,k&&v.setidle(!1)},l=function(a){a=a?a:window.event;var b=\"a.relatedTarget||a.toElement;b&&\"HTML\"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,\"pswp--supports-fs\")):b.removeClass(a.template,\"pswp--supports-fs\"))},N=function(){q.preloaderEl&&(O(!0),l(\"beforeChange\",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l(\"imageLoadComplete\",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,\"preloader--active\",!a),n=a)},P=function(a){var\" c=\"a.vGap;if(B()){var\" g=\"q.barsSize;if(q.captionEl&&\"auto\"===g.bottom)if(f||(f=b.createEl(\"pswp__caption\" pswp__caption--fake\"),f.appendchild(b.createel(\"pswp__caption__center\")),d.insertbefore(f,e),b.addclass(d,\"pswp__ui--fit\")),q.addcaptionhtmlfn(a,f,!0)){var=\"\" h=\"f.clientHeight;c.bottom=parseInt(h,10)||44}else\" c.bottom=\"g.top;else\" ==\"=g.bottom?0:g.bottom;c.top=g.top}else\" c.top=\"c.bottom=0},Q=function(){q.timeToIdle&&l(\"mouseUsed\",function(){b.bind(document,\"mousemove\",K),b.bind(document,\"mouseout\",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l(\"onVerticalDrag\",function(a){x&&.95\">a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l(\"onPinchClose\",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l(\"zoomGestureEnded\",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:\"caption\",option:\"captionEl\",onInit:function(a){e=a}},{name:\"share-modal\",option:\"shareEl\",onInit:function(a){i=a},onTap:function(){F()}},{name:\"button--share\",option:\"shareEl\",onInit:function(a){h=a},onTap:function(){F()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:a.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(a){g=a}},{name:\"button--close\",option:\"closeEl\",onTap:a.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:a.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:a.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<s.length;h++)e=s[h],c.indexof(\"pswp__\"+e.name)>-1&&(q[e.option]?(b.removeClass(a,\"pswp__element--disabled\"),e.onInit&&e.onInit(a)):b.addClass(a,\"pswp__element--disabled\"))}};f(d.children);var g=b.getChildByClass(d,\"pswp__top-bar\");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,\"pswp__ui\"),l=a.listen,R(),l(\"beforeChange\",v.update),l(\"doubleTap\",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l(\"preventDragEvent\",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute(\"class\")&&a.type.indexOf(\"mouse\")>-1&&(d.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l(\"bindEvents\",function(){b.bind(d,\"pswpTap click\",A),b.bind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,\"mouseover\",v.onMouseOver)}),l(\"unbindEvents\",function(){y||F(),t&&clearInterval(t),b.unbind(document,\"mouseout\",L),b.unbind(document,\"mousemove\",K),b.unbind(d,\"pswpTap click\",A),b.unbind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),b.unbind(a.scrollWrap,\"mouseover\",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l(\"destroy\",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,\"pswp__caption--empty\")),i&&(i.children[0].onclick=null),b.removeClass(d,\"pswp__ui--over-close\"),b.addClass(d,\"pswp__ui--hidden\"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,\"pswp__ui--hidden\"),l(\"initialZoomIn\",function(){q.showAnimationDuration&&b.removeClass(d,\"pswp__ui--hidden\")}),l(\"initialZoomOut\",function(){b.addClass(d,\"pswp__ui--hidden\")}),l(\"parseVerticalMargin\",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,\"ui--idle\",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,\"caption--empty\",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?\"add\":\"remove\")+\"Class\"](a.template,\"pswp--fs\")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&\"mouse\"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,\"pswp__img\")&&(1===a.getZoomLevel()&&a.getZoomLevel()</s.length;h++)e=s[h],c.indexof(\"pswp__\"+e.name)></q.closeelclasses.length;c++)if(b.hasclass(a,\"pswp__\"+q.closeelclasses[c]))return!0},j=0,k=function(){cleartimeout(u),j=0,k&&v.setidle(!1)},l=function(a){a=a?a:window.event;var></q.sharebuttons.length;g++)a=q.sharebuttons[g],c=q.getimageurlforshare(a),d=q.getpageurlforshare(a),e=q.gettextforshare(a),b=a.url.replace(\"\",encodeuricomponent(d)).replace(\"\",encodeuricomponent(c)).replace(\"\",c).replace(\"\",encodeuricomponent(e)),f+='<a></s.length;g++)c=s[g],c.ontap&&f.indexof(\"pswp__\"+c.name)>","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){\"use strict\";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u=\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text=&url=\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url=&media=&description=\"},{id:\"download\",label:\"Download image\",url:\"\",download:!0}],getImageURLForShare:function(){return a.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute(\"class\")||\"\",g=0;g<s.length;g++)c=s[g],c.ontap&&f.indexof(\"pswp__\"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?\"add\":\"remove\")+\"Class\"](a,\"pswp__\"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,\"ui--one-slide\",a),p=a)},E=function(){C(i,\"share-modal--hidden\",y)},F=function(){return y=!y,y?(b.removeClass(i,\"pswp__share-modal--fade-in\"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,\"pswp__share-modal--fade-in\")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout(\"shareLinkClick\",b,c),c.href?c.hasAttribute(\"download\")?!0:(window.open(c.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f=\"\",g=0;g<q.sharebuttons.length;g++)a=q.sharebuttons[g],c=q.getimageurlforshare(a),d=q.getpageurlforshare(a),e=q.gettextforshare(a),b=a.url.replace(\"\",encodeuricomponent(d)).replace(\"\",encodeuricomponent(c)).replace(\"\",c).replace(\"\",encodeuricomponent(e)),f+='<a href=\"'+b+'\" target=\"_blank\" class=\"pswp__share--'+a.id+'\" '+(a.download?\"download\":\"\")+\"=\"\">\"+a.label+\"\",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeelclasses.length;c++)if(b.hasclass(a,\"pswp__\"+q.closeelclasses[c]))return!0},j=0,k=function(){cleartimeout(u),j=0,k&&v.setidle(!1)},l=function(a){a=a?a:window.event;var b=\"a.relatedTarget||a.toElement;b&&\"HTML\"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,\"pswp--supports-fs\")):b.removeClass(a.template,\"pswp--supports-fs\"))},N=function(){q.preloaderEl&&(O(!0),l(\"beforeChange\",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l(\"imageLoadComplete\",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,\"preloader--active\",!a),n=a)},P=function(a){var\" c=\"a.vGap;if(B()){var\" g=\"q.barsSize;if(q.captionEl&&\"auto\"===g.bottom)if(f||(f=b.createEl(\"pswp__caption\" pswp__caption--fake\"),f.appendchild(b.createel(\"pswp__caption__center\")),d.insertbefore(f,e),b.addclass(d,\"pswp__ui--fit\")),q.addcaptionhtmlfn(a,f,!0)){var=\"\" h=\"f.clientHeight;c.bottom=parseInt(h,10)||44}else\" c.bottom=\"g.top;else\" ==\"=g.bottom?0:g.bottom;c.top=g.top}else\" c.top=\"c.bottom=0},Q=function(){q.timeToIdle&&l(\"mouseUsed\",function(){b.bind(document,\"mousemove\",K),b.bind(document,\"mouseout\",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l(\"onVerticalDrag\",function(a){x&&.95\">a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l(\"onPinchClose\",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l(\"zoomGestureEnded\",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:\"caption\",option:\"captionEl\",onInit:function(a){e=a}},{name:\"share-modal\",option:\"shareEl\",onInit:function(a){i=a},onTap:function(){F()}},{name:\"button--share\",option:\"shareEl\",onInit:function(a){h=a},onTap:function(){F()}},{name:\"button--zoom\",option:\"zoomEl\",onTap:a.toggleDesktopZoom},{name:\"counter\",option:\"counterEl\",onInit:function(a){g=a}},{name:\"button--close\",option:\"closeEl\",onTap:a.close},{name:\"button--arrow--left\",option:\"arrowEl\",onTap:a.prev},{name:\"button--arrow--right\",option:\"arrowEl\",onTap:a.next},{name:\"button--fs\",option:\"fullscreenEl\",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:\"preloader\",option:\"preloaderEl\",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<s.length;h++)e=s[h],c.indexof(\"pswp__\"+e.name)>-1&&(q[e.option]?(b.removeClass(a,\"pswp__element--disabled\"),e.onInit&&e.onInit(a)):b.addClass(a,\"pswp__element--disabled\"))}};f(d.children);var g=b.getChildByClass(d,\"pswp__top-bar\");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,\"pswp__ui\"),l=a.listen,R(),l(\"beforeChange\",v.update),l(\"doubleTap\",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l(\"preventDragEvent\",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute(\"class\")&&a.type.indexOf(\"mouse\")>-1&&(d.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l(\"bindEvents\",function(){b.bind(d,\"pswpTap click\",A),b.bind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,\"mouseover\",v.onMouseOver)}),l(\"unbindEvents\",function(){y||F(),t&&clearInterval(t),b.unbind(document,\"mouseout\",L),b.unbind(document,\"mousemove\",K),b.unbind(d,\"pswpTap click\",A),b.unbind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),b.unbind(a.scrollWrap,\"mouseover\",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l(\"destroy\",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,\"pswp__caption--empty\")),i&&(i.children[0].onclick=null),b.removeClass(d,\"pswp__ui--over-close\"),b.addClass(d,\"pswp__ui--hidden\"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,\"pswp__ui--hidden\"),l(\"initialZoomIn\",function(){q.showAnimationDuration&&b.removeClass(d,\"pswp__ui--hidden\")}),l(\"initialZoomOut\",function(){b.addClass(d,\"pswp__ui--hidden\")}),l(\"parseVerticalMargin\",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,\"ui--idle\",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,\"caption--empty\",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?\"add\":\"remove\")+\"Class\"](a.template,\"pswp--fs\")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&\"mouse\"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,\"pswp__img\")&&(1===a.getZoomLevel()&&a.getZoomLevel()</s.length;h++)e=s[h],c.indexof(\"pswp__\"+e.name)></q.closeelclasses.length;c++)if(b.hasclass(a,\"pswp__\"+q.closeelclasses[c]))return!0},j=0,k=function(){cleartimeout(u),j=0,k&&v.setidle(!1)},l=function(a){a=a?a:window.event;var></q.sharebuttons.length;g++)a=q.sharebuttons[g],c=q.getimageurlforshare(a),d=q.getpageurlforshare(a),e=q.gettextforshare(a),b=a.url.replace(\"\",encodeuricomponent(d)).replace(\"\",encodeuricomponent(c)).replace(\"\",c).replace(\"\",encodeuricomponent(e)),f+='<a></s.length;g++)c=s[g],c.ontap&&f.indexof(\"pswp__\"+c.name)>"},{"_content":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t} else {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t} else {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});","source":"assets/src/photoSwipe/photoswipe.js","raw":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t} else {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t} else {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});","date":"2017-07-31T09:38:38.467Z","updated":"2017-07-31T03:26:45.614Z","path":"assets/src/photoSwipe/photoswipe.js","layout":"false","title":"","comments":1,"_id":"cj63dx7wc000ozwv3gee69v32","content":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0=\"\" ||=\"\" mainscrolldiff=\"\" <=\"\" 0)=\"\" &&=\"\" _getnumitems()=\"\"> 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0=\"\" ||=\"\" mainscrolldiff=\"\"> 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.curritem.initialzoomlevel)=\"\" {=\"\" fade=\"\" out=\"\" background=\"\" if=\"\" zooming=\"\" var=\"\" minusdiff=\"minZoomLevel\" -=\"\" zoomlevel;=\"\" percent=\"1\" (minzoomlevel=\"\" 1.2);=\"\" _applybgopacity(percent);=\"\" _shout('onpinchclose',=\"\" percent);=\"\" _opacitychanged=\"true;\" }=\"\" else=\"\" zoomfriction=\"(minZoomLevel\" zoomlevel)=\"\" minzoomlevel;=\"\" if(zoomfriction=\"\"> 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t} else {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05=\"\" &&=\"\" math.abs(animdata.lastflickspeed.y)=\"\" <=\"0.05\" )=\"\" {=\"\" animdata.speeddecelerationratioabs.x=\"animData.speedDecelerationRatioAbs.y\" ==\"\" 0;=\"\" run=\"\" pan=\"\" drag=\"\" release=\"\" animation.=\"\" e.g.=\"\" if=\"\" you=\"\" image=\"\" and=\"\" finger=\"\" without=\"\" momentum.=\"\" animdata.calculateoverboundsanimoffset('x');=\"\" animdata.calculateoverboundsanimoffset('y');=\"\" return=\"\" true;=\"\" }=\"\" animation=\"\" loop that=\"\" controls the=\"\" acceleration=\"\" after=\"\" gesture=\"\" ends=\"\" _registerstartanimation('zoompan');=\"\" animdata.lastnow=\"_getCurrentTime();\" animdata.pananimloop();=\"\" },=\"\" _finishswipemainscrollgesture=\"function(gestureType,\" _releaseanimdata)=\"\" var=\"\" itemchanged;=\"\" if(!_mainscrollanimating)=\"\" _currzoomeditemindex=\"_currentItemIndex;\" itemsdiff;=\"\" if(gesturetype=\"==\" 'swipe')=\"\" totalshiftdist=\"_currPoint.x\" -=\"\" _startpoint.x,=\"\" isfastlastflick=\"_releaseAnimData.lastFlickDist.x\" 10;=\"\" container=\"\" is=\"\" shifted=\"\" for=\"\" more=\"\" than=\"\" min_swipe_distance,=\"\" last=\"\" flick=\"\" was=\"\" in=\"\" right=\"\" direction=\"\" if(totalshiftdist=\"\"> MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t} else {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isnext=\"\" ?=\"\" preloadafter=\"\" :=\"\" preloadbefore);=\"\" i++)=\"\" {=\"\" self.lazyloaditem(_currentitemindex+i);=\"\" }=\"\" for(i=\"1;\" i=\"\" <=\"(isNext\" preloadbefore=\"\" preloadafter);=\"\" self.lazyloaditem(_currentitemindex-i);=\"\" });=\"\" _listen('initiallayout',=\"\" function()=\"\" self.curritem.initiallayout=\"_options.getThumbBoundsFn\" &&=\"\" _options.getthumbboundsfn(_currentitemindex);=\"\" _listen('mainscrollanimcomplete',=\"\" _appendimagespool);=\"\" _listen('initialzoominend',=\"\" _listen('destroy',=\"\" var=\"\" item;=\"\" for(var=\"\" _items.length;=\"\" item=\"_items[i];\" remove=\"\" reference=\"\" to=\"\" dom=\"\" elements,=\"\" for=\"\" gc=\"\" if(item.container)=\"\" item.container=\"null;\" if(item.placeholder)=\"\" item.placeholder=\"null;\" if(item.img)=\"\" item.img=\"null;\" if(item.preloader)=\"\" item.preloader=\"null;\" if(item.loaderror)=\"\" item.loaded=\"item.loadError\" ==\"\" false;=\"\" _imagestoappendpool=\"null;\" },=\"\" getitemat:=\"\" function(index)=\"\" if=\"\" (index=\"\">= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8) return;=\"\" }=\"\" if(_likelytouchdevice)=\"\" {=\"\" if=\"\" detected=\"\" hardware=\"\" touch=\"\" support,=\"\" we=\"\" wait=\"\" until=\"\" mouse=\"\" is=\"\" used,=\"\" and=\"\" only=\"\" then=\"\" apply=\"\" desktop-zoom=\"\" features=\"\" _listen('mouseused',=\"\" function()=\"\" self.setupdesktopzoom();=\"\" });=\"\" else=\"\" self.setupdesktopzoom(true);=\"\" },=\"\" setupdesktopzoom:=\"\" function(oninit)=\"\" _wheeldelta=\"{};\" var=\"\" events=\"wheel mousewheel DOMMouseScroll\" ;=\"\" _listen('bindevents',=\"\" framework.bind(template,=\"\" events,=\"\" self.handlemousewheel);=\"\" _listen('unbindevents',=\"\" if(_wheeldelta)=\"\" framework.unbind(template,=\"\" self.mousezoomedin=\"false;\" hasdraggingclass,=\"\" updatezoomable=\"function()\" if(self.mousezoomedin)=\"\" framework.removeclass(template,=\"\" 'pswp--zoomed-in');=\"\" if(_currzoomlevel=\"\" <=\"\" 1)=\"\" framework.addclass(template,=\"\" 'pswp--zoom-allowed');=\"\" removedraggingclass();=\"\" removedraggingclass=\"function()\" if(hasdraggingclass)=\"\" 'pswp--dragging');=\"\" hasdraggingclass=\"false;\" };=\"\" _listen('resize'=\"\" ,=\"\" updatezoomable);=\"\" _listen('afterchange'=\"\" _listen('pointerdown',=\"\" _listen('pointerup',=\"\" removedraggingclass);=\"\" if(!oninit)=\"\" updatezoomable();=\"\" handlemousewheel:=\"\" function(e)=\"\" if(=\"\" _options.modal=\"\" )=\"\" (!_options.closeonscroll=\"\" ||=\"\" _numanimations=\"\" _isdragging)=\"\" e.preventdefault();=\"\" if(_transformkey=\"\" &&=\"\" math.abs(e.deltay)=\"\"> 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currpanbounds.min.x=\"\" &&=\"\" newpanx=\"\">= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currpanbounds.min.y=\"\" &&=\"\" newpany=\"\">= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});</=></=></=8)></=></=></=></=></=>","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe - v4.1.1 - 2015-12-24\n* http://photoswipe.com\n* Copyright (c) 2015 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0=\"\" ||=\"\" mainscrolldiff=\"\" <=\"\" 0)=\"\" &&=\"\" _getnumitems()=\"\"> 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0=\"\" ||=\"\" mainscrolldiff=\"\"> 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.curritem.initialzoomlevel)=\"\" {=\"\" fade=\"\" out=\"\" background=\"\" if=\"\" zooming=\"\" var=\"\" minusdiff=\"minZoomLevel\" -=\"\" zoomlevel;=\"\" percent=\"1\" (minzoomlevel=\"\" 1.2);=\"\" _applybgopacity(percent);=\"\" _shout('onpinchclose',=\"\" percent);=\"\" _opacitychanged=\"true;\" }=\"\" else=\"\" zoomfriction=\"(minZoomLevel\" zoomlevel)=\"\" minzoomlevel;=\"\" if(zoomfriction=\"\"> 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t} else {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05=\"\" &&=\"\" math.abs(animdata.lastflickspeed.y)=\"\" <=\"0.05\" )=\"\" {=\"\" animdata.speeddecelerationratioabs.x=\"animData.speedDecelerationRatioAbs.y\" ==\"\" 0;=\"\" run=\"\" pan=\"\" drag=\"\" release=\"\" animation.=\"\" e.g.=\"\" if=\"\" you=\"\" image=\"\" and=\"\" finger=\"\" without=\"\" momentum.=\"\" animdata.calculateoverboundsanimoffset('x');=\"\" animdata.calculateoverboundsanimoffset('y');=\"\" return=\"\" true;=\"\" }=\"\" animation=\"\" loop that=\"\" controls the=\"\" acceleration=\"\" after=\"\" gesture=\"\" ends=\"\" _registerstartanimation('zoompan');=\"\" animdata.lastnow=\"_getCurrentTime();\" animdata.pananimloop();=\"\" },=\"\" _finishswipemainscrollgesture=\"function(gestureType,\" _releaseanimdata)=\"\" var=\"\" itemchanged;=\"\" if(!_mainscrollanimating)=\"\" _currzoomeditemindex=\"_currentItemIndex;\" itemsdiff;=\"\" if(gesturetype=\"==\" 'swipe')=\"\" totalshiftdist=\"_currPoint.x\" -=\"\" _startpoint.x,=\"\" isfastlastflick=\"_releaseAnimData.lastFlickDist.x\" 10;=\"\" container=\"\" is=\"\" shifted=\"\" for=\"\" more=\"\" than=\"\" min_swipe_distance,=\"\" last=\"\" flick=\"\" was=\"\" in=\"\" right=\"\" direction=\"\" if(totalshiftdist=\"\"> MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.pointerEnabled) {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t} else {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isnext=\"\" ?=\"\" preloadafter=\"\" :=\"\" preloadbefore);=\"\" i++)=\"\" {=\"\" self.lazyloaditem(_currentitemindex+i);=\"\" }=\"\" for(i=\"1;\" i=\"\" <=\"(isNext\" preloadbefore=\"\" preloadafter);=\"\" self.lazyloaditem(_currentitemindex-i);=\"\" });=\"\" _listen('initiallayout',=\"\" function()=\"\" self.curritem.initiallayout=\"_options.getThumbBoundsFn\" &&=\"\" _options.getthumbboundsfn(_currentitemindex);=\"\" _listen('mainscrollanimcomplete',=\"\" _appendimagespool);=\"\" _listen('initialzoominend',=\"\" _listen('destroy',=\"\" var=\"\" item;=\"\" for(var=\"\" _items.length;=\"\" item=\"_items[i];\" remove=\"\" reference=\"\" to=\"\" dom=\"\" elements,=\"\" for=\"\" gc=\"\" if(item.container)=\"\" item.container=\"null;\" if(item.placeholder)=\"\" item.placeholder=\"null;\" if(item.img)=\"\" item.img=\"null;\" if(item.preloader)=\"\" item.preloader=\"null;\" if(item.loaderror)=\"\" item.loaded=\"item.loadError\" ==\"\" false;=\"\" _imagestoappendpool=\"null;\" },=\"\" getitemat:=\"\" function(index)=\"\" if=\"\" (index=\"\">= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8) return;=\"\" }=\"\" if(_likelytouchdevice)=\"\" {=\"\" if=\"\" detected=\"\" hardware=\"\" touch=\"\" support,=\"\" we=\"\" wait=\"\" until=\"\" mouse=\"\" is=\"\" used,=\"\" and=\"\" only=\"\" then=\"\" apply=\"\" desktop-zoom=\"\" features=\"\" _listen('mouseused',=\"\" function()=\"\" self.setupdesktopzoom();=\"\" });=\"\" else=\"\" self.setupdesktopzoom(true);=\"\" },=\"\" setupdesktopzoom:=\"\" function(oninit)=\"\" _wheeldelta=\"{};\" var=\"\" events=\"wheel mousewheel DOMMouseScroll\" ;=\"\" _listen('bindevents',=\"\" framework.bind(template,=\"\" events,=\"\" self.handlemousewheel);=\"\" _listen('unbindevents',=\"\" if(_wheeldelta)=\"\" framework.unbind(template,=\"\" self.mousezoomedin=\"false;\" hasdraggingclass,=\"\" updatezoomable=\"function()\" if(self.mousezoomedin)=\"\" framework.removeclass(template,=\"\" 'pswp--zoomed-in');=\"\" if(_currzoomlevel=\"\" <=\"\" 1)=\"\" framework.addclass(template,=\"\" 'pswp--zoom-allowed');=\"\" removedraggingclass();=\"\" removedraggingclass=\"function()\" if(hasdraggingclass)=\"\" 'pswp--dragging');=\"\" hasdraggingclass=\"false;\" };=\"\" _listen('resize'=\"\" ,=\"\" updatezoomable);=\"\" _listen('afterchange'=\"\" _listen('pointerdown',=\"\" _listen('pointerup',=\"\" removedraggingclass);=\"\" if(!oninit)=\"\" updatezoomable();=\"\" handlemousewheel:=\"\" function(e)=\"\" if(=\"\" _options.modal=\"\" )=\"\" (!_options.closeonscroll=\"\" ||=\"\" _numanimations=\"\" _isdragging)=\"\" e.preventdefault();=\"\" if(_transformkey=\"\" &&=\"\" math.abs(e.deltay)=\"\"> 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currpanbounds.min.x=\"\" &&=\"\" newpanx=\"\">= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currpanbounds.min.y=\"\" &&=\"\" newpany=\"\">= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});</=></=></=8)></=></=></=></=></=>"},{"_content":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus,\n  .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  word-break: break-all;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n","source":"assets/src/photoSwipe/default-skin/default-skin.css","raw":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus,\n  .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  word-break: break-all;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n","date":"2017-07-31T09:38:38.200Z","updated":"2017-07-31T03:26:45.609Z","path":"assets/src/photoSwipe/default-skin/default-skin.css","layout":"false","title":"","comments":1,"_id":"cj63dx7wr000pzwv3nb1covay","content":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus,\n  .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  word-break: break-all;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n</button>","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus,\n  .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  word-break: break-all;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n</button>"}],"Post":[{"layout":"post","title":"hexo+GitHub Pages搭建个人博客","date":"2017-07-27T06:50:52.000Z","toc":true,"_content":"\n## 一、前提\n`在Windows10 X64环境安装操作`\n[Hexo 中文文档](https://hexo.io/zh-cn/docs/commands.html)\n[Hexo Themes列表](https://hexo.io/themes/)\n\n\n\n### 1、安装node.js和git\n- [node.js](https://nodejs.org/en/)\n- [git](https://git-scm.com/downloads)\n\n### 2、node.js是否成功安装\n```\nE:\\www\\blog>node -v\nv8.1.4\n```\n<!--more-->\n### 3、git是否成功安装\n```\n    E:\\www\\blog>git --version\n    git version 2.13.0.windows.1\n```\n如果两者都显示相应的版本号，接下来我们安装hexo\n\n## 二、安装hexo\n\n### 1、全局安装\n```\n    E:\\www\\blog>npm install -g hexo  #-g 表示全局安装\n```\n### 2、hexo是否安装成功\n```\nE:\\www\\blog>hexo -v\nhexo: 3.3.8\nhexo-cli: 1.0.3\nos: Windows_NT 10.0.14393 win32 x64\nhttp_parser: 2.7.0\nnode: 8.1.4\nv8: 5.8.283.41\nuv: 1.12.0\nzlib: 1.2.11\nares: 1.10.1-DEV\nmodules: 57\nopenssl: 1.0.2l\nicu: 59.1\nunicode: 9.0\ncldr: 31.0.1\ntz: 2017b\n```\n如果看到上述版本信息列出则说明hexo安装成功\n\n### 3、初始化hexo\n```\n    E:\\www\\blog>hexo init\n```\n初始化成功后可以到blog文件夹看到如下目录\n{% codeblock %}\n.\n├── _config.yml   //这里是网站的配置信息\n├── package.json  //HEXO项目依赖\n├── scaffolds     //模板文件夹\n|   ├──post.md    //文章模板\n|   ├──draft.md   //\n|   └──page.md\n├── source       //资源文件夹，\n|   ├── _drafts\n|   └── _posts\n└── themes       // 主题文件夹。Hexo会根据主题来生成静态页面\n{% endcodeblock %}\n\n### 4、本地运行\n```\n    E:\\www\\blog>hexo server #开启服务  等价于hexo s\n```\n然后在浏览器输入localhost:4000,会看到如下效果\n![index](/assets/article_img/2017/07/hexo_index.png)\n如果无法访问，可能是端口号占用，更改服务端口号：`hexo s -p 5000`\n\n### 5、常用到的命令\n{% blockquote %}\nhexo init  #执行站点的初始化\nhexo g == hexo generate #生成静态页面。在生成时可以加上-d或--deploy参数在生成后立即部署。生成的静态文件在public文件夹下，没有则会自动建立。\nhexo d == hexo deploy #将 .deploy 目录部署到 gitHub,也就是将public目录下生成的静态文件上传到某个特定的位置，部署时可以加上-g或--generate参数，在部署前先生成一遍静态文件。\nhexo s == hexo server #开启预览访问端口（默认：4000，'ctr+c'关闭server）,在本地 http://localhost:4000 启动一个hexo服务器，可以用来预览hexo站点的效果。\nhexo n == hexo new  #新建一个markdown文件。\nhexo new [layout] <title># [layout]是该文件的类型，取值有post、draft和page三种，分别对应新建文章、草稿、页面。在运行该命令时，会调用scaffolds下的对应模板。\nhexo clean #清理Hexo缓存。该操作会强制Hexo清空已生成的全部静态文件以及Hexo自身的数据库，有时候相当有效（更换主题后建议运行）。\nhexo publish <title>#发布某篇草稿（即将该markdown文件转移到_post文件夹下）\n#命令可以复合使用：\nhexo clean && hexo g -d\n{% endblockquote %}\n\n## 三、Github创建仓库\n### 1、注册一个[Github](https://github.com/)账号\n开始创建仓库\n![new_repo](/assets/article_img/2017/07/new_repo.png)\n点击New repository\n![create_new_repo](/assets/article_img/2017/07/create_new_repo.png)\n创建成功后，我们得到远程仓库的地址\n![repo_url](/assets/article_img/2017/07/repo_url.png)\n\n### 2、下载yilia主题的模板\n一个简洁优雅的hexo主题,作者 [litten](https://github.com/litten)\n```\nE:\\www\\blog>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia\n```\n我们发现blog博客的themes文件夹多一个yilia文件，说明我们下载成功\n\n### 3、配置根目录下_config.yml\n```\ntitle: William的博客 #网站标题\nsubtitle: 伟大的人不是生下来就伟大的，而是在成长过程中显示其伟大的。 #子标题\ndescription: Laravel、Linux、Mysql、PHP、Redis、技术爱好者，喜欢追求新鲜的事物，想通过微博来记录学习技术的点滴过程，同时也可以分享自己的故事\nauthor: William #作者\n\n#修改模板landscape改为yilia\ntheme: yilia\n\n#远程仓库地址配置\ndeploy:\n  type: git\n  repo: https://github.com/william-wqq/william-wqq.github.io.git\n  branch: master\n\n#添加代码\njsonContent:\n    meta: false\n    pages: false\n    posts:\n      title: true\n      date: true\n      path: true\n      text: false\n      raw: false\n      content: false\n      slug: false\n      updated: false\n      comments: false\n      link: false\n      permalink: false\n      excerpt: false\n      categories: false\n      tags: true\n\n```\n\n### 4、配置yilia目录下_config.yml\n在blog/sources 创建assets/img目录,放入网站图标favicon.ico和你的头像william.png\n```\n#图标地址\nfavicon: /assets/img/favicon.ico\n\n#头像地址\navatar: /assets/img/william.png\n```\n\n\n### 5、生成静态文件\n```\nE:\\www\\blog>hexo generate #等价于 hexo g\n```\n生成public文件，里面包含生成静态文件\n\n### 6、部署hexo到Github\n```\nE:\\www\\blog>hexo deploy #等价于 hexo d\n```\n如果部署失败\n```\nE:\\www\\blog>hexo deploy\nERROR Deployer not found: git\n```\n输入命令：\n```\nE:\\www\\blog>npm install hexo-deployer-git --save\n```\n解决后重新部署 `INFO  Deploy done: git`,部署成功\n\n### 7、本地运行\n开启服务\n```\nE:\\www\\blog>hexo server #等价于 hexo s\n```\n在浏览器分别出入 http://localhost:4000 和http://william-wqq.github.io 都能看到如下界面\n![index](/assets/article_img/2017/07/deploy_success_index.png)\n一个简单的博客就搭建成功了，它应该还包括`站点访问量统计`、`评论`、`相册`、`视频`等基本的功能，我们有时间在去讨论这些。\n\n\n\n## 四、高级进阶配置\n### 1、安装评论插件\n`多说`在2017-6-1评论系统服务关闭，无法使用\n`网易云跟帖`在2017-8-1关闭服务，也没法使用\n`畅言`需要备案，麻烦。因为我只买了万网的域名，没有购买服务器所以说没法备案\n`disqus`是国外比较受欢迎的评论插件，我们需要翻墙才能使用，so你懂的\n`友言`是一个简单的，用起来很方便，但对于我这种强迫症来说，还是一般般\n于是我们选择了`来必力`\n\n(1)申请账号，[来必力](https://livere.com)在代码管理看到我们需要安装的代码\n![libili](/assets/article_img/2017/07/laibili_code.png)\n\n(2)配置yilia目录下的_config.yml添加\n```\nlaibili: MTAyMC8xxxxxxxxxx\n```\n\n(3)创建文件laibili.ejs\n在`yilia\\layout\\_partial\\post`目录下创建`laibili.ejs`加入代码\n```javascript\n<!-- 来必力City版安装代码 -->\n<div id=\"lv-container\" data-id=\"city\" data-uid=\"<%=theme.laibili%>\">\n\t<script type=\"text/javascript\">\n   (function(d, s) {\n       var j, e = d.getElementsByTagName(s)[0];\n\n       if (typeof LivereTower === 'function') { return; }\n\n       j = d.createElement(s);\n       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';\n       j.async = true;\n\n       e.parentNode.insertBefore(j, e);\n   })(document, 'script');\n\t</script>\n<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>\n</div>\n<!-- City版安装代码已完成 -->\n```\n\n(4)修改文件article.ejs\n- 修改`yilia\\layout\\_partial`目录下的`article.ejs`文件\n- 在`<% if (!index && post.comments){ %>`节点添加代码\n```\n<!--来必力-->\n    <% if (theme.laibili){ %>\n    <%- partial('post/laibili', {\n        key: post.slug,\n        title: post.title,\n        url: config.url+url_for(post.path)\n      }) %>\n    <% } %>\n```\n`hexo generate -d` 在浏览器输入 http://william-wqq.github.io 查看结果\n![libili](/assets/article_img/2017/07/laibili_plug.png)\n\n### 2、网站访问量显示\n(1)效果\n![访问量](/assets/article_img/2017/07/visit_num.png)\n\n(2)实现\n- 使用了`不蒜子`第三方的统计插件，网址：http://ibruce.info/2015/04/04/busuanzi/\n- 在themes\\yilia\\layout\\_partial下的footer.ejs中`<div class=\"footer-right\">`上面加入如下代码即可\n```\n<script async src=\"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\">\n</script>\n<span id=\"busuanzi_container_site_pv\">\n  本站总访问量<span id=\"busuanzi_value_site_pv\"></span>次\n</span>\n<span id=\"busuanzi_container_site_uv\">\n总访客数<span id=\"busuanzi_value_site_uv\"></span>人次\n</span>\n```\n\n### 3、文章阅读量显示\n(1)效果\n![访问量](/assets/article_img/2017/07/read_num.png)\n\n(2)实现\n- 修改`themes\\yilia\\layout\\_partial`文件夹下的`article.ejs`文件\n- 在`<%- partial('post/title', {class_name: 'article-title'}) %>`节点下加入：\n<!-- 显示阅读数 -->\n```\n<% if (!index && post.comments && theme.laibili){ %>\n<br/>\n<a href=\"javascript:void(0);\" style=\"color:gray;font-size:14px;\">\n<span class=\"icon-sort\"></span>\n<span id=\"busuanzi_container_page_pv\" style=\"color:#ef7522;font-size:14px;\">\n          阅读数: <span id=\"busuanzi_value_page_pv\"></span>次 &nbsp;&nbsp;\n</span>\n</a>\n<% } %>\n```\n\n\n\n\n{% blockquote %}\n**本文作者**: William\n**本文链接**: http://www.williamwqq.site/2017/07/27/quick-build-blog/\n**本文参考**: [Lawlite的博客搭建](http://lawlite.me/2017/04/10/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/)\n**版权声明**: 本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0](http://creativecommons.org/licenses/by-nc-sa/3.0/) 许可协议[![Creative Commons License](https://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png)](http://creativecommons.org/licenses/by-nc-sa/3.0) 。转载请注明出处！\n{% endblockquote %}\n\n\n\n\n\n\n\n\n\n","source":"_posts/quick-build-blog.md","raw":"---\nlayout: post\ntitle: hexo+GitHub Pages搭建个人博客\ndate: 2017-07-27 14:50:52\ntags: [hexo, git, node.js]\ntoc: true\n---\n\n## 一、前提\n`在Windows10 X64环境安装操作`\n[Hexo 中文文档](https://hexo.io/zh-cn/docs/commands.html)\n[Hexo Themes列表](https://hexo.io/themes/)\n\n\n\n### 1、安装node.js和git\n- [node.js](https://nodejs.org/en/)\n- [git](https://git-scm.com/downloads)\n\n### 2、node.js是否成功安装\n```\nE:\\www\\blog>node -v\nv8.1.4\n```\n<!--more-->\n### 3、git是否成功安装\n```\n    E:\\www\\blog>git --version\n    git version 2.13.0.windows.1\n```\n如果两者都显示相应的版本号，接下来我们安装hexo\n\n## 二、安装hexo\n\n### 1、全局安装\n```\n    E:\\www\\blog>npm install -g hexo  #-g 表示全局安装\n```\n### 2、hexo是否安装成功\n```\nE:\\www\\blog>hexo -v\nhexo: 3.3.8\nhexo-cli: 1.0.3\nos: Windows_NT 10.0.14393 win32 x64\nhttp_parser: 2.7.0\nnode: 8.1.4\nv8: 5.8.283.41\nuv: 1.12.0\nzlib: 1.2.11\nares: 1.10.1-DEV\nmodules: 57\nopenssl: 1.0.2l\nicu: 59.1\nunicode: 9.0\ncldr: 31.0.1\ntz: 2017b\n```\n如果看到上述版本信息列出则说明hexo安装成功\n\n### 3、初始化hexo\n```\n    E:\\www\\blog>hexo init\n```\n初始化成功后可以到blog文件夹看到如下目录\n{% codeblock %}\n.\n├── _config.yml   //这里是网站的配置信息\n├── package.json  //HEXO项目依赖\n├── scaffolds     //模板文件夹\n|   ├──post.md    //文章模板\n|   ├──draft.md   //\n|   └──page.md\n├── source       //资源文件夹，\n|   ├── _drafts\n|   └── _posts\n└── themes       // 主题文件夹。Hexo会根据主题来生成静态页面\n{% endcodeblock %}\n\n### 4、本地运行\n```\n    E:\\www\\blog>hexo server #开启服务  等价于hexo s\n```\n然后在浏览器输入localhost:4000,会看到如下效果\n![index](/assets/article_img/2017/07/hexo_index.png)\n如果无法访问，可能是端口号占用，更改服务端口号：`hexo s -p 5000`\n\n### 5、常用到的命令\n{% blockquote %}\nhexo init  #执行站点的初始化\nhexo g == hexo generate #生成静态页面。在生成时可以加上-d或--deploy参数在生成后立即部署。生成的静态文件在public文件夹下，没有则会自动建立。\nhexo d == hexo deploy #将 .deploy 目录部署到 gitHub,也就是将public目录下生成的静态文件上传到某个特定的位置，部署时可以加上-g或--generate参数，在部署前先生成一遍静态文件。\nhexo s == hexo server #开启预览访问端口（默认：4000，'ctr+c'关闭server）,在本地 http://localhost:4000 启动一个hexo服务器，可以用来预览hexo站点的效果。\nhexo n == hexo new  #新建一个markdown文件。\nhexo new [layout] <title># [layout]是该文件的类型，取值有post、draft和page三种，分别对应新建文章、草稿、页面。在运行该命令时，会调用scaffolds下的对应模板。\nhexo clean #清理Hexo缓存。该操作会强制Hexo清空已生成的全部静态文件以及Hexo自身的数据库，有时候相当有效（更换主题后建议运行）。\nhexo publish <title>#发布某篇草稿（即将该markdown文件转移到_post文件夹下）\n#命令可以复合使用：\nhexo clean && hexo g -d\n{% endblockquote %}\n\n## 三、Github创建仓库\n### 1、注册一个[Github](https://github.com/)账号\n开始创建仓库\n![new_repo](/assets/article_img/2017/07/new_repo.png)\n点击New repository\n![create_new_repo](/assets/article_img/2017/07/create_new_repo.png)\n创建成功后，我们得到远程仓库的地址\n![repo_url](/assets/article_img/2017/07/repo_url.png)\n\n### 2、下载yilia主题的模板\n一个简洁优雅的hexo主题,作者 [litten](https://github.com/litten)\n```\nE:\\www\\blog>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia\n```\n我们发现blog博客的themes文件夹多一个yilia文件，说明我们下载成功\n\n### 3、配置根目录下_config.yml\n```\ntitle: William的博客 #网站标题\nsubtitle: 伟大的人不是生下来就伟大的，而是在成长过程中显示其伟大的。 #子标题\ndescription: Laravel、Linux、Mysql、PHP、Redis、技术爱好者，喜欢追求新鲜的事物，想通过微博来记录学习技术的点滴过程，同时也可以分享自己的故事\nauthor: William #作者\n\n#修改模板landscape改为yilia\ntheme: yilia\n\n#远程仓库地址配置\ndeploy:\n  type: git\n  repo: https://github.com/william-wqq/william-wqq.github.io.git\n  branch: master\n\n#添加代码\njsonContent:\n    meta: false\n    pages: false\n    posts:\n      title: true\n      date: true\n      path: true\n      text: false\n      raw: false\n      content: false\n      slug: false\n      updated: false\n      comments: false\n      link: false\n      permalink: false\n      excerpt: false\n      categories: false\n      tags: true\n\n```\n\n### 4、配置yilia目录下_config.yml\n在blog/sources 创建assets/img目录,放入网站图标favicon.ico和你的头像william.png\n```\n#图标地址\nfavicon: /assets/img/favicon.ico\n\n#头像地址\navatar: /assets/img/william.png\n```\n\n\n### 5、生成静态文件\n```\nE:\\www\\blog>hexo generate #等价于 hexo g\n```\n生成public文件，里面包含生成静态文件\n\n### 6、部署hexo到Github\n```\nE:\\www\\blog>hexo deploy #等价于 hexo d\n```\n如果部署失败\n```\nE:\\www\\blog>hexo deploy\nERROR Deployer not found: git\n```\n输入命令：\n```\nE:\\www\\blog>npm install hexo-deployer-git --save\n```\n解决后重新部署 `INFO  Deploy done: git`,部署成功\n\n### 7、本地运行\n开启服务\n```\nE:\\www\\blog>hexo server #等价于 hexo s\n```\n在浏览器分别出入 http://localhost:4000 和http://william-wqq.github.io 都能看到如下界面\n![index](/assets/article_img/2017/07/deploy_success_index.png)\n一个简单的博客就搭建成功了，它应该还包括`站点访问量统计`、`评论`、`相册`、`视频`等基本的功能，我们有时间在去讨论这些。\n\n\n\n## 四、高级进阶配置\n### 1、安装评论插件\n`多说`在2017-6-1评论系统服务关闭，无法使用\n`网易云跟帖`在2017-8-1关闭服务，也没法使用\n`畅言`需要备案，麻烦。因为我只买了万网的域名，没有购买服务器所以说没法备案\n`disqus`是国外比较受欢迎的评论插件，我们需要翻墙才能使用，so你懂的\n`友言`是一个简单的，用起来很方便，但对于我这种强迫症来说，还是一般般\n于是我们选择了`来必力`\n\n(1)申请账号，[来必力](https://livere.com)在代码管理看到我们需要安装的代码\n![libili](/assets/article_img/2017/07/laibili_code.png)\n\n(2)配置yilia目录下的_config.yml添加\n```\nlaibili: MTAyMC8xxxxxxxxxx\n```\n\n(3)创建文件laibili.ejs\n在`yilia\\layout\\_partial\\post`目录下创建`laibili.ejs`加入代码\n```javascript\n<!-- 来必力City版安装代码 -->\n<div id=\"lv-container\" data-id=\"city\" data-uid=\"<%=theme.laibili%>\">\n\t<script type=\"text/javascript\">\n   (function(d, s) {\n       var j, e = d.getElementsByTagName(s)[0];\n\n       if (typeof LivereTower === 'function') { return; }\n\n       j = d.createElement(s);\n       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';\n       j.async = true;\n\n       e.parentNode.insertBefore(j, e);\n   })(document, 'script');\n\t</script>\n<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>\n</div>\n<!-- City版安装代码已完成 -->\n```\n\n(4)修改文件article.ejs\n- 修改`yilia\\layout\\_partial`目录下的`article.ejs`文件\n- 在`<% if (!index && post.comments){ %>`节点添加代码\n```\n<!--来必力-->\n    <% if (theme.laibili){ %>\n    <%- partial('post/laibili', {\n        key: post.slug,\n        title: post.title,\n        url: config.url+url_for(post.path)\n      }) %>\n    <% } %>\n```\n`hexo generate -d` 在浏览器输入 http://william-wqq.github.io 查看结果\n![libili](/assets/article_img/2017/07/laibili_plug.png)\n\n### 2、网站访问量显示\n(1)效果\n![访问量](/assets/article_img/2017/07/visit_num.png)\n\n(2)实现\n- 使用了`不蒜子`第三方的统计插件，网址：http://ibruce.info/2015/04/04/busuanzi/\n- 在themes\\yilia\\layout\\_partial下的footer.ejs中`<div class=\"footer-right\">`上面加入如下代码即可\n```\n<script async src=\"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\">\n</script>\n<span id=\"busuanzi_container_site_pv\">\n  本站总访问量<span id=\"busuanzi_value_site_pv\"></span>次\n</span>\n<span id=\"busuanzi_container_site_uv\">\n总访客数<span id=\"busuanzi_value_site_uv\"></span>人次\n</span>\n```\n\n### 3、文章阅读量显示\n(1)效果\n![访问量](/assets/article_img/2017/07/read_num.png)\n\n(2)实现\n- 修改`themes\\yilia\\layout\\_partial`文件夹下的`article.ejs`文件\n- 在`<%- partial('post/title', {class_name: 'article-title'}) %>`节点下加入：\n<!-- 显示阅读数 -->\n```\n<% if (!index && post.comments && theme.laibili){ %>\n<br/>\n<a href=\"javascript:void(0);\" style=\"color:gray;font-size:14px;\">\n<span class=\"icon-sort\"></span>\n<span id=\"busuanzi_container_page_pv\" style=\"color:#ef7522;font-size:14px;\">\n          阅读数: <span id=\"busuanzi_value_page_pv\"></span>次 &nbsp;&nbsp;\n</span>\n</a>\n<% } %>\n```\n\n\n\n\n{% blockquote %}\n**本文作者**: William\n**本文链接**: http://www.williamwqq.site/2017/07/27/quick-build-blog/\n**本文参考**: [Lawlite的博客搭建](http://lawlite.me/2017/04/10/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/)\n**版权声明**: 本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 3.0](http://creativecommons.org/licenses/by-nc-sa/3.0/) 许可协议[![Creative Commons License](https://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png)](http://creativecommons.org/licenses/by-nc-sa/3.0) 。转载请注明出处！\n{% endblockquote %}\n\n\n\n\n\n\n\n\n\n","slug":"quick-build-blog","published":1,"updated":"2017-07-31T01:58:40.069Z","comments":1,"photos":[],"link":"","_id":"cj63dx7mg0001zwv3i1zkzcns","content":"<h2 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h2><p><code>在Windows10 X64环境安装操作</code><br><a href=\"https://hexo.io/zh-cn/docs/commands.html\" target=\"_blank\" rel=\"external\">Hexo 中文文档</a><br><a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"external\">Hexo Themes列表</a></p>\n<h3 id=\"1、安装node-js和git\"><a href=\"#1、安装node-js和git\" class=\"headerlink\" title=\"1、安装node.js和git\"></a>1、安装node.js和git</h3><ul>\n<li><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"external\">node.js</a></li>\n<li><a href=\"https://git-scm.com/downloads\" target=\"_blank\" rel=\"external\">git</a></li>\n</ul>\n<h3 id=\"2、node-js是否成功安装\"><a href=\"#2、node-js是否成功安装\" class=\"headerlink\" title=\"2、node.js是否成功安装\"></a>2、node.js是否成功安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;node -v</div><div class=\"line\">v8.1.4</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"3、git是否成功安装\"><a href=\"#3、git是否成功安装\" class=\"headerlink\" title=\"3、git是否成功安装\"></a>3、git是否成功安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;git --version</div><div class=\"line\">git version 2.13.0.windows.1</div></pre></td></tr></table></figure>\n<p>如果两者都显示相应的版本号，接下来我们安装hexo</p>\n<h2 id=\"二、安装hexo\"><a href=\"#二、安装hexo\" class=\"headerlink\" title=\"二、安装hexo\"></a>二、安装hexo</h2><h3 id=\"1、全局安装\"><a href=\"#1、全局安装\" class=\"headerlink\" title=\"1、全局安装\"></a>1、全局安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;npm install -g hexo  #-g 表示全局安装</div></pre></td></tr></table></figure>\n<h3 id=\"2、hexo是否安装成功\"><a href=\"#2、hexo是否安装成功\" class=\"headerlink\" title=\"2、hexo是否安装成功\"></a>2、hexo是否安装成功</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo -v</div><div class=\"line\">hexo: 3.3.8</div><div class=\"line\">hexo-cli: 1.0.3</div><div class=\"line\">os: Windows_NT 10.0.14393 win32 x64</div><div class=\"line\">http_parser: 2.7.0</div><div class=\"line\">node: 8.1.4</div><div class=\"line\">v8: 5.8.283.41</div><div class=\"line\">uv: 1.12.0</div><div class=\"line\">zlib: 1.2.11</div><div class=\"line\">ares: 1.10.1-DEV</div><div class=\"line\">modules: 57</div><div class=\"line\">openssl: 1.0.2l</div><div class=\"line\">icu: 59.1</div><div class=\"line\">unicode: 9.0</div><div class=\"line\">cldr: 31.0.1</div><div class=\"line\">tz: 2017b</div></pre></td></tr></table></figure>\n<p>如果看到上述版本信息列出则说明hexo安装成功</p>\n<h3 id=\"3、初始化hexo\"><a href=\"#3、初始化hexo\" class=\"headerlink\" title=\"3、初始化hexo\"></a>3、初始化hexo</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo init</div></pre></td></tr></table></figure>\n<p>初始化成功后可以到blog文件夹看到如下目录<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">.</div><div class=\"line\">├── _config.yml   //这里是网站的配置信息</div><div class=\"line\">├── package.json  //HEXO项目依赖</div><div class=\"line\">├── scaffolds     //模板文件夹</div><div class=\"line\">|   ├──post.md    //文章模板</div><div class=\"line\">|   ├──draft.md   //</div><div class=\"line\">|   └──page.md</div><div class=\"line\">├── source       //资源文件夹，</div><div class=\"line\">|   ├── _drafts</div><div class=\"line\">|   └── _posts</div><div class=\"line\">└── themes       // 主题文件夹。Hexo会根据主题来生成静态页面</div></pre></td></tr></table></figure></p>\n<h3 id=\"4、本地运行\"><a href=\"#4、本地运行\" class=\"headerlink\" title=\"4、本地运行\"></a>4、本地运行</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo server #开启服务  等价于hexo s</div></pre></td></tr></table></figure>\n<p>然后在浏览器输入localhost:4000,会看到如下效果<br><img src=\"/assets/article_img/2017/07/hexo_index.png\" alt=\"index\"><br>如果无法访问，可能是端口号占用，更改服务端口号：<code>hexo s -p 5000</code></p>\n<h3 id=\"5、常用到的命令\"><a href=\"#5、常用到的命令\" class=\"headerlink\" title=\"5、常用到的命令\"></a>5、常用到的命令</h3><blockquote><p>hexo init  #执行站点的初始化<br>hexo g == hexo generate #生成静态页面。在生成时可以加上-d或–deploy参数在生成后立即部署。生成的静态文件在public文件夹下，没有则会自动建立。<br>hexo d == hexo deploy #将 .deploy 目录部署到 gitHub,也就是将public目录下生成的静态文件上传到某个特定的位置，部署时可以加上-g或–generate参数，在部署前先生成一遍静态文件。<br>hexo s == hexo server #开启预览访问端口（默认：4000，’ctr+c’关闭server）,在本地 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> 启动一个hexo服务器，可以用来预览hexo站点的效果。<br>hexo n == hexo new  #新建一个markdown文件。<br>hexo new [layout] <title># [layout]是该文件的类型，取值有post、draft和page三种，分别对应新建文章、草稿、页面。在运行该命令时，会调用scaffolds下的对应模板。<br>hexo clean #清理Hexo缓存。该操作会强制Hexo清空已生成的全部静态文件以及Hexo自身的数据库，有时候相当有效（更换主题后建议运行）。<br>hexo publish <title>#发布某篇草稿（即将该markdown文件转移到_post文件夹下）</title></title></p>\n<p>#命令可以复合使用：<br>hexo clean &amp;&amp; hexo g -d</p>\n</blockquote>\n<h2 id=\"三、Github创建仓库\"><a href=\"#三、Github创建仓库\" class=\"headerlink\" title=\"三、Github创建仓库\"></a>三、Github创建仓库</h2><h3 id=\"1、注册一个Github账号\"><a href=\"#1、注册一个Github账号\" class=\"headerlink\" title=\"1、注册一个Github账号\"></a>1、注册一个<a href=\"https://github.com/\" target=\"_blank\" rel=\"external\">Github</a>账号</h3><p>开始创建仓库<br><img src=\"/assets/article_img/2017/07/new_repo.png\" alt=\"new_repo\"><br>点击New repository<br><img src=\"/assets/article_img/2017/07/create_new_repo.png\" alt=\"create_new_repo\"><br>创建成功后，我们得到远程仓库的地址<br><img src=\"/assets/article_img/2017/07/repo_url.png\" alt=\"repo_url\"></p>\n<h3 id=\"2、下载yilia主题的模板\"><a href=\"#2、下载yilia主题的模板\" class=\"headerlink\" title=\"2、下载yilia主题的模板\"></a>2、下载yilia主题的模板</h3><p>一个简洁优雅的hexo主题,作者 <a href=\"https://github.com/litten\" target=\"_blank\" rel=\"external\">litten</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</div></pre></td></tr></table></figure></p>\n<p>我们发现blog博客的themes文件夹多一个yilia文件，说明我们下载成功</p>\n<h3 id=\"3、配置根目录下-config-yml\"><a href=\"#3、配置根目录下-config-yml\" class=\"headerlink\" title=\"3、配置根目录下_config.yml\"></a>3、配置根目录下_config.yml</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: William的博客 #网站标题</div><div class=\"line\">subtitle: 伟大的人不是生下来就伟大的，而是在成长过程中显示其伟大的。 #子标题</div><div class=\"line\">description: Laravel、Linux、Mysql、PHP、Redis、技术爱好者，喜欢追求新鲜的事物，想通过微博来记录学习技术的点滴过程，同时也可以分享自己的故事</div><div class=\"line\">author: William #作者</div><div class=\"line\"></div><div class=\"line\">#修改模板landscape改为yilia</div><div class=\"line\">theme: yilia</div><div class=\"line\"></div><div class=\"line\">#远程仓库地址配置</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: https://github.com/william-wqq/william-wqq.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">#添加代码</div><div class=\"line\">jsonContent:</div><div class=\"line\">    meta: false</div><div class=\"line\">    pages: false</div><div class=\"line\">    posts:</div><div class=\"line\">      title: true</div><div class=\"line\">      date: true</div><div class=\"line\">      path: true</div><div class=\"line\">      text: false</div><div class=\"line\">      raw: false</div><div class=\"line\">      content: false</div><div class=\"line\">      slug: false</div><div class=\"line\">      updated: false</div><div class=\"line\">      comments: false</div><div class=\"line\">      link: false</div><div class=\"line\">      permalink: false</div><div class=\"line\">      excerpt: false</div><div class=\"line\">      categories: false</div><div class=\"line\">      tags: true</div></pre></td></tr></table></figure>\n<h3 id=\"4、配置yilia目录下-config-yml\"><a href=\"#4、配置yilia目录下-config-yml\" class=\"headerlink\" title=\"4、配置yilia目录下_config.yml\"></a>4、配置yilia目录下_config.yml</h3><p>在blog/sources 创建assets/img目录,放入网站图标favicon.ico和你的头像william.png<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">#图标地址</div><div class=\"line\">favicon: /assets/img/favicon.ico</div><div class=\"line\"></div><div class=\"line\">#头像地址</div><div class=\"line\">avatar: /assets/img/william.png</div></pre></td></tr></table></figure></p>\n<h3 id=\"5、生成静态文件\"><a href=\"#5、生成静态文件\" class=\"headerlink\" title=\"5、生成静态文件\"></a>5、生成静态文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo generate #等价于 hexo g</div></pre></td></tr></table></figure>\n<p>生成public文件，里面包含生成静态文件</p>\n<h3 id=\"6、部署hexo到Github\"><a href=\"#6、部署hexo到Github\" class=\"headerlink\" title=\"6、部署hexo到Github\"></a>6、部署hexo到Github</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo deploy #等价于 hexo d</div></pre></td></tr></table></figure>\n<p>如果部署失败<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo deploy</div><div class=\"line\">ERROR Deployer not found: git</div></pre></td></tr></table></figure></p>\n<p>输入命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>\n<p>解决后重新部署 <code>INFO  Deploy done: git</code>,部署成功</p>\n<h3 id=\"7、本地运行\"><a href=\"#7、本地运行\" class=\"headerlink\" title=\"7、本地运行\"></a>7、本地运行</h3><p>开启服务<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo server #等价于 hexo s</div></pre></td></tr></table></figure></p>\n<p>在浏览器分别出入 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> 和<a href=\"http://william-wqq.github.io\">http://william-wqq.github.io</a> 都能看到如下界面<br><img src=\"/assets/article_img/2017/07/deploy_success_index.png\" alt=\"index\"><br>一个简单的博客就搭建成功了，它应该还包括<code>站点访问量统计</code>、<code>评论</code>、<code>相册</code>、<code>视频</code>等基本的功能，我们有时间在去讨论这些。</p>\n<h2 id=\"四、高级进阶配置\"><a href=\"#四、高级进阶配置\" class=\"headerlink\" title=\"四、高级进阶配置\"></a>四、高级进阶配置</h2><h3 id=\"1、安装评论插件\"><a href=\"#1、安装评论插件\" class=\"headerlink\" title=\"1、安装评论插件\"></a>1、安装评论插件</h3><p><code>多说</code>在2017-6-1评论系统服务关闭，无法使用<br><code>网易云跟帖</code>在2017-8-1关闭服务，也没法使用<br><code>畅言</code>需要备案，麻烦。因为我只买了万网的域名，没有购买服务器所以说没法备案<br><code>disqus</code>是国外比较受欢迎的评论插件，我们需要翻墙才能使用，so你懂的<br><code>友言</code>是一个简单的，用起来很方便，但对于我这种强迫症来说，还是一般般<br>于是我们选择了<code>来必力</code></p>\n<p>(1)申请账号，<a href=\"https://livere.com\" target=\"_blank\" rel=\"external\">来必力</a>在代码管理看到我们需要安装的代码<br><img src=\"/assets/article_img/2017/07/laibili_code.png\" alt=\"libili\"></p>\n<p>(2)配置yilia目录下的_config.yml添加<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">laibili: MTAyMC8xxxxxxxxxx</div></pre></td></tr></table></figure></p>\n<p>(3)创建文件laibili.ejs<br>在<code>yilia\\layout\\_partial\\post</code>目录下创建<code>laibili.ejs</code>加入代码<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 来必力City版安装代码 --&gt;</div><div class=\"line\">&lt;div id=\"lv-container\" data-id=\"city\" data-uid=\"&lt;%=theme.laibili%&gt;\"&gt;</div><div class=\"line\">\t&lt;script type=\"text/javascript\"&gt;</div><div class=\"line\">   (function(d, s) &#123;</div><div class=\"line\">       var j, e = d.getElementsByTagName(s)[0];</div><div class=\"line\"></div><div class=\"line\">       if (typeof LivereTower === 'function') &#123; return; &#125;</div><div class=\"line\"></div><div class=\"line\">       j = d.createElement(s);</div><div class=\"line\">       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';</div><div class=\"line\">       j.async = true;</div><div class=\"line\"></div><div class=\"line\">       e.parentNode.insertBefore(j, e);</div><div class=\"line\">   &#125;)(document, 'script');</div><div class=\"line\">\t&lt;/script&gt;</div><div class=\"line\">&lt;noscript&gt; 为正常使用来必力评论功能请激活JavaScript&lt;/noscript&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;!-- City版安装代码已完成 --&gt;</div></pre></td></tr></table></figure></p>\n<p>(4)修改文件article.ejs</p>\n<ul>\n<li>修改<code>yilia\\layout\\_partial</code>目录下的<code>article.ejs</code>文件</li>\n<li>在<code>&lt;% if (!index &amp;&amp; post.comments){ %&gt;</code>节点添加代码<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!--来必力--&gt;</div><div class=\"line\">    &lt;% if (theme.laibili)&#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;post/laibili&apos;, &#123;</div><div class=\"line\">        key: post.slug,</div><div class=\"line\">        title: post.title,</div><div class=\"line\">        url: config.url+url_for(post.path)</div><div class=\"line\">      &#125;) %&gt;</div><div class=\"line\">    &lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><code>hexo generate -d</code> 在浏览器输入 <a href=\"http://william-wqq.github.io\">http://william-wqq.github.io</a> 查看结果<br><img src=\"/assets/article_img/2017/07/laibili_plug.png\" alt=\"libili\"></p>\n<h3 id=\"2、网站访问量显示\"><a href=\"#2、网站访问量显示\" class=\"headerlink\" title=\"2、网站访问量显示\"></a>2、网站访问量显示</h3><p>(1)效果<br><img src=\"/assets/article_img/2017/07/visit_num.png\" alt=\"访问量\"></p>\n<p>(2)实现</p>\n<ul>\n<li>使用了<code>不蒜子</code>第三方的统计插件，网址：<a href=\"http://ibruce.info/2015/04/04/busuanzi/\" target=\"_blank\" rel=\"external\">http://ibruce.info/2015/04/04/busuanzi/</a></li>\n<li>在themes\\yilia\\layout_partial下的footer.ejs中<code>&lt;div class=&quot;footer-right&quot;&gt;</code>上面加入如下代码即可<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script async src=&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;</div><div class=\"line\">  本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次</div><div class=\"line\">&lt;/span&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;</div><div class=\"line\">总访客数&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人次</div><div class=\"line\">&lt;/span&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"3、文章阅读量显示\"><a href=\"#3、文章阅读量显示\" class=\"headerlink\" title=\"3、文章阅读量显示\"></a>3、文章阅读量显示</h3><p>(1)效果<br><img src=\"/assets/article_img/2017/07/read_num.png\" alt=\"访问量\"></p>\n<p>(2)实现</p>\n<ul>\n<li>修改<code>themes\\yilia\\layout\\_partial</code>文件夹下的<code>article.ejs</code>文件</li>\n<li>在<code>&lt;%- partial(&#39;post/title&#39;, {class_name: &#39;article-title&#39;}) %&gt;</code>节点下加入：<!-- 显示阅读数 -->\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; theme.laibili)&#123; %&gt;</div><div class=\"line\">&lt;br/&gt;</div><div class=\"line\">&lt;a href=&quot;javascript:void(0);&quot; style=&quot;color:gray;font-size:14px;&quot;&gt;</div><div class=\"line\">&lt;span class=&quot;icon-sort&quot;&gt;&lt;/span&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_page_pv&quot; style=&quot;color:#ef7522;font-size:14px;&quot;&gt;</div><div class=\"line\">          阅读数: &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;次 &amp;nbsp;&amp;nbsp;</div><div class=\"line\">&lt;/span&gt;</div><div class=\"line\">&lt;/a&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote><p><strong>本文作者</strong>: William<br><strong>本文链接</strong>: <a href=\"http://www.williamwqq.site/2017/07/27/quick-build-blog/\" target=\"_blank\" rel=\"external\">http://www.williamwqq.site/2017/07/27/quick-build-blog/</a><br><strong>本文参考</strong>: <a href=\"http://lawlite.me/2017/04/10/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/\" target=\"_blank\" rel=\"external\">Lawlite的博客搭建</a><br><strong>版权声明</strong>: 本博客所有文章除特别声明外，均采用 <a href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\" rel=\"external\">CC BY-NC-SA 3.0</a> 许可协议<a href=\"http://creativecommons.org/licenses/by-nc-sa/3.0\" target=\"_blank\" rel=\"external\"><img src=\"https://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png\" alt=\"Creative Commons License\"></a> 。转载请注明出处！</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h2 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h2><p><code>在Windows10 X64环境安装操作</code><br><a href=\"https://hexo.io/zh-cn/docs/commands.html\" target=\"_blank\" rel=\"external\">Hexo 中文文档</a><br><a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"external\">Hexo Themes列表</a></p>\n<h3 id=\"1、安装node-js和git\"><a href=\"#1、安装node-js和git\" class=\"headerlink\" title=\"1、安装node.js和git\"></a>1、安装node.js和git</h3><ul>\n<li><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"external\">node.js</a></li>\n<li><a href=\"https://git-scm.com/downloads\" target=\"_blank\" rel=\"external\">git</a></li>\n</ul>\n<h3 id=\"2、node-js是否成功安装\"><a href=\"#2、node-js是否成功安装\" class=\"headerlink\" title=\"2、node.js是否成功安装\"></a>2、node.js是否成功安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;node -v</div><div class=\"line\">v8.1.4</div></pre></td></tr></table></figure>","more":"<h3 id=\"3、git是否成功安装\"><a href=\"#3、git是否成功安装\" class=\"headerlink\" title=\"3、git是否成功安装\"></a>3、git是否成功安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;git --version</div><div class=\"line\">git version 2.13.0.windows.1</div></pre></td></tr></table></figure>\n<p>如果两者都显示相应的版本号，接下来我们安装hexo</p>\n<h2 id=\"二、安装hexo\"><a href=\"#二、安装hexo\" class=\"headerlink\" title=\"二、安装hexo\"></a>二、安装hexo</h2><h3 id=\"1、全局安装\"><a href=\"#1、全局安装\" class=\"headerlink\" title=\"1、全局安装\"></a>1、全局安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;npm install -g hexo  #-g 表示全局安装</div></pre></td></tr></table></figure>\n<h3 id=\"2、hexo是否安装成功\"><a href=\"#2、hexo是否安装成功\" class=\"headerlink\" title=\"2、hexo是否安装成功\"></a>2、hexo是否安装成功</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo -v</div><div class=\"line\">hexo: 3.3.8</div><div class=\"line\">hexo-cli: 1.0.3</div><div class=\"line\">os: Windows_NT 10.0.14393 win32 x64</div><div class=\"line\">http_parser: 2.7.0</div><div class=\"line\">node: 8.1.4</div><div class=\"line\">v8: 5.8.283.41</div><div class=\"line\">uv: 1.12.0</div><div class=\"line\">zlib: 1.2.11</div><div class=\"line\">ares: 1.10.1-DEV</div><div class=\"line\">modules: 57</div><div class=\"line\">openssl: 1.0.2l</div><div class=\"line\">icu: 59.1</div><div class=\"line\">unicode: 9.0</div><div class=\"line\">cldr: 31.0.1</div><div class=\"line\">tz: 2017b</div></pre></td></tr></table></figure>\n<p>如果看到上述版本信息列出则说明hexo安装成功</p>\n<h3 id=\"3、初始化hexo\"><a href=\"#3、初始化hexo\" class=\"headerlink\" title=\"3、初始化hexo\"></a>3、初始化hexo</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo init</div></pre></td></tr></table></figure>\n<p>初始化成功后可以到blog文件夹看到如下目录<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">.</div><div class=\"line\">├── _config.yml   //这里是网站的配置信息</div><div class=\"line\">├── package.json  //HEXO项目依赖</div><div class=\"line\">├── scaffolds     //模板文件夹</div><div class=\"line\">|   ├──post.md    //文章模板</div><div class=\"line\">|   ├──draft.md   //</div><div class=\"line\">|   └──page.md</div><div class=\"line\">├── source       //资源文件夹，</div><div class=\"line\">|   ├── _drafts</div><div class=\"line\">|   └── _posts</div><div class=\"line\">└── themes       // 主题文件夹。Hexo会根据主题来生成静态页面</div></pre></td></tr></table></figure></p>\n<h3 id=\"4、本地运行\"><a href=\"#4、本地运行\" class=\"headerlink\" title=\"4、本地运行\"></a>4、本地运行</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo server #开启服务  等价于hexo s</div></pre></td></tr></table></figure>\n<p>然后在浏览器输入localhost:4000,会看到如下效果<br><img src=\"/assets/article_img/2017/07/hexo_index.png\" alt=\"index\"><br>如果无法访问，可能是端口号占用，更改服务端口号：<code>hexo s -p 5000</code></p>\n<h3 id=\"5、常用到的命令\"><a href=\"#5、常用到的命令\" class=\"headerlink\" title=\"5、常用到的命令\"></a>5、常用到的命令</h3><blockquote><p>hexo init  #执行站点的初始化<br>hexo g == hexo generate #生成静态页面。在生成时可以加上-d或–deploy参数在生成后立即部署。生成的静态文件在public文件夹下，没有则会自动建立。<br>hexo d == hexo deploy #将 .deploy 目录部署到 gitHub,也就是将public目录下生成的静态文件上传到某个特定的位置，部署时可以加上-g或–generate参数，在部署前先生成一遍静态文件。<br>hexo s == hexo server #开启预览访问端口（默认：4000，’ctr+c’关闭server）,在本地 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> 启动一个hexo服务器，可以用来预览hexo站点的效果。<br>hexo n == hexo new  #新建一个markdown文件。<br>hexo new [layout] <title># [layout]是该文件的类型，取值有post、draft和page三种，分别对应新建文章、草稿、页面。在运行该命令时，会调用scaffolds下的对应模板。<br>hexo clean #清理Hexo缓存。该操作会强制Hexo清空已生成的全部静态文件以及Hexo自身的数据库，有时候相当有效（更换主题后建议运行）。<br>hexo publish <title>#发布某篇草稿（即将该markdown文件转移到_post文件夹下）</title></title></p>\n<p>#命令可以复合使用：<br>hexo clean &amp;&amp; hexo g -d</p>\n</blockquote>\n<h2 id=\"三、Github创建仓库\"><a href=\"#三、Github创建仓库\" class=\"headerlink\" title=\"三、Github创建仓库\"></a>三、Github创建仓库</h2><h3 id=\"1、注册一个Github账号\"><a href=\"#1、注册一个Github账号\" class=\"headerlink\" title=\"1、注册一个Github账号\"></a>1、注册一个<a href=\"https://github.com/\" target=\"_blank\" rel=\"external\">Github</a>账号</h3><p>开始创建仓库<br><img src=\"/assets/article_img/2017/07/new_repo.png\" alt=\"new_repo\"><br>点击New repository<br><img src=\"/assets/article_img/2017/07/create_new_repo.png\" alt=\"create_new_repo\"><br>创建成功后，我们得到远程仓库的地址<br><img src=\"/assets/article_img/2017/07/repo_url.png\" alt=\"repo_url\"></p>\n<h3 id=\"2、下载yilia主题的模板\"><a href=\"#2、下载yilia主题的模板\" class=\"headerlink\" title=\"2、下载yilia主题的模板\"></a>2、下载yilia主题的模板</h3><p>一个简洁优雅的hexo主题,作者 <a href=\"https://github.com/litten\" target=\"_blank\" rel=\"external\">litten</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</div></pre></td></tr></table></figure></p>\n<p>我们发现blog博客的themes文件夹多一个yilia文件，说明我们下载成功</p>\n<h3 id=\"3、配置根目录下-config-yml\"><a href=\"#3、配置根目录下-config-yml\" class=\"headerlink\" title=\"3、配置根目录下_config.yml\"></a>3、配置根目录下_config.yml</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: William的博客 #网站标题</div><div class=\"line\">subtitle: 伟大的人不是生下来就伟大的，而是在成长过程中显示其伟大的。 #子标题</div><div class=\"line\">description: Laravel、Linux、Mysql、PHP、Redis、技术爱好者，喜欢追求新鲜的事物，想通过微博来记录学习技术的点滴过程，同时也可以分享自己的故事</div><div class=\"line\">author: William #作者</div><div class=\"line\"></div><div class=\"line\">#修改模板landscape改为yilia</div><div class=\"line\">theme: yilia</div><div class=\"line\"></div><div class=\"line\">#远程仓库地址配置</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: https://github.com/william-wqq/william-wqq.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">#添加代码</div><div class=\"line\">jsonContent:</div><div class=\"line\">    meta: false</div><div class=\"line\">    pages: false</div><div class=\"line\">    posts:</div><div class=\"line\">      title: true</div><div class=\"line\">      date: true</div><div class=\"line\">      path: true</div><div class=\"line\">      text: false</div><div class=\"line\">      raw: false</div><div class=\"line\">      content: false</div><div class=\"line\">      slug: false</div><div class=\"line\">      updated: false</div><div class=\"line\">      comments: false</div><div class=\"line\">      link: false</div><div class=\"line\">      permalink: false</div><div class=\"line\">      excerpt: false</div><div class=\"line\">      categories: false</div><div class=\"line\">      tags: true</div></pre></td></tr></table></figure>\n<h3 id=\"4、配置yilia目录下-config-yml\"><a href=\"#4、配置yilia目录下-config-yml\" class=\"headerlink\" title=\"4、配置yilia目录下_config.yml\"></a>4、配置yilia目录下_config.yml</h3><p>在blog/sources 创建assets/img目录,放入网站图标favicon.ico和你的头像william.png<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">#图标地址</div><div class=\"line\">favicon: /assets/img/favicon.ico</div><div class=\"line\"></div><div class=\"line\">#头像地址</div><div class=\"line\">avatar: /assets/img/william.png</div></pre></td></tr></table></figure></p>\n<h3 id=\"5、生成静态文件\"><a href=\"#5、生成静态文件\" class=\"headerlink\" title=\"5、生成静态文件\"></a>5、生成静态文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo generate #等价于 hexo g</div></pre></td></tr></table></figure>\n<p>生成public文件，里面包含生成静态文件</p>\n<h3 id=\"6、部署hexo到Github\"><a href=\"#6、部署hexo到Github\" class=\"headerlink\" title=\"6、部署hexo到Github\"></a>6、部署hexo到Github</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo deploy #等价于 hexo d</div></pre></td></tr></table></figure>\n<p>如果部署失败<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo deploy</div><div class=\"line\">ERROR Deployer not found: git</div></pre></td></tr></table></figure></p>\n<p>输入命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>\n<p>解决后重新部署 <code>INFO  Deploy done: git</code>,部署成功</p>\n<h3 id=\"7、本地运行\"><a href=\"#7、本地运行\" class=\"headerlink\" title=\"7、本地运行\"></a>7、本地运行</h3><p>开启服务<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">E:\\www\\blog&gt;hexo server #等价于 hexo s</div></pre></td></tr></table></figure></p>\n<p>在浏览器分别出入 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> 和<a href=\"http://william-wqq.github.io\">http://william-wqq.github.io</a> 都能看到如下界面<br><img src=\"/assets/article_img/2017/07/deploy_success_index.png\" alt=\"index\"><br>一个简单的博客就搭建成功了，它应该还包括<code>站点访问量统计</code>、<code>评论</code>、<code>相册</code>、<code>视频</code>等基本的功能，我们有时间在去讨论这些。</p>\n<h2 id=\"四、高级进阶配置\"><a href=\"#四、高级进阶配置\" class=\"headerlink\" title=\"四、高级进阶配置\"></a>四、高级进阶配置</h2><h3 id=\"1、安装评论插件\"><a href=\"#1、安装评论插件\" class=\"headerlink\" title=\"1、安装评论插件\"></a>1、安装评论插件</h3><p><code>多说</code>在2017-6-1评论系统服务关闭，无法使用<br><code>网易云跟帖</code>在2017-8-1关闭服务，也没法使用<br><code>畅言</code>需要备案，麻烦。因为我只买了万网的域名，没有购买服务器所以说没法备案<br><code>disqus</code>是国外比较受欢迎的评论插件，我们需要翻墙才能使用，so你懂的<br><code>友言</code>是一个简单的，用起来很方便，但对于我这种强迫症来说，还是一般般<br>于是我们选择了<code>来必力</code></p>\n<p>(1)申请账号，<a href=\"https://livere.com\" target=\"_blank\" rel=\"external\">来必力</a>在代码管理看到我们需要安装的代码<br><img src=\"/assets/article_img/2017/07/laibili_code.png\" alt=\"libili\"></p>\n<p>(2)配置yilia目录下的_config.yml添加<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">laibili: MTAyMC8xxxxxxxxxx</div></pre></td></tr></table></figure></p>\n<p>(3)创建文件laibili.ejs<br>在<code>yilia\\layout\\_partial\\post</code>目录下创建<code>laibili.ejs</code>加入代码<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 来必力City版安装代码 --&gt;</div><div class=\"line\">&lt;div id=\"lv-container\" data-id=\"city\" data-uid=\"&lt;%=theme.laibili%&gt;\"&gt;</div><div class=\"line\">\t&lt;script type=\"text/javascript\"&gt;</div><div class=\"line\">   (function(d, s) &#123;</div><div class=\"line\">       var j, e = d.getElementsByTagName(s)[0];</div><div class=\"line\"></div><div class=\"line\">       if (typeof LivereTower === 'function') &#123; return; &#125;</div><div class=\"line\"></div><div class=\"line\">       j = d.createElement(s);</div><div class=\"line\">       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';</div><div class=\"line\">       j.async = true;</div><div class=\"line\"></div><div class=\"line\">       e.parentNode.insertBefore(j, e);</div><div class=\"line\">   &#125;)(document, 'script');</div><div class=\"line\">\t&lt;/script&gt;</div><div class=\"line\">&lt;noscript&gt; 为正常使用来必力评论功能请激活JavaScript&lt;/noscript&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;!-- City版安装代码已完成 --&gt;</div></pre></td></tr></table></figure></p>\n<p>(4)修改文件article.ejs</p>\n<ul>\n<li>修改<code>yilia\\layout\\_partial</code>目录下的<code>article.ejs</code>文件</li>\n<li>在<code>&lt;% if (!index &amp;&amp; post.comments){ %&gt;</code>节点添加代码<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!--来必力--&gt;</div><div class=\"line\">    &lt;% if (theme.laibili)&#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;post/laibili&apos;, &#123;</div><div class=\"line\">        key: post.slug,</div><div class=\"line\">        title: post.title,</div><div class=\"line\">        url: config.url+url_for(post.path)</div><div class=\"line\">      &#125;) %&gt;</div><div class=\"line\">    &lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><code>hexo generate -d</code> 在浏览器输入 <a href=\"http://william-wqq.github.io\">http://william-wqq.github.io</a> 查看结果<br><img src=\"/assets/article_img/2017/07/laibili_plug.png\" alt=\"libili\"></p>\n<h3 id=\"2、网站访问量显示\"><a href=\"#2、网站访问量显示\" class=\"headerlink\" title=\"2、网站访问量显示\"></a>2、网站访问量显示</h3><p>(1)效果<br><img src=\"/assets/article_img/2017/07/visit_num.png\" alt=\"访问量\"></p>\n<p>(2)实现</p>\n<ul>\n<li>使用了<code>不蒜子</code>第三方的统计插件，网址：<a href=\"http://ibruce.info/2015/04/04/busuanzi/\" target=\"_blank\" rel=\"external\">http://ibruce.info/2015/04/04/busuanzi/</a></li>\n<li>在themes\\yilia\\layout_partial下的footer.ejs中<code>&lt;div class=&quot;footer-right&quot;&gt;</code>上面加入如下代码即可<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script async src=&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;</div><div class=\"line\">  本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次</div><div class=\"line\">&lt;/span&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;</div><div class=\"line\">总访客数&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人次</div><div class=\"line\">&lt;/span&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"3、文章阅读量显示\"><a href=\"#3、文章阅读量显示\" class=\"headerlink\" title=\"3、文章阅读量显示\"></a>3、文章阅读量显示</h3><p>(1)效果<br><img src=\"/assets/article_img/2017/07/read_num.png\" alt=\"访问量\"></p>\n<p>(2)实现</p>\n<ul>\n<li>修改<code>themes\\yilia\\layout\\_partial</code>文件夹下的<code>article.ejs</code>文件</li>\n<li>在<code>&lt;%- partial(&#39;post/title&#39;, {class_name: &#39;article-title&#39;}) %&gt;</code>节点下加入：<!-- 显示阅读数 -->\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; theme.laibili)&#123; %&gt;</div><div class=\"line\">&lt;br/&gt;</div><div class=\"line\">&lt;a href=&quot;javascript:void(0);&quot; style=&quot;color:gray;font-size:14px;&quot;&gt;</div><div class=\"line\">&lt;span class=&quot;icon-sort&quot;&gt;&lt;/span&gt;</div><div class=\"line\">&lt;span id=&quot;busuanzi_container_page_pv&quot; style=&quot;color:#ef7522;font-size:14px;&quot;&gt;</div><div class=\"line\">          阅读数: &lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/span&gt;次 &amp;nbsp;&amp;nbsp;</div><div class=\"line\">&lt;/span&gt;</div><div class=\"line\">&lt;/a&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote><p><strong>本文作者</strong>: William<br><strong>本文链接</strong>: <a href=\"http://www.williamwqq.site/2017/07/27/quick-build-blog/\" target=\"_blank\" rel=\"external\">http://www.williamwqq.site/2017/07/27/quick-build-blog/</a><br><strong>本文参考</strong>: <a href=\"http://lawlite.me/2017/04/10/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/\" target=\"_blank\" rel=\"external\">Lawlite的博客搭建</a><br><strong>版权声明</strong>: 本博客所有文章除特别声明外，均采用 <a href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\" target=\"_blank\" rel=\"external\">CC BY-NC-SA 3.0</a> 许可协议<a href=\"http://creativecommons.org/licenses/by-nc-sa/3.0\" target=\"_blank\" rel=\"external\"><img src=\"https://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png\" alt=\"Creative Commons License\"></a> 。转载请注明出处！</p>\n</blockquote>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cj63dx7mg0001zwv3i1zkzcns","tag_id":"cj63dx7mj0003zwv3bu5cvs7f","_id":"cj63dx7ne000czwv3b74933gq"},{"post_id":"cj63dx7mg0001zwv3i1zkzcns","tag_id":"cj63dx7my0007zwv3xjwjuimc","_id":"cj63dx7ne000dzwv3oupfcuub"},{"post_id":"cj63dx7mg0001zwv3i1zkzcns","tag_id":"cj63dx7my000azwv30n1k2azn","_id":"cj63dx7ne000ezwv309fnu4jh"}],"Tag":[{"name":"hexo","_id":"cj63dx7mj0003zwv3bu5cvs7f"},{"name":"git","_id":"cj63dx7my0007zwv3xjwjuimc"},{"name":"node.js","_id":"cj63dx7my000azwv30n1k2azn"}]}}